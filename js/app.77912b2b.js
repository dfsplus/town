(function(e){function t(t){for(var s,i,o=t[0],c=t[1],u=t[2],d=0,f=[];d<o.length;d++)i=o[d],Object.prototype.hasOwnProperty.call(a,i)&&a[i]&&f.push(a[i][0]),a[i]=0;for(s in c)Object.prototype.hasOwnProperty.call(c,s)&&(e[s]=c[s]);l&&l(t);while(f.length)f.shift()();return r.push.apply(r,u||[]),n()}function n(){for(var e,t=0;t<r.length;t++){for(var n=r[t],s=!0,o=1;o<n.length;o++){var c=n[o];0!==a[c]&&(s=!1)}s&&(r.splice(t--,1),e=i(i.s=n[0]))}return e}var s={},a={app:0},r=[];function i(t){if(s[t])return s[t].exports;var n=s[t]={i:t,l:!1,exports:{}};return e[t].call(n.exports,n,n.exports,i),n.l=!0,n.exports}i.m=e,i.c=s,i.d=function(e,t,n){i.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:n})},i.r=function(e){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},i.t=function(e,t){if(1&t&&(e=i(e)),8&t)return e;if(4&t&&"object"===typeof e&&e&&e.__esModule)return e;var n=Object.create(null);if(i.r(n),Object.defineProperty(n,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var s in e)i.d(n,s,function(t){return e[t]}.bind(null,s));return n},i.n=function(e){var t=e&&e.__esModule?function(){return e["default"]}:function(){return e};return i.d(t,"a",t),t},i.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},i.p="/town/";var o=window["webpackJsonp"]=window["webpackJsonp"]||[],c=o.push.bind(o);o.push=t,o=o.slice();for(var u=0;u<o.length;u++)t(o[u]);var l=c;r.push([0,"chunk-vendors"]),n()})({0:function(e,t,n){e.exports=n("56d7")},1:function(e,t){},10:function(e,t){},11:function(e,t){},12:function(e,t){},13:function(e,t){},14:function(e,t){},15:function(e,t){},16:function(e,t){},17:function(e,t){},18:function(e,t){},2:function(e,t){},3:function(e,t){},"365c":function(e,t,n){"use strict";n.r(t);n("4160"),n("159b"),n("d3b7"),n("ddb0");var s=n("9f19");e={};s.keys().forEach((function(t){"./index.js"!==t&&"./axios.js"!==t&&Object.assign(e,s(t))})),t["default"]=e},4:function(e,t){},4360:function(e,t,n){"use strict";var s=n("2b0e"),a=n("2f62"),r=(n("e25e"),n("a9e3"),{state:{language:localStorage.getItem("language")||"en",theme:localStorage.getItem("theme")||"theme-278EDA",nodeChecked:localStorage.getItem("nodeChecked")?JSON.parse(localStorage.getItem("nodeChecked")):{eos:{},timer:""},slipPoint:localStorage.getItem("slipPoint")?parseInt(localStorage.getItem("slipPoint")):1,rSwitch:!localStorage.getItem("rSwitch")||JSON.parse(localStorage.getItem("rSwitch")),minScreen:!1,accInfo:{avatar:"https://cdn.jsdelivr.net/gh/defis-net/material2/coin/tagtokenmain-tag.png",cover:"https://cdn.jsdelivr.net/gh/defis-net/material/accBanner/banner1.png",desc:"",nick:"",sex:2},account:{},accFollow:[],freeCpu:!!localStorage.getItem("freeCpu")&&JSON.parse(localStorage.getItem("freeCpu")),vip:{state:!1,dbc:0,pdd:0,sum:0}},mutations:{SET_FREECPU:function(e,t){e.freeCpu=t,localStorage.setItem("freeCpu",JSON.stringify(t))},SET_ACCINFO:function(e,t){e.accInfo=t},SET_MINSCREEN:function(e,t){e.minScreen=t},SET_LANGUAGE:function(e,t){e.language=t,localStorage.setItem("language",t)},SET_THEME:function(e,t){e.theme=t,localStorage.setItem("theme",t)},SET_NODECHECKED:function(e,t){e.nodeChecked=t,localStorage.setItem("nodeChecked",JSON.stringify(t))},SET_SLIPPOINT:function(e,t){e.slipPoint=t,localStorage.setItem("slipPoint",JSON.stringify(t))},SET_rSwitch:function(e,t){e.rSwitch=t,localStorage.setItem("rSwitch",JSON.stringify(t))},SET_ACCOUNT:function(e,t){e.account=t},SET_ACCFOLLOW:function(e,t){e.accFollow=t},SET_VIP:function(e,t){e.vip=t}},actions:{setFreeCpu:function(e,t){var n=e.commit;n("SET_FREECPU",t)},setAccInfo:function(e,t){var n=e.commit;n("SET_ACCINFO",t)},setMinScreen:function(e,t){var n=e.commit;n("SET_MINSCREEN",t)},setLanguage:function(e,t){var n=e.commit;n("SET_LANGUAGE",t)},setTheme:function(e,t){var n=e.commit;n("SET_THEME",t)},setNodeChecked:function(e,t){var n=e.commit;n("SET_NODECHECKED",t)},setSlipPoint:function(e,t){var n=e.commit;n("SET_SLIPPOINT",Number(t))},setRSwitch:function(e,t){var n=e.commit;n("SET_rSwitch",t)},setAccount:function(e,t){var n=e.commit;n("SET_ACCOUNT",t)},setAccFollow:function(e,t){var n=e.commit;n("SET_ACCFOLLOW",t)},setVip:function(e,t){var n=e.commit;n("SET_VIP",t)}}}),i=r,o={state:{baseConfig:{node:{area:"production",protocol:"https",host:"eospush.tokenpocket.pro",port:"443",url:"https://eospush.tokenpocket.pro",chainId:"aca376f206b8fc25a6ed44dbdc66547c36c6c33e3a119ffbeaef943642f0e906"}},blockBrowser:{eos:{tx:"https://bloks.io/transaction/",account:"https://bloks.io/account/",token:"https://bloks.io/tokens/"}},testConfig:{node:{area:"test",protocol:"https",host:"api.testnet.eos.io",port:"443",url:"https://api.testnet.eos.io/",chainId:"cf057bbfb72640471fd910bcb67639c22df9f92470936cddc1ade0e2f2e7dc4f"},toAccountSwap:"jinswap11112",toAccountJin:" jinbankoneo2",toAccountByHyk:"jintokensell",oracle:"jinoracle113",hykContranct:"",bonusAccount:"jindaojindao",baseCoin:"EOS",baseCoinContract:"eosio.token",teamFunds:"jinteamfunds",nodeMiner:"tagtokenmine",nodeToken:"tagtokentest",nodecoin:"tagissuetest",fundation:"dfsfundatest",lpPools:"tageosmining",swap:"defisswapcnt",pddex:"pddex.dfs",box:"swap.defi"},devConfig:{node:{area:"production",protocol:"https",host:"eos.blockeden.cn",port:"443",url:"https://eos.blockeden.cn",chainId:"aca376f206b8fc25a6ed44dbdc66547c36c6c33e3a119ffbeaef943642f0e906"},toAccountSwap:"defisswapcnt",toAccountJin:"bankofusddv1",toAccountByHyk:"jintokensell",hykContranct:"jindaotokens",bonusAccount:"jindaojindao",oracle:"jinoraclesv1",baseCoin:"EOS",baseCoinContract:"eosio.token",teamFunds:"jinteamfunds",type:!0,nodeMiner:"tagtokenmine",nodeToken:"tagtokentest",nodecoin:"tagissuetest",fundation:"dfsfundatest",lpPools:"tageosmining",swap:"defisswapcnt",pddex:"pddex.dfs",box:"swap.defi"},proConfig:{node:localStorage.getItem("proConfig")?JSON.parse(localStorage.getItem("proConfig")).node:{area:"production",protocol:"https",host:"eos.blockeden.cn",port:"443",url:"https://eos.blockeden.cn",chainId:"aca376f206b8fc25a6ed44dbdc66547c36c6c33e3a119ffbeaef943642f0e906"},toAccountSwap:"defisswapcnt",toAccountJin:"bankofusddv1",toAccountByHyk:"jintokensell",hykContranct:"jindaotokens",bonusAccount:"jindaojindao",oracle:"jinoraclesv1",baseCoin:"EOS",baseCoinContract:"eosio.token",teamFunds:"jinteamfunds",isNewConfig:!0,nodeMiner:"tagtokenfarm",nodeToken:"tagtokenmain",nodecoin:"tagissuemain",fundation:"dfsfundation",lpPools:"tageosmining",swap:"defisswapcnt",pddex:"pddex.dfs",box:"swap.defi"},damping:localStorage.getItem("damping")||.75,dfsPrice:localStorage.getItem("dfsPrice")||"0",eggargs:localStorage.getItem("eggargs")?JSON.parse(localStorage.getItem("eggargs")):[],feesApr:localStorage.getItem("feesApr")?JSON.parse(localStorage.getItem("feesApr")):[],dsrPools:[{id:1,bonus:"1.05000000000000000",refund_delay_sec:2592e3},{id:2,bonus:"1.10000000000000000",refund_delay_sec:7776e3},{id:3,bonus:"1.20000000000000000",refund_delay_sec:15552e3},{id:4,bonus:"1.50000000000000000",refund_delay_sec:31104e3}],rankInfoV3:localStorage.getItem("rankInfoV3")?JSON.parse(localStorage.getItem("rankInfoV3")):[],rankTrade:localStorage.getItem("rankTrade")?JSON.parse(localStorage.getItem("rankTrade")):[],dfsData:{},poolsBal:"0.0000",poolsTagBal:localStorage.getItem("poolsTagBal")?localStorage.getItem("poolsTagBal"):"1000.00000000",list:[],dbcList:[],yfcBal:"0.00000000",dbcBal:"0.00000000",dampingYfc:1,dampingDbc:1,marketLists:localStorage.getItem("marketLists")?JSON.parse(localStorage.getItem("marketLists")):[],filterMkLists:localStorage.getItem("filterMkLists")?JSON.parse(localStorage.getItem("filterMkLists")):[],tagLpBal:0,nodeLists:[],nodeListsTamp:Number(localStorage.getItem("nodeListsTamp")||0),tradeInfo:{},usdtPrice:6.5,coinPrices:localStorage.getItem("coinPrices")?JSON.parse(localStorage.getItem("coinPrices")):[]},mutations:{SET_CoinPrices:function(e,t){e.coinPrices=t,localStorage.setItem("coinPrices",JSON.stringify(t))},SET_UsdtPrice:function(e,t){e.usdtPrice=t},SET_TagLpBal:function(e,t){e.tagLpBal=t},SET_NodeLists:function(e,t){e.nodeLists=t},SET_NodeListsTamp:function(e,t){e.nodeListsTamp=t},SET_RANKINFOV3:function(e,t){e.rankInfoV3=t},SET_RANKTRADE:function(e,t){e.rankTrade=t},SET_BASECONFIG:function(e,t){e.baseConfig=t},SET_APRS:function(e,t){e.aprs=t,localStorage.setItem("aprs",JSON.stringify(t))},SET_DAMPING:function(e,t){e.damping=t,localStorage.setItem("damping",JSON.stringify(t))},SET_DFSPRICE:function(e,t){e.dfsPrice=t,localStorage.setItem("dfsPrice",t)},SET_EGGARGS:function(e,t){e.eggargs=t,localStorage.setItem("eggargs",JSON.stringify(t))},SET_FEESAPR:function(e,t){e.feesApr=t,localStorage.setItem("feesApr",JSON.stringify(t))},SET_DfsData:function(e,t){e.dfsData=t},SET_PoolsBal:function(e,t){e.poolsBal=t},SET_PoolsTagBal:function(e,t){e.poolsTagBal=t,localStorage.setItem("poolsTagBal",t)},SET_List:function(e,t){e.list=t},SET_YfcBal:function(e,t){e.yfcBal=t},SET_DampingYfc:function(e,t){e.dampingYfc=t},SET_DbcList:function(e,t){e.dbcList=t},SET_DbcBal:function(e,t){e.dbcBal=t},SET_DampingDbc:function(e,t){e.dampingDbc=t},SET_MarketLists:function(e,t){e.marketLists=t,localStorage.setItem("marketLists",JSON.stringify(t))},SET_FilterMkLists:function(e,t){e.filterMkLists=t,localStorage.setItem("filterMkLists",JSON.stringify(t))},SET_TRADEINFO:function(e,t){e.tradeInfo=t}},actions:{setCoinPrices:function(e,t){var n=e.commit;n("SET_CoinPrices",t)},setUsdtPrice:function(e,t){var n=e.commit;n("SET_UsdtPrice",t)},setTagLpBal:function(e,t){var n=e.commit;n("SET_TagLpBal",t)},setNodeLists:function(e,t){var n=e.commit;n("SET_NodeLists",t)},setNodeListsTamp:function(e,t){var n=e.commit;n("SET_NodeListsTamp",t)},setRankInfoV3:function(e,t){var n=e.commit;n("SET_RANKINFOV3",t)},setRankTrade:function(e,t){var n=e.commit;n("SET_RANKTRADE",t)},setBaseConfig:function(e,t){var n=e.commit;n("SET_BASECONFIG",t)},setAprs:function(e,t){var n=e.commit;n("SET_APRS",t)},setDamping:function(e,t){var n=e.commit;n("SET_DAMPING",t)},setDfsPrice:function(e,t){var n=e.commit;n("SET_DFSPRICE",t)},setEggargs:function(e,t){var n=e.commit;n("SET_EGGARGS",t)},setFeesApr:function(e,t){var n=e.commit;n("SET_FEESAPR",t)},setDfsData:function(e,t){var n=e.commit;n("SET_DfsData",t)},setPoolsBal:function(e,t){var n=e.commit;n("SET_PoolsBal",t)},setPoolsTagBal:function(e,t){var n=e.commit;n("SET_PoolsTagBal",t)},setList:function(e,t){var n=e.commit;n("SET_List",t)},setYfcBal:function(e,t){var n=e.commit;n("SET_YfcBal",t)},setDampingYfc:function(e,t){var n=e.commit;n("SET_DampingYfc",t)},setDbcList:function(e,t){var n=e.commit;n("SET_DbcList",t)},setDbcBal:function(e,t){var n=e.commit;n("SET_DbcBal",t)},setDampingDbc:function(e,t){var n=e.commit;n("SET_DampingDbc",t)},setMarketLists:function(e,t){var n=e.commit;n("SET_MarketLists",t)},setFilterMkLists:function(e,t){var n=e.commit;n("SET_FilterMkLists",t)},setTradeInfo:function(e,t){var n=e.commit;n("SET_TRADEINFO",t)}}},c=o,u={sys:function(e){return e.sys},app:function(e){return e.app}},l=u;s["a"].use(a["a"]);t["a"]=new a["a"].Store({modules:{sys:c,app:i},getters:l})},4678:function(e,t,n){var s={"./af":"2bfb","./af.js":"2bfb","./ar":"8e73","./ar-dz":"a356","./ar-dz.js":"a356","./ar-kw":"423e","./ar-kw.js":"423e","./ar-ly":"1cfd","./ar-ly.js":"1cfd","./ar-ma":"0a84","./ar-ma.js":"0a84","./ar-sa":"8230","./ar-sa.js":"8230","./ar-tn":"6d83","./ar-tn.js":"6d83","./ar.js":"8e73","./az":"485c","./az.js":"485c","./be":"1fc1","./be.js":"1fc1","./bg":"84aa","./bg.js":"84aa","./bm":"a7fa","./bm.js":"a7fa","./bn":"9043","./bn-bd":"9686","./bn-bd.js":"9686","./bn.js":"9043","./bo":"d26a","./bo.js":"d26a","./br":"6887","./br.js":"6887","./bs":"2554","./bs.js":"2554","./ca":"d716","./ca.js":"d716","./cs":"3c0d","./cs.js":"3c0d","./cv":"03ec","./cv.js":"03ec","./cy":"9797","./cy.js":"9797","./da":"0f14","./da.js":"0f14","./de":"b469","./de-at":"b3eb","./de-at.js":"b3eb","./de-ch":"bb71","./de-ch.js":"bb71","./de.js":"b469","./dv":"598a","./dv.js":"598a","./el":"8d47","./el.js":"8d47","./en-au":"0e6b","./en-au.js":"0e6b","./en-ca":"3886","./en-ca.js":"3886","./en-gb":"39a6","./en-gb.js":"39a6","./en-ie":"e1d3","./en-ie.js":"e1d3","./en-il":"7333","./en-il.js":"7333","./en-in":"ec2e","./en-in.js":"ec2e","./en-nz":"6f50","./en-nz.js":"6f50","./en-sg":"b7e9","./en-sg.js":"b7e9","./eo":"65db","./eo.js":"65db","./es":"898b","./es-do":"0a3c","./es-do.js":"0a3c","./es-mx":"b5b7","./es-mx.js":"b5b7","./es-us":"55c9","./es-us.js":"55c9","./es.js":"898b","./et":"ec18","./et.js":"ec18","./eu":"0ff2","./eu.js":"0ff2","./fa":"8df4","./fa.js":"8df4","./fi":"81e9","./fi.js":"81e9","./fil":"d69a","./fil.js":"d69a","./fo":"0721","./fo.js":"0721","./fr":"9f26","./fr-ca":"d9f8","./fr-ca.js":"d9f8","./fr-ch":"0e49","./fr-ch.js":"0e49","./fr.js":"9f26","./fy":"7118","./fy.js":"7118","./ga":"5120","./ga.js":"5120","./gd":"f6b4","./gd.js":"f6b4","./gl":"8840","./gl.js":"8840","./gom-deva":"aaf2","./gom-deva.js":"aaf2","./gom-latn":"0caa","./gom-latn.js":"0caa","./gu":"e0c5","./gu.js":"e0c5","./he":"c7aa","./he.js":"c7aa","./hi":"dc4d","./hi.js":"dc4d","./hr":"4ba9","./hr.js":"4ba9","./hu":"5b14","./hu.js":"5b14","./hy-am":"d6b6","./hy-am.js":"d6b6","./id":"5038","./id.js":"5038","./is":"0558","./is.js":"0558","./it":"6e98","./it-ch":"6f12","./it-ch.js":"6f12","./it.js":"6e98","./ja":"079e","./ja.js":"079e","./jv":"b540","./jv.js":"b540","./ka":"201b","./ka.js":"201b","./kk":"6d79","./kk.js":"6d79","./km":"e81d","./km.js":"e81d","./kn":"3e92","./kn.js":"3e92","./ko":"22f8","./ko.js":"22f8","./ku":"2421","./ku.js":"2421","./ky":"9609","./ky.js":"9609","./lb":"440c","./lb.js":"440c","./lo":"b29d","./lo.js":"b29d","./lt":"26f9","./lt.js":"26f9","./lv":"b97c","./lv.js":"b97c","./me":"293c","./me.js":"293c","./mi":"688b","./mi.js":"688b","./mk":"6909","./mk.js":"6909","./ml":"02fb","./ml.js":"02fb","./mn":"958b","./mn.js":"958b","./mr":"39bd","./mr.js":"39bd","./ms":"ebe4","./ms-my":"6403","./ms-my.js":"6403","./ms.js":"ebe4","./mt":"1b45","./mt.js":"1b45","./my":"8689","./my.js":"8689","./nb":"6ce3","./nb.js":"6ce3","./ne":"3a39","./ne.js":"3a39","./nl":"facd","./nl-be":"db29","./nl-be.js":"db29","./nl.js":"facd","./nn":"b84c","./nn.js":"b84c","./oc-lnc":"167b","./oc-lnc.js":"167b","./pa-in":"f3ff","./pa-in.js":"f3ff","./pl":"8d57","./pl.js":"8d57","./pt":"f260","./pt-br":"d2d4","./pt-br.js":"d2d4","./pt.js":"f260","./ro":"972c","./ro.js":"972c","./ru":"957c","./ru.js":"957c","./sd":"6784","./sd.js":"6784","./se":"ffff","./se.js":"ffff","./si":"eda5","./si.js":"eda5","./sk":"7be6","./sk.js":"7be6","./sl":"8155","./sl.js":"8155","./sq":"c8f3","./sq.js":"c8f3","./sr":"cf1e","./sr-cyrl":"13e9","./sr-cyrl.js":"13e9","./sr.js":"cf1e","./ss":"52bd","./ss.js":"52bd","./sv":"5fbd","./sv.js":"5fbd","./sw":"74dc","./sw.js":"74dc","./ta":"3de5","./ta.js":"3de5","./te":"5cbb","./te.js":"5cbb","./tet":"576c","./tet.js":"576c","./tg":"3b1b","./tg.js":"3b1b","./th":"10e8","./th.js":"10e8","./tk":"5aff","./tk.js":"5aff","./tl-ph":"0f38","./tl-ph.js":"0f38","./tlh":"cf75","./tlh.js":"cf75","./tr":"0e81","./tr.js":"0e81","./tzl":"cf51","./tzl.js":"cf51","./tzm":"c109","./tzm-latn":"b53d","./tzm-latn.js":"b53d","./tzm.js":"c109","./ug-cn":"6117","./ug-cn.js":"6117","./uk":"ada2","./uk.js":"ada2","./ur":"5294","./ur.js":"5294","./uz":"2e8c","./uz-latn":"010e","./uz-latn.js":"010e","./uz.js":"2e8c","./vi":"2921","./vi.js":"2921","./x-pseudo":"fd7e","./x-pseudo.js":"fd7e","./yo":"7f33","./yo.js":"7f33","./zh-cn":"5c3a","./zh-cn.js":"5c3a","./zh-hk":"49ab","./zh-hk.js":"49ab","./zh-mo":"3a6c","./zh-mo.js":"3a6c","./zh-tw":"90ea","./zh-tw.js":"90ea"};function a(e){var t=r(e);return n(t)}function r(e){if(!n.o(s,e)){var t=new Error("Cannot find module '"+e+"'");throw t.code="MODULE_NOT_FOUND",t}return s[e]}a.keys=function(){return Object.keys(s)},a.resolve=r,e.exports=a,a.id="4678"},"48a3":function(e,t,n){"use strict";(function(e){var s=n("53ca"),a=n("5530"),r=n("1da1"),i=n("d4ec"),o=n("bee2"),c=(n("96cf"),n("99af"),n("4160"),n("159b"),n("d3b7"),n("ddb0"),n("7db0"),n("b0c0"),n("0d03"),n("25f0"),n("c975"),n("1a2b")),u=n.n(c),l=n("0926"),d=n("4504"),f=n("62e45"),h=n("4360"),p=n("d8ad"),m=n("d08b"),g=function(){function t(){Object(i["a"])(this,t),this.Ecc=null,this.eos_client=null,this.rpc=null,this.signatureProvider=null,this.public_key=null,this.prive_key=null,this.vthis=null}return Object(o["a"])(t,[{key:"scatterInit",value:function(e,t){this.vthis=e,this.Ecc=u.a,this.rpc=new l["JsonRpc"]("https://dfs.tinyhill.dev",{fetch:m}),console.log("init"),t()}},{key:"exportPrivateKey",value:function(){return this.prive_key}},{key:"randomKey",value:function(e){var t=this;this.Ecc.randomKey().then((function(n){var s=n,a=t.Ecc.privateToPublic(s);e(s,a)}))}},{key:"loginOut",value:function(e){this.Ecc=null,this.eos_client=null,this.rpc=null,this.signatureProvider=null,this.public_key=null,this.prive_key=null,this.scatterInit(this.vthis,e)}},{key:"login",value:function(e){e()}},{key:"loginByAcc",value:function(){var e=Object(r["a"])(regeneratorRuntime.mark((function e(t,n){var s,a,r,i,o,c,u,p,m,g,v,b,k=this;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return s=t.account,a=t.pwd,r=this.Ecc.seedPrivate("".concat(s,"-").concat(a)),this.prive_key=r,this.public_key=this.Ecc.privateToPublic(r),this.signatureProvider=new d["JsSignatureProvider"]([r]),this.eos_client=new l["Api"]({rpc:this.rpc,signatureProvider:this.signatureProvider,textDecoder:new TextDecoder,textEncoder:new TextEncoder}),e.prev=7,e.next=10,Object(f["get_account"])(s);case 10:if(i=e.sent,o=i.status,c=i.result,o){e.next=15;break}return e.abrupt("return",n("账户查询失败"));case 15:if(u=!1,p="",m=c.permissions,m.forEach((function(e){if(!u){var t=e.required_auth.keys;t.forEach((function(t){t.key===k.public_key&&(u=!0,p=e.perm_name)}))}})),u){e.next=21;break}return e.abrupt("return",n("账户公钥不匹配"));case 21:g=!1,v=m.find((function(e){return"owner"===e.perm_name}));try{g="dfsacmanager"!==v.required_auth.accounts[0].permission.actor}catch(w){console.log(w)}b={name:s,permissions:p,publicKey:this.public_key,isSelf:g},h["a"].dispatch("setAccount",b),n(null,b),e.next=33;break;case 29:return e.prev=29,e.t0=e["catch"](7),console.log(e.t0),e.abrupt("return",n("账户接口查询失败"));case 33:case"end":return e.stop()}}),e,this,[[7,29]])})));function t(t,n){return e.apply(this,arguments)}return t}()},{key:"regPwd",value:function(e,t){var n=h["a"].state.app.account.name;if(n){var s=this.Ecc.seedPrivate("".concat(n,"-").concat(e));s!==this.prive_key?t("err"):t()}}},{key:"accReg",value:function(){var e=Object(r["a"])(regeneratorRuntime.mark((function e(t,n){var s,a,r,i;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:s=t.account,a=t.pwd,r=this.Ecc.seedPrivate("".concat(s,"-").concat(a)),i=this.Ecc.privateToPublic(r),console.log(r,i),n(null,i);case 6:case"end":return e.stop()}}),e,this)})));function t(t,n){return e.apply(this,arguments)}return t}()},{key:"transact",value:function(e,t){var n=this;Object(r["a"])(regeneratorRuntime.mark((function s(){var a;return regeneratorRuntime.wrap((function(s){while(1)switch(s.prev=s.next){case 0:return s.prev=0,s.next=3,n.eos_client.transact(e,{blocksBehind:3,expireSeconds:120});case 3:a=s.sent,t(null,a),s.next=10;break;case 7:s.prev=7,s.t0=s["catch"](0),n.dealError(s.t0,t);case 10:case"end":return s.stop()}}),s,null,[[0,7]])})))()}},{key:"transfer",value:function(e,t){this.transferSure(e,t)}},{key:"toTransaction",value:function(e,t){p["a"].$emit("busShowComfire",Object.assign({},e,{type:"toTransaction",cb:t}))}},{key:"transferSure",value:function(e,t){var n=h["a"].state.app.account.name,s=h["a"].state.app.account.permissions,a={actions:[{account:e.code,name:"transfer",authorization:[{actor:n,permission:s}],data:{from:n,to:e.toAccount,quantity:e.quantity,memo:e.memo||""}}]};this.toTransaction(a,t)}},{key:"toTransactionSure",value:function(t,n){var s=this;Object(r["a"])(regeneratorRuntime.mark((function r(){var i,o,c,u,l,d,h,p,m,g,v;return regeneratorRuntime.wrap((function(r){while(1)switch(r.prev=r.next){case 0:return r.prev=0,i={blocksBehind:3,expireSeconds:120},o={tx:t,txh:i},r.next=5,Object(f["pushFreeCpu"])(o);case 5:if(c=r.sent,u=c.status,l=c.result,console.log(l,u),u&&l){r.next=12;break}return s.transact(t,n),r.abrupt("return");case 12:if(200!==l.code){r.next=25;break}return h=l.data,r.next=16,s.eos_client.signatureProvider.getAvailableKeys();case 16:return p=r.sent,m=e.from(h.serializedTransaction,"hex"),g={chainId:"aca376f206b8fc25a6ed44dbdc66547c36c6c33e3a119ffbeaef943642f0e906",requiredKeys:p,serializedTransaction:m,abis:[]},r.next=21,s.eos_client.signatureProvider.sign(g);case 21:d=r.sent,d.signatures.unshift(h.signatures[0]),r.next=28;break;case 25:return r.next=27,s.eos_client.transact(t,Object(a["a"])(Object(a["a"])({},i),{},{sign:!0,broadcast:!1}));case 27:d=r.sent;case 28:return r.next=30,s.eos_client.pushSignedTransaction(d);case 30:v=r.sent,console.log(v),n(null,v),r.next=38;break;case 35:r.prev=35,r.t0=r["catch"](0),s.dealFreeCpuError(r.t0,n);case 38:case"end":return r.stop()}}),r,null,[[0,35]])})))()}},{key:"dealFreeCpuError",value:function(e,t){console.log(e.toString());var n=e.toString(),s={code:999,message:"fails!"};-1!==n.indexOf("INSUFFICIENT_OUTPUT_AMOUNT")&&(s={code:3050003,message:"滑点过高"}),t(s,null)}},{key:"dealError",value:function(e,t){console.log(e);var n={code:999,message:"fails!"};try{if("object"===Object(s["a"])(e)&&402===e.code&&(n={code:"402",message:"User rejected the signature request"}),"string"===typeof e){var a=JSON.parse(e);if(3080004===a.error.code&&(n={code:3080004,message:"Insufficient CPU resources"}),3080002===a.error.code&&(n={code:3080002,message:"Insufficient Net resources"}),3080001===a.error.code&&(n={code:3080001,message:"Insufficient RAM resources"}),3050003===a.error.code||3010010===a.error.code){var r=a.error.details;n=-1!==r[0].message.indexOf("INSUFFICIENT_OUTPUT_AMOUNT")?{code:3050003,message:"滑点过高"}:-1!==r[0].message.indexOf("Invalid packed transaction")?{code:402,message:"用户取消"}:{code:a.error.code,message:r[0].message}}}t(n,null)}catch(i){"操作已取消"===e&&(n={code:402,message:"Cancel"}),t(n,null)}}}]),t}(),v=new g;t["a"]=v}).call(this,n("b639").Buffer)},5:function(e,t){},"56d7":function(e,t,n){"use strict";n.r(t);n("e260"),n("e6cf"),n("cca6"),n("a79d");var s=n("2b0e"),a=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"main"},[n("div",{staticClass:"header"},[n("div",[e.logined?n("span",[e._v("账号："+e._s(e.account.name))]):n("van-button",{attrs:{plain:"",type:"info",size:"small"},on:{click:e.handleLogin}},[e._v("登陆")])],1),n("van-button",{attrs:{plain:"",type:"info",size:"mini"},on:{click:e.handleNoPasswordTx}},[e._v("免密交易")]),n("div",[n("van-switch",{attrs:{size:"20px"},on:{change:e.handleFreeCPU},model:{value:e.freeCPU,callback:function(t){e.freeCPU=t},expression:"freeCPU"}}),n("div",{staticClass:"fr"},[e._v("免CPU")])],1)],1),n("div",{staticClass:"header"},[n("div",[e.logined?n("span",[e._v("NFT："+e._s(e.nftCount)+" 个")]):e._e()])]),0!==e.nftCount?n("van-tabs",{attrs:{scrollspy:"",sticky:""},model:{value:e.activeName,callback:function(t){e.activeName=t},expression:"activeName"}},[n("van-tab",{attrs:{title:"农场",name:"farm"}},[n("van-divider",{style:{color:"#1989fa",borderColor:"#1989fa"}}),e._l(e.land,(function(t,s){return n("div",{key:s},[n("h3",[e._v("普通土地：#"+e._s(t.id)+"，等级："+e._s(t.level))]),n("div",{staticClass:"mt flexb"},[n("van-button",{attrs:{plain:"",type:"info",size:"small",disabled:t.autoSwitch},on:{click:function(n){return e.handleHarvest(t)}}},[e._v("收 取")]),0==t.lack?n("van-button",{attrs:{plain:"",type:"info",size:"small",disabled:t.autoSwitch},on:{click:function(n){return e.handleProduce(t)}}},[e._v("种 植")]):n("van-button",{attrs:{plain:"",type:"warning",size:"small",disabled:t.autoSwitch},on:{click:function(n){return e.handleProduce(t)}}},[e._v("种 植")]),n("van-button",{attrs:{plain:"",type:"info",size:"small"},on:{click:function(n){return e.handleCalc(t)}}},[e._v("计 算")]),n("van-icon",{attrs:{name:"bag-o",size:"25"},on:{click:function(t){e.showProduct=!0}}}),n("div",{staticStyle:{margin:"auto 0px"}},[n("van-switch",{attrs:{size:"20px",disabled:null===t.workid},on:{change:function(n){return e.handleSwitchCheck(t)},click:function(n){return e.handleSwitchClick(t)}},model:{value:t.autoSwitch,callback:function(n){e.$set(t,"autoSwitch",n)},expression:"v.autoSwitch"}}),n("div",{staticClass:"fr"},[e._v("自动")])],1)],1),n("van-radio-group",{staticClass:"mt",attrs:{direction:"horizontal"},on:{change:function(n){return e.handleCheckAsset(t)}},model:{value:t.workid,callback:function(n){e.$set(t,"workid",n)},expression:"v.workid"}},[n("van-radio",{attrs:{name:"1"}},[e._v("麦子")]),n("van-radio",{attrs:{name:"2",disabled:t.level<2}},[e._v("玉米")]),n("van-radio",{attrs:{name:"3",disabled:t.level<3}},[e._v("胡萝卜")])],1),n("div",{staticClass:"mt flexs"},[n("div",{staticClass:"num"},[e._v("数量：")]),n("van-stepper",{attrs:{min:"1",max:t.level,integer:""},on:{change:function(n){return e.handleCheckAsset(t)}},model:{value:t.multiple,callback:function(n){e.$set(t,"multiple",n)},expression:"v.multiple"}})],1),n("div",{staticClass:"mt flexs"},[n("div",{staticClass:"num"},[e._v("周期：")]),n("van-stepper",{attrs:{min:"1",max:"12",integer:""},on:{change:function(n){return e.handleCheckAsset(t)}},model:{value:t.round,callback:function(n){e.$set(t,"round",n)},expression:"v.round"}})],1),n("div",{staticClass:"flexs"},[n("div",{staticClass:"mt",staticStyle:{"line-height":"20px"}},[e._v("倒计时：")]),n("van-count-down",{ref:"#"+t.id,refInFor:!0,staticClass:"mt countdown",attrs:{time:t.task.countDown,"auto-start":!1},on:{finish:function(n){return e.handleFinish(t)}}})],1),n("div",{staticClass:"mt",staticStyle:{"line-height":"20px"}},[e._v("完成时间："),n("span",{staticClass:"countdown"},[e._v(e._s(t.task.end_time?t.task.end_time:"无"))])]),n("van-divider",{style:{color:"#1989fa",borderColor:"#1989fa"}})],1)}))],2),n("van-tab",{staticClass:"mytab",attrs:{title:"工厂",name:"factory"}},[n("div",e._l(e.gemfactory,(function(t,s){return n("div",{key:s},[n("h3",[e._v("宝石工厂：#"+e._s(t.id)+"，等级："+e._s(t.level))]),n("div",{staticClass:"mt flexb"},[n("van-button",{attrs:{plain:"",type:"info",size:"small",disabled:t.autoSwitch},on:{click:function(n){return e.handleHarvest(t)}}},[e._v("收 取")]),0==t.lack?n("van-button",{attrs:{plain:"",type:"info",size:"small",disabled:t.autoSwitch},on:{click:function(n){return e.handleMakeGem(t)}}},[e._v("加 工")]):n("van-button",{attrs:{plain:"",type:"warning",size:"small",disabled:t.autoSwitch},on:{click:function(n){return e.handleMakeGem(t)}}},[e._v("加 工")]),n("van-button",{attrs:{plain:"",type:"info",size:"small"},on:{click:function(n){return e.handleGemCalc(t)}}},[e._v("计 算")]),n("van-icon",{attrs:{name:"bag-o",size:"25"},on:{click:function(t){e.showProduct=!0}}}),n("div",{staticStyle:{margin:"auto 0px"}},[n("van-switch",{attrs:{size:"20px",disabled:null===t.workid},on:{change:function(n){return e.handleSwitchCheck(t)},click:function(n){return e.handleSwitchClick(t)}},model:{value:t.autoSwitch,callback:function(n){e.$set(t,"autoSwitch",n)},expression:"v.autoSwitch"}}),n("div",{staticClass:"fr"},[e._v("自 动")])],1)],1),n("van-radio-group",{staticClass:"mt",attrs:{direction:"horizontal"},on:{change:function(n){return e.handleCheckGemAsset(t)}},model:{value:t.workid,callback:function(n){e.$set(t,"workid",n)},expression:"v.workid"}},[n("van-radio",{attrs:{name:"RUBY"}},[e._v("红宝石")]),n("van-radio",{attrs:{name:"BERYL"}},[e._v("绿宝石")]),n("van-radio",{attrs:{name:"TOPAZ"}},[e._v("黄玉")])],1),n("div",{staticClass:"mt flexs"},[n("div",{staticClass:"num"},[e._v("数量：")]),n("van-stepper",{attrs:{min:"1",max:t.level,integer:""},on:{change:function(n){return e.handleCheckGemAsset(t)}},model:{value:t.multiple,callback:function(n){e.$set(t,"multiple",n)},expression:"v.multiple"}})],1),n("div",{staticClass:"mt flexs"},[n("div",{staticClass:"num"},[e._v("周期：")]),n("van-stepper",{attrs:{min:"1",max:"12",integer:""},on:{change:function(n){return e.handleCheckGemAsset(t)}},model:{value:t.round,callback:function(n){e.$set(t,"round",n)},expression:"v.round"}})],1),n("div",{staticClass:"flexs"},[n("div",{staticClass:"mt",staticStyle:{"line-height":"20px"}},[e._v("倒计时：")]),n("van-count-down",{ref:"#"+t.id,refInFor:!0,staticClass:"mt countdown",attrs:{time:t.task.countDown,"auto-start":!1},on:{finish:function(n){return e.handleFinish(t)}}})],1),n("div",{staticClass:"mt",staticStyle:{"line-height":"20px"}},[e._v("完成时间："),n("span",{staticClass:"countdown"},[e._v(e._s(t.task.end_time?t.task.end_time:"无"))])]),n("van-divider",{style:{color:"#1989fa",borderColor:"#1989fa"}})],1)})),0),n("div",e._l(e.feedmill,(function(t,s){return n("div",{key:s},[n("h3",[e._v("饲料厂：#"+e._s(t.id)+"，等级："+e._s(t.level))]),n("div",{staticClass:"mt flexb"},[n("van-button",{attrs:{plain:"",type:"info",size:"small",disabled:t.autoSwitch},on:{click:function(n){return e.handleHarvest(t)}}},[e._v("收取")]),0==t.lack?n("van-button",{attrs:{plain:"",type:"info",size:"small",disabled:t.autoSwitch},on:{click:function(n){return e.handleProduce(t)}}},[e._v("加 工")]):n("van-button",{attrs:{plain:"",type:"warning",size:"small",disabled:t.autoSwitch},on:{click:function(n){return e.handleProduce(t)}}},[e._v("加 工")]),n("van-button",{attrs:{plain:"",type:"info",size:"small"},on:{click:function(n){return e.handleCalc(t)}}},[e._v("计 算")]),n("van-icon",{attrs:{name:"bag-o",size:"25"},on:{click:function(t){e.showProduct=!0}}}),n("div",{staticStyle:{margin:"auto 0px"}},[n("van-switch",{attrs:{size:"20px",disabled:null===t.workid},on:{change:function(n){return e.handleSwitchCheck(t)},click:function(n){return e.handleSwitchClick(t)}},model:{value:t.autoSwitch,callback:function(n){e.$set(t,"autoSwitch",n)},expression:"v.autoSwitch"}}),n("div",{staticClass:"fr"},[e._v("自 动")])],1)],1),n("van-radio-group",{staticClass:"mt",attrs:{direction:"horizontal"},on:{change:function(n){return e.handleCheckAsset(t)}},model:{value:t.workid,callback:function(n){e.$set(t,"workid",n)},expression:"v.workid"}},[n("van-radio",{attrs:{name:"4"}},[e._v("牛饲料")]),n("van-radio",{attrs:{name:"5",disabled:t.level<2}},[e._v("鸡饲料")]),n("van-radio",{attrs:{name:"6",disabled:t.level<3}},[e._v("羊饲料")])],1),n("div",{staticClass:"mt flexs"},[n("div",{staticClass:"num"},[e._v("数量：")]),n("van-stepper",{attrs:{min:"1",max:t.level,integer:""},on:{change:function(n){return e.handleCheckAsset(t)}},model:{value:t.multiple,callback:function(n){e.$set(t,"multiple",n)},expression:"v.multiple"}})],1),n("div",{staticClass:"mt flexs"},[n("div",{staticClass:"num"},[e._v("周期：")]),n("van-stepper",{attrs:{min:"1",max:"12",integer:""},on:{change:function(n){return e.handleCheckAsset(t)}},model:{value:t.round,callback:function(n){e.$set(t,"round",n)},expression:"v.round"}})],1),n("div",{staticClass:"flexs"},[n("div",{staticClass:"mt",staticStyle:{"line-height":"20px"}},[e._v("倒计时：")]),n("van-count-down",{ref:"#"+t.id,refInFor:!0,staticClass:"mt countdown",attrs:{time:t.task.countDown,"auto-start":!1},on:{finish:function(n){return e.handleFinish(t)}}})],1),n("div",{staticClass:"mt",staticStyle:{"line-height":"20px"}},[e._v("完成时间："),n("span",{staticClass:"countdown"},[e._v(e._s(t.task.end_time?t.task.end_time:"无"))])]),n("van-divider",{style:{color:"#1989fa",borderColor:"#1989fa"}})],1)})),0),n("div",e._l(e.bakery,(function(t,s){return n("div",{key:s},[n("h3",[e._v("面包坊：#"+e._s(t.id)+"，等级："+e._s(t.level))]),n("div",{staticClass:"mt flexb"},[n("van-button",{attrs:{plain:"",type:"info",size:"small",disabled:t.autoSwitch},on:{click:function(n){return e.handleHarvest(t)}}},[e._v("收 取")]),0==t.lack?n("van-button",{attrs:{plain:"",type:"info",size:"small",disabled:t.autoSwitch},on:{click:function(n){return e.handleProduce(t)}}},[e._v("加 工")]):n("van-button",{attrs:{plain:"",type:"warning",size:"small",disabled:t.autoSwitch},on:{click:function(n){return e.handleProduce(t)}}},[e._v("加 工")]),n("van-button",{attrs:{plain:"",type:"info",size:"small"},on:{click:function(n){return e.handleCalc(t)}}},[e._v("计 算")]),n("van-icon",{attrs:{name:"bag-o",size:"25"},on:{click:function(t){e.showProduct=!0}}}),n("div",{staticStyle:{margin:"auto 0px"}},[n("van-switch",{attrs:{size:"20px",disabled:null===t.workid},on:{change:function(n){return e.handleSwitchCheck(t)},click:function(n){return e.handleSwitchClick(t)}},model:{value:t.autoSwitch,callback:function(n){e.$set(t,"autoSwitch",n)},expression:"v.autoSwitch"}}),n("div",{staticClass:"fr"},[e._v("自动")])],1)],1),n("van-radio-group",{staticClass:"mt",attrs:{direction:"horizontal"},on:{change:function(n){return e.handleCheckAsset(t)}},model:{value:t.workid,callback:function(n){e.$set(t,"workid",n)},expression:"v.workid"}},[n("van-radio",{attrs:{name:"10"}},[e._v("面包")]),n("van-radio",{attrs:{name:"11",disabled:t.level<2}},[e._v("曲奇")]),n("van-radio",{attrs:{name:"12",disabled:t.level<3}},[e._v("蛋糕")])],1),n("div",{staticClass:"mt flexs"},[n("div",{staticClass:"num"},[e._v("数量：")]),n("van-stepper",{attrs:{min:"1",max:t.level,integer:""},on:{change:function(n){return e.handleCheckAsset(t)}},model:{value:t.multiple,callback:function(n){e.$set(t,"multiple",n)},expression:"v.multiple"}})],1),n("div",{staticClass:"mt flexs"},[n("div",{staticClass:"num"},[e._v("周期：")]),n("van-stepper",{attrs:{min:"1",max:"12",integer:""},on:{change:function(n){return e.handleCheckAsset(t)}},model:{value:t.round,callback:function(n){e.$set(t,"round",n)},expression:"v.round"}})],1),n("div",{staticClass:"flexs"},[n("div",{staticClass:"mt",staticStyle:{"line-height":"20px"}},[e._v("倒计时：")]),n("van-count-down",{ref:"#"+t.id,refInFor:!0,staticClass:"mt countdown",attrs:{time:t.task.countDown,"auto-start":!1},on:{finish:function(n){return e.handleFinish(t)}}})],1),n("div",{staticClass:"mt",staticStyle:{"line-height":"20px"}},[e._v("完成时间："),n("span",{staticClass:"countdown"},[e._v(e._s(t.task.end_time?t.task.end_time:"无"))])]),n("van-divider",{style:{color:"#1989fa",borderColor:"#1989fa"}})],1)})),0)]),n("van-tab",{staticClass:"mytab",attrs:{title:"牧场",name:"animal"}},[n("div",e._l(e.cow,(function(t,s){return n("div",{key:s},[n("h3",[e._v("奶牛：#"+e._s(t.id)+"，等级："+e._s(t.level))]),n("div",{staticClass:"mt flexb"},[n("van-button",{attrs:{plain:"",type:"info",size:"small",disabled:t.autoSwitch},on:{click:function(n){return e.handleHarvest(t)}}},[e._v("收 取")]),0==t.lack?n("van-button",{attrs:{plain:"",type:"info",size:"small",disabled:t.autoSwitch},on:{click:function(n){return e.handleProduce(t)}}},[e._v("喂 养")]):n("van-button",{attrs:{plain:"",type:"warning",size:"small",disabled:t.autoSwitch},on:{click:function(n){return e.handleProduce(t)}}},[e._v("喂 养")]),n("van-button",{attrs:{plain:"",type:"info",size:"small"},on:{click:function(n){return e.handleCalc(t)}}},[e._v("计 算")]),n("van-icon",{attrs:{name:"bag-o",size:"25"},on:{click:function(t){e.showProduct=!0}}}),n("div",{staticStyle:{margin:"auto 0px"}},[n("van-switch",{attrs:{size:"20px",disabled:null===t.workid},on:{change:function(n){return e.handleSwitchCheck(t)},click:function(n){return e.handleSwitchClick(t)}},model:{value:t.autoSwitch,callback:function(n){e.$set(t,"autoSwitch",n)},expression:"v.autoSwitch"}}),n("div",{staticClass:"fr"},[e._v("自动")])],1)],1),n("van-radio-group",{staticClass:"mt",attrs:{direction:"horizontal"},on:{change:function(n){return e.handleCheckAsset(t)}},model:{value:t.workid,callback:function(n){e.$set(t,"workid",n)},expression:"v.workid"}},[n("van-radio",{attrs:{name:"7"}},[e._v("牛奶")])],1),n("div",{staticClass:"mt flexs"},[n("div",{staticClass:"num"},[e._v("数量：")]),n("van-stepper",{attrs:{min:"1",max:t.level,integer:""},on:{change:function(n){return e.handleCheckAsset(t)}},model:{value:t.multiple,callback:function(n){e.$set(t,"multiple",n)},expression:"v.multiple"}})],1),n("div",{staticClass:"mt flexs"},[n("div",{staticClass:"num"},[e._v("周期：")]),n("van-stepper",{attrs:{min:"1",max:"12",integer:""},on:{change:function(n){return e.handleCheckAsset(t)}},model:{value:t.round,callback:function(n){e.$set(t,"round",n)},expression:"v.round"}})],1),n("div",{staticClass:"flexs"},[n("div",{staticClass:"mt",staticStyle:{"line-height":"20px"}},[e._v("倒计时：")]),n("van-count-down",{ref:"#"+t.id,refInFor:!0,staticClass:"mt countdown",attrs:{time:t.task.countDown,"auto-start":!1},on:{finish:function(n){return e.handleFinish(t)}}})],1),n("div",{staticClass:"mt",staticStyle:{"line-height":"20px"}},[e._v("完成时间："),n("span",{staticClass:"countdown"},[e._v(e._s(t.task.end_time?t.task.end_time:"无"))])]),n("van-divider",{style:{color:"#1989fa",borderColor:"#1989fa"}})],1)})),0),n("div",e._l(e.sheep,(function(t,s){return n("div",{key:s},[n("h3",[e._v("绵羊：#"+e._s(t.id)+"，等级："+e._s(t.level))]),n("div",{staticClass:"mt flexb"},[n("van-button",{attrs:{plain:"",type:"info",size:"small",disabled:t.autoSwitch},on:{click:function(n){return e.handleHarvest(t)}}},[e._v("收 取")]),0==t.lack?n("van-button",{attrs:{plain:"",type:"info",size:"small",disabled:t.autoSwitch},on:{click:function(n){return e.handleProduce(t)}}},[e._v("喂 养")]):n("van-button",{attrs:{plain:"",type:"warning",size:"small",disabled:t.autoSwitch},on:{click:function(n){return e.handleProduce(t)}}},[e._v("喂 养")]),n("van-button",{attrs:{plain:"",type:"info",size:"small"},on:{click:function(n){return e.handleCalc(t)}}},[e._v("计 算")]),n("van-icon",{attrs:{name:"bag-o",size:"25"},on:{click:function(t){e.showProduct=!0}}}),n("div",{staticStyle:{margin:"auto 0px"}},[n("van-switch",{attrs:{size:"20px",disabled:null===t.workid},on:{change:function(n){return e.handleSwitchCheck(t)},click:function(n){return e.handleSwitchClick(t)}},model:{value:t.autoSwitch,callback:function(n){e.$set(t,"autoSwitch",n)},expression:"v.autoSwitch"}}),n("div",{staticClass:"fr"},[e._v("自动")])],1)],1),n("van-radio-group",{staticClass:"mt",attrs:{direction:"horizontal"},on:{change:function(n){return e.handleCheckAsset(t)}},model:{value:t.workid,callback:function(n){e.$set(t,"workid",n)},expression:"v.workid"}},[n("van-radio",{attrs:{name:"9"}},[e._v("羊毛")])],1),n("div",{staticClass:"mt flexs"},[n("div",{staticClass:"num"},[e._v("数量：")]),n("van-stepper",{attrs:{min:"1",max:t.level,integer:""},on:{change:function(n){return e.handleCheckAsset(t)}},model:{value:t.multiple,callback:function(n){e.$set(t,"multiple",n)},expression:"v.multiple"}})],1),n("div",{staticClass:"mt flexs"},[n("div",{staticClass:"num"},[e._v("周期：")]),n("van-stepper",{attrs:{min:"1",max:"12",integer:""},on:{change:function(n){return e.handleCheckAsset(t)}},model:{value:t.round,callback:function(n){e.$set(t,"round",n)},expression:"v.round"}})],1),n("div",{staticClass:"flexs"},[n("div",{staticClass:"mt",staticStyle:{"line-height":"20px"}},[e._v("倒计时：")]),n("van-count-down",{ref:"#"+t.id,refInFor:!0,staticClass:"mt countdown",attrs:{time:t.task.countDown,"auto-start":!1},on:{finish:function(n){return e.handleFinish(t)}}})],1),n("div",{staticClass:"mt",staticStyle:{"line-height":"20px"}},[e._v("完成时间："),n("span",{staticClass:"countdown"},[e._v(e._s(t.task.end_time?t.task.end_time:"无"))])]),n("van-divider",{style:{color:"#1989fa",borderColor:"#1989fa"}})],1)})),0),n("div",e._l(e.chicken,(function(t,s){return n("div",{key:s},[n("h3",[e._v("鸡：#"+e._s(t.id)+"，等级："+e._s(t.level))]),n("div",{staticClass:"mt flexb"},[n("van-button",{attrs:{plain:"",type:"info",size:"small",disabled:t.autoSwitch},on:{click:function(n){return e.handleHarvest(t)}}},[e._v("收 取")]),0==t.lack?n("van-button",{attrs:{plain:"",type:"info",size:"small",disabled:t.autoSwitch},on:{click:function(n){return e.handleProduce(t)}}},[e._v("喂 养")]):n("van-button",{attrs:{plain:"",type:"warning",size:"small",disabled:t.autoSwitch},on:{click:function(n){return e.handleProduce(t)}}},[e._v("喂 养")]),n("van-button",{attrs:{plain:"",type:"info",size:"small"},on:{click:function(n){return e.handleCalc(t)}}},[e._v("计 算")]),n("van-icon",{attrs:{name:"bag-o",size:"25"},on:{click:function(t){e.showProduct=!0}}}),n("div",{staticStyle:{margin:"auto 0px"}},[n("van-switch",{attrs:{size:"20px",disabled:null===t.workid},on:{change:function(n){return e.handleSwitchCheck(t)},click:function(n){return e.handleSwitchClick(t)}},model:{value:t.autoSwitch,callback:function(n){e.$set(t,"autoSwitch",n)},expression:"v.autoSwitch"}}),n("div",{staticClass:"fr"},[e._v("自动")])],1)],1),n("van-radio-group",{staticClass:"mt",attrs:{direction:"horizontal"},on:{change:function(n){return e.handleCheckAsset(t)}},model:{value:t.workid,callback:function(n){e.$set(t,"workid",n)},expression:"v.workid"}},[n("van-radio",{attrs:{name:"8"}},[e._v("鸡蛋")])],1),n("div",{staticClass:"mt flexs"},[n("div",{staticClass:"num"},[e._v("数量：")]),n("van-stepper",{attrs:{min:"1",max:t.level,integer:""},on:{change:function(n){return e.handleCheckAsset(t)}},model:{value:t.multiple,callback:function(n){e.$set(t,"multiple",n)},expression:"v.multiple"}})],1),n("div",{staticClass:"mt flexs"},[n("div",{staticClass:"num"},[e._v("周期：")]),n("van-stepper",{attrs:{min:"1",max:"12",integer:""},on:{change:function(n){return e.handleCheckAsset(t)}},model:{value:t.round,callback:function(n){e.$set(t,"round",n)},expression:"v.round"}})],1),n("div",{staticClass:"flexs"},[n("div",{staticClass:"mt",staticStyle:{"line-height":"20px"}},[e._v("倒计时：")]),n("van-count-down",{ref:"#"+t.id,refInFor:!0,staticClass:"mt countdown",attrs:{time:t.task.countDown,"auto-start":!1},on:{finish:function(n){return e.handleFinish(t)}}})],1),n("div",{staticClass:"mt",staticStyle:{"line-height":"20px"}},[e._v("完成时间："),n("span",{staticClass:"countdown"},[e._v(e._s(t.task.end_time?t.task.end_time:"无"))])]),n("van-divider",{style:{color:"#1989fa",borderColor:"#1989fa"}})],1)})),0)]),n("van-tab",{staticClass:"mytab",attrs:{title:"订单",name:"order"}},[n("div",e._l(e.orders,(function(t,s){return n("div",{key:s},[n("h3",[e._v(e._s(t.id+". ")+e._s(e.orderNames[s])+"："+e._s(parseInt(e.orderNums[s]))+"/10，收入："+e._s(t.pay))]),n("div",{staticClass:"mt flexb"},[0==t.lack?n("van-button",{attrs:{plain:"",type:"info",size:"small",disabled:t.autoSwitch},on:{click:function(n){return e.handleDelivery(t)}}},[e._v("发 送")]):n("van-button",{attrs:{plain:"",type:"warning",size:"small",disabled:t.autoSwitch},on:{click:function(n){return e.handleDelivery(t)}}},[e._v("发 送")]),n("van-icon",{attrs:{name:"bag-o",size:"25"},on:{click:function(t){e.showProduct=!0}}}),n("div",{staticStyle:{margin:"auto 0px"}},[n("van-switch",{attrs:{size:"20px"},on:{change:function(n){return e.handleSwitchCheck2(t)}},model:{value:t.autoSwitch,callback:function(n){e.$set(t,"autoSwitch",n)},expression:"v.autoSwitch"}}),n("div",{staticClass:"fr"},[e._v("自动")])],1)],1),n("div",{staticClass:"flexs"},[n("div",{staticClass:"mt",staticStyle:{"line-height":"20px"}},[e._v("倒计时：")]),n("van-count-down",{ref:"O"+t.id,refInFor:!0,staticClass:"mt countdown",attrs:{time:t.order.countDown,"auto-start":!1},on:{finish:function(n){return e.handleFinish2(t)}}})],1),n("div",{staticClass:"mt",staticStyle:{"line-height":"20px"}},[e._v("完成时间："),n("span",{staticClass:"countdown"},[e._v(e._s(t.order.countDown?t.order.end_time:"无"))])]),n("van-divider",{style:{color:"#1989fa",borderColor:"#1989fa"}})],1)})),0)]),n("van-tab",{staticClass:"mytab",attrs:{title:"日志",name:"log"}},[n("div",[n("h3",[e._v("日志：")]),e._l(e.logMsg,(function(t,s){return n("div",{key:s},[e._v(" "+e._s(s)+". "+e._s(t)+" ")])}))],2)])],1):e._e(),n("van-popup",{attrs:{position:"bottom"},model:{value:e.showProduct,callback:function(t){e.showProduct=t},expression:"showProduct"}},[n("div",{staticClass:"flexa",staticStyle:{margin:"10px"}},[n("div",[n("div",[e._v("麦子："+e._s(parseInt(e.assets.WHEAT)||"0"))]),n("div",[e._v("玉米："+e._s(parseInt(e.assets.CORN)||"0"))]),n("div",[e._v("胡萝卜："+e._s(parseInt(e.assets.CARROT)||"0"))]),n("div",[e._v("牛饲料："+e._s(parseInt(e.assets.COWFOOD)||"0"))]),n("div",[e._v("鸡饲料："+e._s(parseInt(e.assets.CHKFOOD)||"0"))]),n("div",[e._v("羊饲料："+e._s(parseInt(e.assets.SHPFOOD)||"0"))]),n("div",[e._v("牛奶："+e._s(parseInt(e.assets.MILK)||"0"))]),n("div",[e._v("鸡蛋："+e._s(parseInt(e.assets.EGG)||"0"))]),n("div",[e._v("羊毛："+e._s(parseInt(e.assets.WOOL)||"0"))]),n("div",[e._v("面包："+e._s(parseInt(e.assets.BREAD)||"0"))]),n("div",[e._v("曲奇："+e._s(parseInt(e.assets.COOKIE)||"0"))]),n("div",[e._v("蛋糕："+e._s(parseInt(e.assets.CAKE)||"0"))])]),n("div",[n("div",[e._v("绿钞："+e._s(e.assets.DCASH||"0"))]),n("div",[e._v("红宝石："+e._s(parseInt(e.assets.RUBY)||"0"))]),n("div",[e._v("绿宝石："+e._s(parseInt(e.assets.BERYL)||"0"))]),n("div",[e._v("黄宝石："+e._s(parseInt(e.assets.TOPAZ)||"0"))]),n("div",[e._v("DFS: "+e._s(e.assets.DFS||"0"))]),n("div",[e._v("USDC："+e._s(e.assets.USDC||"0"))]),n("div",[e._v("DFG："+e._s(e.assets.DFG||"0"))]),n("div",[e._v("TAG："+e._s(e.assets.TAG||"0"))])])])]),n("van-popup",{attrs:{position:"top"},model:{value:e.showCalc,callback:function(t){e.showCalc=t},expression:"showCalc"}},[n("div",{staticStyle:{margin:"10px"}},[n("div",[e._v("需求资产："+e._s(e.requireAsset))]),n("div",[e._v("生成资产："+e._s(e.createAsset))]),n("div",[e._v("需求时间："+e._s(e.requireTime)+" 分钟 | "+e._s(e.requireTime/60)+" 小时")]),n("div",[e._v("完成时间："+e._s(e.endTime))])])])],1)},r=[],i=n("2909"),o=n("1da1"),c=n("53ca"),u=n("5530"),l=(n("96cf"),n("b0c0"),n("4160"),n("159b"),n("ac1f"),n("1276"),n("4795"),n("fb6a"),n("b680"),n("e25e"),n("2f62")),d=(n("0d03"),n("d3b7"),n("25f0"),n("4c53"),n("a15b"),n("d4ec")),f=n("bee2"),h=(n("99af"),n("a9e3"),n("a630"),n("3ca3"),n("c975"),n("76b0")),p=n.n(h),m=n("876a"),g=n.n(m),b=n("cd2e"),k=n.n(b),w=n("bc3a"),_=n.n(w),y=n("4360"),S=n("62e45");p.a.plugins(new g.a);var x=function(){function e(){Object(d["a"])(this,e),this.vthis=null,this.scatter=null,this.scatterEosJs=null,this.eosJs=null,this.connectCount=0,this.isConnect=!1}return Object(f["a"])(e,[{key:"scatterInit",value:function(e,t){this.vthis=e;var n=this;if(n.isConnect)t();else{var s=y["a"].state.sys.baseConfig.node,a={blockchain:"eos",protocol:s.protocol,host:s.host,port:s.port,chainId:"aca376f206b8fc25a6ed44dbdc66547c36c6c33e3a119ffbeaef943642f0e906"},r=p.a.Network.fromJson(a);p.a.connect("DeFis-Network",{network:r}).then(function(){var e=Object(o["a"])(regeneratorRuntime.mark((function e(s){return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:if(n.isConnect=s,s){e.next=7;break}if(n.connectCount+=1,!(n.connectCount>10)){e.next=5;break}return e.abrupt("return",!1);case 5:return setTimeout((function(){n.scatterInit(n.vthis,t)}),500),e.abrupt("return",!1);case 7:n.scatter=p.a.scatter,n.eosJs=p.a.eos(r,k.a,{}),window.eosJs=n.eosJs,t();case 11:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}())}}},{key:"loginOut",value:function(e){var t=this;t.scatter.forgetIdentity(),e()}},{key:"login",value:function(e){var t=this;t.isConnect?t.scatter.login().then((function(t){if(!t)return console.error("no identity");var n=p.a.account("eos"),s={name:n.name,permissions:n.authority,publicKey:n.publicKey};y["a"].dispatch("setAccount",s),e(s)})):t.scatterInit(t.vthis,(function(){t.login()}))}},{key:"getCurrencyBalance",value:function(e,t){var n={code:e.code||"eosio.token",symbol:e.coin||"EOS",account:e.account||y["a"].state.app.account.name},s=y["a"].state.sys.baseConfig.node.url;_.a.post("".concat(s,"/v1/chain/get_currency_balance"),JSON.stringify(n)).then((function(n){if(n.data.length){var s=n.data[0];t(s)}else t("".concat(Number(0).toFixed(e.decimal)," ").concat(e.symbol))}))["catch"]((function(e){console.log("e: ".concat(e))}))}},{key:"transfer",value:function(e,t){var n=this,s=y["a"].state.app.account.name,a=y["a"].state.app.account.permissions,r={actions:[{account:e.code,name:"transfer",authorization:[{actor:s,permission:a}],data:{from:s,to:e.toAccount,quantity:e.quantity,memo:e.memo||""}}]},i=y["a"].state.app.freeCpu;i?this.handleUseFreeCpu(r,t):this.eosJs.transaction(r,{blocksBehind:3,expireSeconds:30}).then((function(e){t(null,e)}))["catch"]((function(e){n.dealError(e,t)}))}},{key:"toTransaction",value:function(e,t){var n=e,s=this;if(s.isConnect){var a=y["a"].state.app.freeCpu;a?this.handleUseFreeCpu(n,t):s.eosJs.transaction(n,{blocksBehind:3,expireSeconds:30}).then((function(e){t(null,e)}))["catch"]((function(e){s.dealError(e,t)}))}else s.toTransaction(e,t)}},{key:"buffer2hex",value:function(e){return Array.from(e,(function(e){return("00"+e.toString(16)).slice(-2)})).join("")}},{key:"handleUseFreeCpu",value:function(e,t){var n=this;Object(o["a"])(regeneratorRuntime.mark((function s(){var a,r,i,o,c,u,l,d,f;return regeneratorRuntime.wrap((function(s){while(1)switch(s.prev=s.next){case 0:return s.prev=0,a={blocksBehind:3,expireSeconds:120},r={tx:e,txh:a},i=y["a"].state.app.account.name,e.actions.unshift({account:"dfsfreecpu11",name:"freecpu",authorization:[{actor:"yfcmonitor11",permission:"active"}],data:{user:i}}),s.next=7,n.eosJs.transaction(e,{sign:!0,broadcast:!1});case 7:return o=s.sent,c=o,u=c.transaction.transaction,u.signatures=c.transaction.signatures,u.context_free_data=[],r.sign_data=u,console.log(e),console.log(r),s.next=17,Object(S["pushFreeCpu2"])(r);case 17:if(l=s.sent,d=l.status,f=l.result,console.log(f,d),d&&f){s.next=24;break}return t(f,null),s.abrupt("return");case 24:t(null,f),s.next=30;break;case 27:s.prev=27,s.t0=s["catch"](0),n.dealFreeCpuError(s.t0,t);case 30:case"end":return s.stop()}}),s,null,[[0,27]])})))()}},{key:"dealFreeCpuError",value:function(e,t){var n=e.toString();"object"===Object(c["a"])(e)&&(n=JSON.stringify(e));var s={code:999,message:n};-1!==n.indexOf("INSUFFICIENT_OUTPUT_AMOUNT")&&(s={code:3050003,message:"滑点过高"}),-1!==n.indexOf("you have no permission for this operation")&&(s={code:3050003,message:"您没有权限操作"}),t(s,null)}},{key:"dealError",value:function(e,t){console.log(e);var n={code:999,message:"fails!"};try{if("object"===Object(c["a"])(e)&&402===e.code&&(n={code:"402",message:"User rejected the signature request"}),"string"===typeof e){var s=JSON.parse(e);if(3080004===s.error.code&&(n={code:3080004,message:"Insufficient CPU resources"}),3080002===s.error.code&&(n={code:3080002,message:"Insufficient Net resources"}),3080001===s.error.code&&(n={code:3080001,message:"Insufficient RAM resources"}),3080006===s.error.code&&(n={code:3080006,message:this.vthis.$t("error.timeout")}),3050003===s.error.code||3010010===s.error.code){var a=s.error.details;n=-1!==a[0].message.indexOf("INSUFFICIENT_OUTPUT_AMOUNT")?{code:3050003,message:"滑点过高"}:-1!==a[0].message.indexOf("Invalid packed transaction")?{code:402,message:"用户取消"}:{code:s.error.code,message:a[0].message}}}t(n,null)}catch(r){"操作已取消"===e&&(n={code:402,message:"Cancel"}),t(n,null)}}}]),e}(),C=new x,j=n("48a3"),T=(n("9911"),n("a062")),O=n("86cd"),M=function(){function e(){Object(d["a"])(this,e),this.transport=null,this.link=null,this.vthis=null}return Object(f["a"])(e,[{key:"scatterInit",value:function(e,t){this.vthis=e,this.transport=new O["a"],this.link=new T["h"]({transport:this.transport}),t()}},{key:"loginOut",value:function(e){this.transport=null,this.link=null,this.vthis=null,this.scatterInit(this.vthis,e)}},{key:"login",value:function(){var e=Object(o["a"])(regeneratorRuntime.mark((function e(t){var n,s;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,this.link.login("apps.defis.network");case 2:n=e.sent,s={name:n.account.account_name,permissions:n.account.permissions[0].perm_name,publicKey:n.account.publicKey},y["a"].dispatch("setAccount",s),t(s);case 6:case"end":return e.stop()}}),e,this)})));function t(t){return e.apply(this,arguments)}return t}()},{key:"transaction",value:function(e){var t=this;return new Promise((function(n,s){t.link.transact(e).then((function(e){n(e)}),(function(e){s(e)}))}))}},{key:"transfer",value:function(e,t){var n=this,s=y["a"].state.app.account,a=s.name,r=s.permissions,i=e.quantity,o={actions:[{account:e.code,name:"transfer",authorization:[{actor:a,permission:r}],data:{from:a,to:e.toAccount,quantity:i,memo:e.memo}}]};this.transaction(o).then((function(e){t(null,e)}))["catch"]((function(e){n.errorCall(e,t)}))}},{key:"toTransaction",value:function(e,t){var n=e,s=this;s.transaction(n,{blocksBehind:3,expireSeconds:30}).then((function(e){t(null,e)}))["catch"]((function(e){s.errorCall(e,t)}))}},{key:"errorCall",value:function(e,t){var n={code:"0001",message:JSON.stringify(e)};try{if("object"===Object(c["a"])(e)&&402===e.code&&(n={code:402,message:this.vthis.$t("error.cancel")}),"string"===typeof e){var s=JSON.parse(e);if(3080004===s.error.code&&(n={code:3080004,message:this.vthis.$t("error.insufficient",{res:"CPU"})}),3080002===s.error.code&&(n={code:3080002,message:this.vthis.$t("error.insufficient",{res:"NET"})}),3080001===s.error.code&&(n={code:3080001,message:s.error.details[0].message}),3080006===s.error.code&&(n={code:3080006,message:this.vthis.$t("error.timeout")}),3050003===s.error.code||3010010===s.error.code){var a=s.error.details;n=-1!==a[0].message.indexOf("INSUFFICIENT_OUTPUT_AMOUNT")?{code:3050003,message:this.vthis.$t("dex.heightSlip")}:-1!==a[0].message.indexOf("Invalid packed transaction")?{code:402,message:this.vthis.$t("error.cancel")}:{code:s.error.code,message:a[0].message}}}t(n)}catch(r){"操作已取消"===e&&(n={code:402,message:this.vthis.$t("error.cancel")}),t(n)}}}]),e}(),A=new M,E=function(){function e(){Object(d["a"])(this,e),this.wallet="",this.obj=null}return Object(f["a"])(e,[{key:"scatterInit",value:function(e,t){this.wallet=(localStorage.getItem("WALLET")||"scatter").toLowerCase(),"anchor"===this.wallet?this.obj=A:"scatter2"===this.wallet?this.obj=C:"newwallet"===this.wallet?this.obj=j["a"]:this.obj=C,this.obj.scatterInit(e,t)}},{key:"accReg",value:function(e,t){this.obj.accReg(e,t)}},{key:"login",value:function(e){this.obj.login(e)}},{key:"loginByAcc",value:function(e,t){this.obj.loginByAcc(e,t)}},{key:"loginOut",value:function(e){y["a"].dispatch("setAccount",{}),this.obj.loginOut(e)}},{key:"transfer",value:function(e,t){this.obj.transfer(e,t)}},{key:"toTransaction",value:function(e,t){this.obj.toTransaction(e,t)}},{key:"exportPrivateKey",value:function(){return this.obj.exportPrivateKey()}},{key:"transferSure",value:function(e,t){this.obj.transfer(e,t)}},{key:"toTransactionSure",value:function(e,t){this.obj.toTransactionSure(e,t)}},{key:"regPwd",value:function(e,t){this.obj.regPwd(e,t)}},{key:"randomKey",value:function(e){this.obj.randomKey(e)}}]),e}(),D=new E,P=n("4128"),I=n.n(P),F=n("c1df"),R=n.n(F);function $(e,t){D.scatterInit(e,(function(){D.login((function(e){t(e)}))}))}function N(e,t){return e&&t?new I.a(e).div(new I.a(t)).toNumber():0}var G=n("67bc"),U=n.n(G),Y={name:"Town",components:{},data:function(){return{logined:!1,tipMsg:"",checked:!0,land:[],gemfactory:[],feedmill:[],bakery:[],cow:[],sheep:[],chicken:[],assets:{},orderLogs:[],orders:[],works:"",price:[],delay:5e3,updateDelay:6e3,failDelay:5e3,failMax:5,freeCPU:!0,logMsg:[],showProduct:!1,showCalc:!1,requireAsset:"",createAsset:"",requireTime:"",endTime:"",nftCount:0,activeName:"farm",orderNames:["小麦","玉米","萝卜","牛奶","鸡蛋","羊毛","面包","曲奇","蛋糕"],orderNums:[]}},computed:Object(u["a"])({},Object(l["b"])({account:function(e){return e.app.account}})),methods:{handleLogin:function(){var e=this;$(this,(function(){e.logined=!0,e.handleUpdateTip(),e.handleReset(),e.handleGetAccNft(),e.handleGetWorks(),e.handleGetAccAssets(),e.handleGetAccUsdc(),e.handleGetAccDfg(),e.handleGetAccTag(),e.handleGetAccDfs()}))},handleReset:function(){this.land=[],this.gemfactory=[],this.feedmill=[],this.bakery=[],this.cow=[],this.sheep=[],this.chicken=[],this.orderNums=[0,0,0,0,0,0,0,0,0],this.assets={DCASH:0,WHEAT:0,CORN:0,CARROT:0,COWFOOD:0,CHKFOOD:0,SHPFOOD:0,MILK:0,EGG:0,WOOL:0,BREAD:0,COOKIE:0,CAKE:0,RUBY:0,BERYL:0,TOPAZ:0,USDC:0,DFG:0,TAG:0,DFS:0}},handleNoPasswordTx:function(){var e=this;"undefined"!==typeof this.account.name?this.$dialog.confirm({title:"免密交易",message:"钱包登陆应用后的首次交易都需要输入密码或指纹，之后的交易便可免密执行，所以在进行自动化生产之前，必须先完成一次交易，后续的交易才能自动免密执行。按“确认”按钮后，会执行一个简单的转账操作，来作为本应用的首次交易。注意：自动化生产目前只支持Start钱包，其它功能不影响。"}).then((function(){var t=e.account.name,n=e.account.permissions,s={actions:[{account:"dfsfarmitems",name:"transfer",authorization:[{actor:t,permission:n}],data:{from:t,to:"davidaccount",quantity:"0.0001 DCASH",memo:"tip"}}]};D.toTransaction(s,(function(t){return t&&(t=e.handleDealWithError(t)),t&&402==t.code||t?(e.$toast({type:"fail",message:t.message}),e.logMsg.push("当前时间: "+R()().format("YYYY-MM-DD HH:mm:ss")),e.logMsg.push(Object(u["a"])({},v)),e.logMsg.push("handleNoPasswordTx tx error"),void e.logMsg.push(t.message)):void e.$toast({type:"success",message:"Success"})}))})):this.$toast({type:"fail",message:"未登陆"})},handleUpdateTip:function(){"undefined"!==typeof this.account.name?(this.tipMsg="账号已登陆",this.logined=!0):(this.tipMsg="请登陆账号",this.logined=!1)},handleDealWithError:function(e){if(void 0!==e.message){if(this.isJSON(e.message)){var t=JSON.parse(e.message),n=t.code,s=t.message;return{code:n,message:s}}return e}if(void 0!==e.msg){var a=JSON.parse(e.msg),r=a.error.code,i=a.error.details[0].message;return{code:r,message:i}}return e},isJSON:function(e){if("string"==typeof e)try{var t=JSON.parse(e);return!("object"!=Object(c["a"])(t)||!t)}catch(n){return!1}},handleGetAccAssets:function(){var e=this;return Object(o["a"])(regeneratorRuntime.mark((function t(){var n,s,a,r,i;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return n={code:"dfsfarmitems",scope:e.account.name,table:"accounts",json:!0},t.next=3,e.$api.get_table_rows(n);case 3:if(s=t.sent,a=s.status,r=s.result,a){t.next=9;break}return e.$toast({type:"fail",message:"获取账号资产失败"}),t.abrupt("return");case 9:if(i=r.rows||[],i.length){t.next=12;break}return t.abrupt("return");case 12:i.forEach((function(t){var n=t.balance.split(" ");e.assets[n[1]]=n[0]})),e.orderNums=[e.assets.WHEAT||0,e.assets.CORN||0,e.assets.CARROT||0,e.assets.MILK||0,e.assets.EGG||0,e.assets.WOOL||0,e.assets.BREAD||0,e.assets.COOKIE||0,e.assets.CAKE||0],e.$forceUpdate(),e.handleGetOrders();case 16:case"end":return t.stop()}}),t)})))()},handleGetAccUsdc:function(){var e=this;return Object(o["a"])(regeneratorRuntime.mark((function t(){var n,s,a,r,i;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return n={code:"usdxusdxusdx",scope:e.account.name,table:"accounts",lower_bound:"USDC",upper_bound:"USDC",json:!0},t.next=3,e.$api.get_table_rows(n);case 3:if(s=t.sent,a=s.status,r=s.result,a){t.next=9;break}return e.$toast({type:"fail",message:"获取账号USDC资产失败"}),t.abrupt("return");case 9:if(i=r.rows||[],i.length){t.next=12;break}return t.abrupt("return");case 12:i.forEach((function(t){var n=t.balance.split(" ");e.$set(e.assets,n[1],n[0])}));case 13:case"end":return t.stop()}}),t)})))()},handleGetAccDfg:function(){var e=this;return Object(o["a"])(regeneratorRuntime.mark((function t(){var n,s,a,r,i;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return n={code:"dfxtokenmain",scope:e.account.name,table:"accounts",lower_bound:"DFG",upper_bound:"DFG",json:!0},t.next=3,e.$api.get_table_rows(n);case 3:if(s=t.sent,a=s.status,r=s.result,a){t.next=9;break}return e.$toast({type:"fail",message:"获取账号DFG资产失败"}),t.abrupt("return");case 9:if(i=r.rows||[],i.length){t.next=12;break}return t.abrupt("return");case 12:i.forEach((function(t){var n=t.balance.split(" ");e.$set(e.assets,n[1],n[0])}));case 13:case"end":return t.stop()}}),t)})))()},handleGetAccTag:function(){var e=this;return Object(o["a"])(regeneratorRuntime.mark((function t(){var n,s,a,r,i;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return n={code:"tagtokenmain",scope:e.account.name,table:"accounts",lower_bound:"TAG",upper_bound:"TAG",json:!0},t.next=3,e.$api.get_table_rows(n);case 3:if(s=t.sent,a=s.status,r=s.result,a){t.next=9;break}return e.$toast({type:"fail",message:"获取账号TAG资产失败"}),t.abrupt("return");case 9:if(i=r.rows||[],i.length){t.next=12;break}return t.abrupt("return");case 12:i.forEach((function(t){var n=t.balance.split(" ");e.$set(e.assets,n[1],n[0])}));case 13:case"end":return t.stop()}}),t)})))()},handleGetAccDfs:function(){var e=this;return Object(o["a"])(regeneratorRuntime.mark((function t(){var n,s,a,r,i;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return n={code:"minedfstoken",scope:e.account.name,table:"accounts",lower_bound:"DFS",upper_bound:"DFS",json:!0},t.next=3,e.$api.get_table_rows(n);case 3:if(s=t.sent,a=s.status,r=s.result,a){t.next=9;break}return e.$toast({type:"fail",message:"获取账号DFS资产失败"}),t.abrupt("return");case 9:if(i=r.rows||[],i.length){t.next=12;break}return t.abrupt("return");case 12:i.forEach((function(t){var n=t.balance.split(" ");e.$set(e.assets,n[1],n[0])}));case 13:case"end":return t.stop()}}),t)})))()},handleGetAccNft:function(){var e=this;return Object(o["a"])(regeneratorRuntime.mark((function t(){var n,s,a,r,o,c,u,l;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:n=!0,s="",a=[];case 3:if(!n){t.next=20;break}return r={code:"dfsnftassets",scope:e.account.name,table:"assets",limit:1e3,json:!0,lower_bound:s},t.next=7,e.$api.get_table_rows(r);case 7:if(o=t.sent,c=o.status,u=o.result,c){t.next=14;break}return e.$toast({type:"fail",message:"获取账号NFT失败"}),e.logMsg.push("获取账号NFT失败"),t.abrupt("return");case 14:l=u.rows||[],n=u.more,s=u.next_key,a.push.apply(a,Object(i["a"])(l)),t.next=3;break;case 20:a.forEach((function(t){t.level=null,t.task={countDown:0,exist:!1},t.multiple=1,t.round=1,t.workid=null,t.autoSwitch=!1,t.failCount=0,t.lack=!1,"land"===t.collection?e.land.push(t):"gemfactory"===t.collection?e.gemfactory.push(t):"feedmill"===t.collection?e.feedmill.push(t):"bakery"===t.collection?e.bakery.push(t):"cow"===t.collection?e.cow.push(t):"sheep"===t.collection?e.sheep.push(t):"chicken"===t.collection&&e.chicken.push(t)})),e.nftCount=e.land.length+e.gemfactory.length+e.feedmill.length+e.bakery.length+e.cow.length+e.sheep.length+e.chicken.length,e.handleGetAllLevel(),e.handleGetAllTask();case 24:case"end":return t.stop()}}),t)})))()},handleGetWorks:function(){var e=this;return Object(o["a"])(regeneratorRuntime.mark((function t(){var n,s,a,r,i;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return n={code:"dfsmetaverse",scope:"dfsmetaverse",table:"works",limit:1e3,json:!0},t.next=3,e.$api.get_table_rows(n);case 3:if(s=t.sent,a=s.status,r=s.result,a){t.next=10;break}return e.$toast({type:"fail",message:"获取工作失败"}),e.logMsg.push("获取工作失败"),t.abrupt("return");case 10:if(i=r.rows||[],i.length){t.next=13;break}return t.abrupt("return");case 13:e.works=i;case 14:case"end":return t.stop()}}),t)})))()},handleGetAllLevel:function(){this.handleGetLevel(this.land),this.handleGetLevel(this.gemfactory),this.handleGetLevel(this.feedmill),this.handleGetLevel(this.bakery),this.handleGetLevel(this.cow),this.handleGetLevel(this.sheep),this.handleGetLevel(this.chicken)},handleGetLevel:function(e){var t=this;return Object(o["a"])(regeneratorRuntime.mark((function n(){return regeneratorRuntime.wrap((function(n){while(1)switch(n.prev=n.next){case 0:e.forEach(function(){var e=Object(o["a"])(regeneratorRuntime.mark((function e(n){var s,a,r,i,o;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return s={code:"dfsmetaverse",scope:n.id,table:"stats",json:!0},e.next=3,t.$api.get_table_rows(s);case 3:if(a=e.sent,r=a.status,i=a.result,r){e.next=10;break}return t.$toast({type:"fail",message:"获取NFT等级失败"}),t.logMsg.push("获取NFT等级失败"),e.abrupt("return");case 10:if(o=i.rows||[],o.length){e.next=13;break}return e.abrupt("return");case 13:n.level=o[0].val,n.multiple=n.level;case 15:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}());case 1:case"end":return n.stop()}}),n)})))()},handleGetAllTask:function(){this.handleGetTask(this.land),this.handleGetTask(this.gemfactory),this.handleGetTask(this.feedmill),this.handleGetTask(this.bakery),this.handleGetTask(this.cow),this.handleGetTask(this.sheep),this.handleGetTask(this.chicken)},handleGetTask:function(e){var t=this;return Object(o["a"])(regeneratorRuntime.mark((function n(){return regeneratorRuntime.wrap((function(n){while(1)switch(n.prev=n.next){case 0:e.forEach(function(){var e=Object(o["a"])(regeneratorRuntime.mark((function e(n){var s,a,r,i,o,c,u;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return s={code:"dfsmetaverse",scope:"dfsmetaverse",table:"tasks",lower_bound:n.id,upper_bound:n.id,json:!0},e.next=3,t.$api.get_table_rows(s);case 3:if(a=e.sent,r=a.status,i=a.result,r){e.next=10;break}return t.$toast({type:"fail",message:"获取任务失败"}),t.logMsg.push("获取任务失败"),e.abrupt("return");case 10:if(o=i.rows||[],o.length){e.next=13;break}return e.abrupt("return");case 13:n.task=o[0],n.task.create_time=R()("".concat(n.task.create_time,".000+0000")).format(),c=R()("".concat(n.task.mature_time,".000+0000")),n.task.mature_time=c.format(),n.task.end_time=c.format("YYYY-MM-DD HH:mm:ss"),u=c.diff(R()()),u<=0?n.task.countDown=0:(n.task.countDown=u,t.handleStartCountDown(n)),n.task.exist=!0;case 21:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}());case 1:case"end":return n.stop()}}),n)})))()},handleGetOrders:function(){var e=this;return Object(o["a"])(regeneratorRuntime.mark((function t(){var n,s,a,r,i;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return n={code:"dfsmetaverse",scope:"dfsmetaverse",table:"orders",limit:1e3,json:!0},t.next=3,e.$api.get_table_rows(n);case 3:if(s=t.sent,a=s.status,r=s.result,a){t.next=10;break}return e.$toast({type:"fail",message:"获取订单列表失败"}),e.logMsg.push("获取订单列表失败"),t.abrupt("return");case 10:if(i=r.rows||[],i.length){t.next=15;break}return e.$toast({type:"fail",message:"获取订单列表失败"}),e.logMsg.push("获取订单列表失败"),t.abrupt("return");case 15:i.forEach((function(t){t.order={countDown:0,exist:!1},t.autoSwitch=!1,t.failCount=0,t.lack=!1,e.handleCheckOrderAsset(t)})),e.orders=i,e.handleGetOrderLogs();case 18:case"end":return t.stop()}}),t)})))()},handleGetOrderLogs:function(){var e=this;return Object(o["a"])(regeneratorRuntime.mark((function t(){var n,s,a,r,i;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return n={code:"dfsmetaverse",scope:e.account.name,table:"orderlogs",limit:1e3,json:!0},t.next=3,e.$api.get_table_rows(n);case 3:if(s=t.sent,a=s.status,r=s.result,a){t.next=10;break}return e.$toast({type:"fail",message:"获取订单日志失败"}),e.logMsg.push("获取订单日志失败"),t.abrupt("return");case 10:if(i=r.rows||[],i.length){t.next=13;break}return t.abrupt("return");case 13:e.orderLogs=i,e.orderLogs.forEach((function(t){t.last_time=R()("".concat(t.last_time,".000+0000")).format();var n=R()("".concat(t.next_time,".000+0000"));t.next_time=n,t.end_time=n.format("YYYY-MM-DD HH:mm:ss");var s=n.diff(R()());s<=0?(t.countDown=0,t.exist=!1,e.orders[t.id-1].order=t):(t.countDown=s,t.exist=!0,e.orders[t.id-1].order=t,e.handleStartCountDown2(t),console.log(t))}));case 15:case"end":return t.stop()}}),t)})))()},handleStartCountDown:function(e){var t=this;this.logMsg.push("#handleStartCountDown,"+e.id),this.$refs["#"+e.id][0].reset(),setTimeout((function(){t.$refs["#"+e.id][0].start()}),500)},handleStartCountDown2:function(e){var t=this;this.logMsg.push("#handleStartCountDown2,"+e.id),this.$refs["O"+e.id][0].reset(),setTimeout((function(){t.$refs["O"+e.id][0].start()}),500)},handleUpdateTask:function(e){var t=this;return Object(o["a"])(regeneratorRuntime.mark((function n(){var s,a,r,i,o,c,u;return regeneratorRuntime.wrap((function(n){while(1)switch(n.prev=n.next){case 0:return t.logMsg.push("#handleUpdateTask,"+e.id),s={code:"dfsmetaverse",scope:"dfsmetaverse",table:"tasks",lower_bound:e.id,upper_bound:e.id,json:!0},n.next=4,t.$api.get_table_rows(s);case 4:if(a=n.sent,r=a.status,i=a.result,r){n.next=12;break}return t.logMsg.push("#1"),t.$toast({type:"fail",message:"获取任务失败"}),t.logMsg.push("获取任务失败"),n.abrupt("return");case 12:if(o=i.rows||[],o.length){n.next=19;break}return t.logMsg.push("#2"),e.task={countDown:0,exist:!1},t.logMsg.push("#empty"),t.$toast({type:"success",message:"Update\nSuccess"}),n.abrupt("return");case 19:e.task=o[0],e.task.create_time=R()("".concat(e.task.create_time,".000+0000")).format(),c=R()("".concat(e.task.mature_time,".000+0000")),e.task.mature_time=c.format(),e.task.end_time=c.format("YYYY-MM-DD HH:mm:ss"),u=c.diff(R()()),u<=0?(t.logMsg.push("#3"),e.task.countDown=0):(t.logMsg.push("#4"),e.task.countDown=u,t.handleStartCountDown(e)),e.task.exist=!0,t.$toast({type:"success",message:"Update\nSuccess"});case 28:case"end":return n.stop()}}),n)})))()},handleUpdateOrder:function(e){var t=this;return Object(o["a"])(regeneratorRuntime.mark((function n(){var s,a,r,i,o,c,u;return regeneratorRuntime.wrap((function(n){while(1)switch(n.prev=n.next){case 0:return t.logMsg.push("#handleUpdateOrder,"+e.id),s={code:"dfsmetaverse",scope:t.account.name,table:"orderlogs",lower_bound:e.id,upper_bound:e.id,json:!0},n.next=4,t.$api.get_table_rows(s);case 4:if(a=n.sent,r=a.status,i=a.result,r){n.next=12;break}return t.logMsg.push("#1"),t.$toast({type:"fail",message:"获取订单日志失败"}),t.logMsg.push("获取订单日志失败"),n.abrupt("return");case 12:if(o=i.rows||[],o.length){n.next=18;break}return t.logMsg.push("#2"),t.$toast({type:"fail",message:"获取订单日志为空"}),t.logMsg.push("获取订单日志为空"),n.abrupt("return");case 18:e.order=o[0],e.order.last_time=R()("".concat(e.order.last_time,".000+0000")).format(),c=R()("".concat(e.order.next_time,".000+0000")),e.order.next_time=c.format(),e.order.end_time=c.format("YYYY-MM-DD HH:mm:ss"),u=c.diff(R()()),u<=0?(t.logMsg.push("#3"),e.order.countDown=0,e.order.exist=!1):(t.logMsg.push("#4"),e.order.countDown=u,e.order.exist=!0,t.handleStartCountDown2(e)),t.$toast({type:"success",message:"Update\nSuccess"});case 26:case"end":return n.stop()}}),n)})))()},handleUpdateAsset:function(e){var t=this;return Object(o["a"])(regeneratorRuntime.mark((function n(){var s,a,r,i,o;return regeneratorRuntime.wrap((function(n){while(1)switch(n.prev=n.next){case 0:return t.logMsg.push("#handleUpdateAsset,"+e.id),s={code:"dfsfarmitems",scope:t.account.name,table:"accounts",json:!0},n.next=4,t.$api.get_table_rows(s);case 4:if(a=n.sent,r=a.status,i=a.result,r){n.next=11;break}return t.logMsg.push("#1"),t.$toast({type:"fail",message:"获取账号资产失败"}),n.abrupt("return");case 11:if(o=i.rows||[],o.length){n.next=16;break}return t.logMsg.push("#2"),t.$toast({type:"fail",message:"获取账号资产失败"}),n.abrupt("return");case 16:o.forEach((function(e){var n=e.balance.split(" ");t.$set(t.assets,n[1],n[0])})),t.orderNums=[t.assets.WHEAT||0,t.assets.CORN||0,t.assets.CARROT||0,t.assets.MILK||0,t.assets.EGG||0,t.assets.WOOL||0,t.assets.BREAD||0,t.assets.COOKIE||0,t.assets.CAKE||0];case 18:case"end":return n.stop()}}),n)})))()},handleHarvest:function(e){var t=this;if(!1===e.task.exist)return this.$toast({type:"fail",message:"不存在任务"}),void this.logMsg.push("不存在任务");if(R()(e.task.mature_time).diff(R()())>0)return this.$toast({type:"fail",message:"未到收取时间"}),void this.logMsg.push("未到收取时间");var n=this.account.name,s=this.account.permissions,a={actions:[{account:"dfsmetaverse",name:"harvest",authorization:[{actor:n,permission:s}],data:{taskid:e.id}}]};D.toTransaction(a,(function(n){return n&&(n=t.handleDealWithError(n)),n&&402==n.code||n?(t.$toast({type:"fail",message:n.message}),t.logMsg.push("当前时间: "+R()().format("YYYY-MM-DD HH:mm:ss")),t.logMsg.push(Object(u["a"])({},e)),t.logMsg.push("handleHarvest tx error"),void t.logMsg.push(n.message)):(t.$toast({type:"success",message:"Success"}),void(e.autoSwitch||(setTimeout(t.handleUpdateTask,t.updateDelay,e),setTimeout(t.handleUpdateAsset,t.updateDelay,e))))}))},handleDelivery:function(e){var t=this;if(R()(e.order.next_time).diff(R()())>0)return this.$toast({type:"fail",message:"冷却时间未结束"}),void this.logMsg.push("冷却时间未结束");var n=this.handleCheckOrderAsset(e);if(n.lack)return this.$toast({type:"fail",message:n.lackAsset+"\n资产不足"}),void this.logMsg.push(n.lackAsset+"资产不足");var s=this.account.name,a=this.account.permissions,r={actions:[{account:"dfsfarmitems",name:"transfer",authorization:[{actor:s,permission:a}],data:{from:s,to:"dfsmetaverse",quantity:e.require_asset[0],memo:"deposit"}},{account:"dfsmetaverse",name:"delivery",authorization:[{actor:s,permission:a}],data:{user:s,id:e.id}}]};D.toTransaction(r,(function(n){return n&&(n=t.handleDealWithError(n)),n&&402==n.code||n?(t.$toast({type:"fail",message:n.message}),t.logMsg.push("当前时间: "+R()().format("YYYY-MM-DD HH:mm:ss")),t.logMsg.push(Object(u["a"])({},e)),t.logMsg.push("handleDelivery tx error"),void t.logMsg.push(n.message)):(t.$toast({type:"success",message:"Success"}),void(e.autoSwitch||(setTimeout(t.handleUpdateOrder,t.updateDelay,e),setTimeout(t.handleUpdateAsset,t.updateDelay,e))))}))},handleProduce:function(e){var t=this,n=e.id,s=e.multiple,a=e.round,r=e.workid;if(null===r||"undefined"===typeof r)return this.$toast({type:"fail",message:"请选择生产物品"}),void this.logMsg.push("请选择生产物品");if(this.works[r-1].id!=r)return this.$toast({type:"fail",message:"工作id错误"}),void this.logMsg.push("工作id错误");if(!0===e.task.exist)return this.$toast({type:"fail",message:"已存在任务"}),void this.logMsg.push("已存在任务");var i=this.handleCheckAsset(e);if(i.lack)return this.$toast({type:"fail",message:i.lackAsset+"\n资产不足"}),void this.logMsg.push(i.lackAsset+"资产不足");var o=this.works[r-1].require_asset.slice();o.forEach((function(e,t){var n=e.split(" ");n[0]=(parseInt(n[0])*s*a).toFixed(4),o[t]=n[0]+" "+n[1]}));var c=this.account.name,l=this.account.permissions,d={actions:[]};o.forEach((function(e){d.actions.push({account:"dfsfarmitems",name:"transfer",authorization:[{actor:c,permission:l}],data:{from:c,to:"dfsmetaverse",quantity:e,memo:"deposit"}})})),d.actions.push({account:"dfsmetaverse",name:"produce2",authorization:[{actor:c,permission:l}],data:{user:c,workid:r,assetid:n,multiple:s,round:a}}),D.toTransaction(d,(function(n){return n&&(n=t.handleDealWithError(n)),n&&402==n.code||n?(t.$toast({type:"fail",message:n.message}),t.logMsg.push("当前时间: "+R()().format("YYYY-MM-DD HH:mm:ss")),t.logMsg.push(Object(u["a"])({},e)),t.logMsg.push("handleProduce tx error"),void t.logMsg.push(n.message)):(t.$toast({type:"success",message:"Success"}),void(e.autoSwitch||(setTimeout(t.handleUpdateTask,t.updateDelay,e),setTimeout(t.handleUpdateAsset,t.updateDelay,e))))}))},handleMakeGem:function(e){var t=this;return Object(o["a"])(regeneratorRuntime.mark((function n(){var s,a,r,i,o,c,l,d,f,h,p;return regeneratorRuntime.wrap((function(n){while(1)switch(n.prev=n.next){case 0:if(s=e.id,a=e.multiple,r=e.round,i=e.workid,null!==i&&"undefined"!==typeof i){n.next=8;break}return t.$toast({type:"fail",message:"请选择生产物品"}),t.logMsg.push("请选择生产物品"),n.abrupt("return");case 8:if(!0!==e.task.exist){n.next=12;break}return t.$toast({type:"fail",message:"已存在任务"}),t.logMsg.push("已存在任务"),n.abrupt("return");case 12:return n.next=14,t.handleGetPrice();case 14:if(o=t.handleCheckGemAsset(e),!o.lack){n.next=19;break}return t.$toast({type:"fail",message:o.lackAsset+"\n资产不足"}),t.logMsg.push(o.lackAsset+"资产不足"),n.abrupt("return");case 19:c=t.account.name,l=t.account.permissions,d="",f="",h="","RUBY"===i?(d=N(a*r,t.price[0]).toFixed(4)+" USDC",f=a.toFixed(4)+" "+i,h="usdxusdxusdx"):"BERYL"===i?(d=N(a*r,t.price[1]).toFixed(4)+" DFG",f=a.toFixed(4)+" "+i,h="dfxtokenmain"):"TOPAZ"===i&&(d=N(a*r,t.price[2]).toFixed(8)+" TAG",f=a.toFixed(4)+" "+i,h="tagtokenmain"),p={actions:[{account:h,name:"transfer",authorization:[{actor:c,permission:l}],data:{from:c,to:"dfsmetaverse",quantity:d,memo:"deposit"}},{account:"dfsmetaverse",name:"makegem2",authorization:[{actor:c,permission:l}],data:{user:c,assetid:s,gem:f,round:r}}]},D.toTransaction(p,(function(n){return n&&(n=t.handleDealWithError(n)),n&&402==n.code||n?(t.$toast({type:"fail",message:n.message}),t.logMsg.push("当前时间: "+R()().format("YYYY-MM-DD HH:mm:ss")),t.logMsg.push(Object(u["a"])({},e)),t.logMsg.push("handleMakeGem tx error"),void t.logMsg.push(n.message)):(t.$toast({type:"success",message:"Success"}),void(e.autoSwitch||(setTimeout(t.handleUpdateTask,t.updateDelay,e),setTimeout(t.handleUpdateAsset,t.updateDelay,e),"RUBY"===i?setTimeout(t.handleGetAccUsdc,t.updateDelay):"BERYL"===i?setTimeout(t.handleGetAccDfg,t.updateDelay):"TOPAZ"===i&&setTimeout(t.handleGetAccTag,t.updateDelay))))}));case 27:case"end":return n.stop()}}),n)})))()},handleFinish:function(e){if(this.logMsg.push("#handleFinish,"+e.id),e.task.exist){this.logMsg.push("#1");var t=R()(e.task.mature_time),n=t.diff(R()());if(n>0)return this.logMsg.push("#2"),e.task.countDown=n,this.handleStartCountDown(e),void console.log("countdown reset")}e.autoSwitch&&(this.logMsg.push("#3"),e.task.exist?(this.logMsg.push("#4"),this.$toast({type:"success",message:this.delay/1e3+"秒钟后执行"}),setTimeout(this.handleAutoHarvest,this.delay,e)):"RUBY"===e.workid||"BERYL"===e.workid||"TOPAZ"===e.workid?setTimeout(this.handleAutoMakeGem,this.delay,e):setTimeout(this.handleAutoProduce,this.delay,e))},handleFinish2:function(e){if(this.logMsg.push("#handleFinish2,"+e.id),e.order.exist){this.logMsg.push("#1");var t=R()(e.order.next_time),n=t.diff(R()());if(n>0)return this.logMsg.push("#2"),e.order.countDown=n,this.handleStartCountDown2(e),void console.log("countdown reset")}e.autoSwitch&&(this.$toast({type:"success",message:this.delay/1e3+"秒钟后执行"}),setTimeout(this.handleAutoDelivery,this.delay,e))},handleAutoHarvest:function(e){var t=this;if(this.logMsg.push("#handleAutoHarvest,"+e.id),!1===e.task.exist)return this.logMsg.push("#1"),e.failCount=0,this.handleUpdateAsset(e),void("RUBY"===e.workid||"BERYL"===e.workid||"TOPAZ"===e.workid?this.handleAutoMakeGem(e):this.handleAutoProduce(e));if(e.task.exist){this.logMsg.push("#2");var n=R()(e.task.mature_time),s=n.diff(R()());if(s>0)return this.logMsg.push("#3"),e.task.countDown=s,this.handleStartCountDown(e),void console.log("countdown reset")}var a=this.account.name,r=this.account.permissions,i={actions:[{account:"dfsmetaverse",name:"harvest",authorization:[{actor:a,permission:r}],data:{taskid:e.id}}]};D.toTransaction(i,function(){var n=Object(o["a"])(regeneratorRuntime.mark((function n(s){return regeneratorRuntime.wrap((function(n){while(1)switch(n.prev=n.next){case 0:if(s&&(s=t.handleDealWithError(s)),!s||402!=s.code){n.next=10;break}return t.$toast({type:"fail",message:s.message}),t.logMsg.push("#4"),t.logMsg.push("当前时间: "+R()().format("YYYY-MM-DD HH:mm:ss")),t.logMsg.push(Object(u["a"])({},e)),t.logMsg.push("handleAutoHarvest tx error"),t.logMsg.push(s.message),t.handleFailProcessTask(e,t.handleAutoHarvest),n.abrupt("return");case 10:if(!s){n.next=19;break}return t.$toast({type:"fail",message:s.message}),t.logMsg.push("#5"),t.logMsg.push("当前时间: "+R()().format("YYYY-MM-DD HH:mm:ss")),t.logMsg.push(Object(u["a"])({},e)),t.logMsg.push("handleAutoHarvest tx error"),t.logMsg.push(s.message),t.handleFailProcessTask(e,t.handleAutoHarvest),n.abrupt("return");case 19:t.$toast({type:"success",message:"Harvest\nSuccess"}),e.failCount=0,setTimeout(function(){var e=Object(o["a"])(regeneratorRuntime.mark((function e(n){return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return t.logMsg.push("#6"),e.next=3,t.handleUpdateTask(n);case 3:t.handleAutoHarvest(n);case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),t.updateDelay,e);case 22:case"end":return n.stop()}}),n)})));return function(e){return n.apply(this,arguments)}}())},handleAutoProduce:function(e){var t=this;if(this.logMsg.push("#handleAutoProduce,"+e.id),!0===e.task.exist&&e.task.countDown>0)return this.logMsg.push("#end"),this.$toast({type:"success",message:"Finish"}),e.failCount=0,this.handleUpdateAsset(e),void console.log("countdown reset");var n=e.id,s=e.multiple,a=e.round,r=e.workid,i=this.works[r-1].require_asset.slice();i.forEach((function(e,t){var n=e.split(" ");n[0]=(parseInt(n[0])*s*a).toFixed(4),i[t]=n[0]+" "+n[1]}));var c=this.account.name,l=this.account.permissions,d={actions:[]};i.forEach((function(e){d.actions.push({account:"dfsfarmitems",name:"transfer",authorization:[{actor:c,permission:l}],data:{from:c,to:"dfsmetaverse",quantity:e,memo:"deposit"}})})),d.actions.push({account:"dfsmetaverse",name:"produce2",authorization:[{actor:c,permission:l}],data:{user:c,workid:r,assetid:n,multiple:s,round:a}}),D.toTransaction(d,function(){var n=Object(o["a"])(regeneratorRuntime.mark((function n(s){return regeneratorRuntime.wrap((function(n){while(1)switch(n.prev=n.next){case 0:if(s&&(s=t.handleDealWithError(s)),!s||402!=s.code){n.next=10;break}return t.$toast({type:"fail",message:s.message}),t.logMsg.push("#1"),t.logMsg.push("当前时间: "+R()().format("YYYY-MM-DD HH:mm:ss")),t.logMsg.push(Object(u["a"])({},e)),t.logMsg.push("handleAutoProduce tx error"),t.logMsg.push(s.message),t.handleFailProcessTask(e,t.handleAutoProduce),n.abrupt("return");case 10:if(!s){n.next=19;break}return t.$toast({type:"fail",message:s.message}),t.logMsg.push("#2"),t.logMsg.push("当前时间: "+R()().format("YYYY-MM-DD HH:mm:ss")),t.logMsg.push(Object(u["a"])({},e)),t.logMsg.push("handleAutoProduce tx error"),t.logMsg.push(s.message),t.handleFailProcessTask(e,t.handleAutoProduce),n.abrupt("return");case 19:t.$toast({type:"success",message:"Produce\nSuccess"}),e.failCount=0,setTimeout(function(){var e=Object(o["a"])(regeneratorRuntime.mark((function e(n){return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return t.logMsg.push("#3"),e.next=3,t.handleUpdateTask(n);case 3:t.logMsg.push(n),t.handleAutoProduce(n);case 5:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),t.updateDelay,e);case 22:case"end":return n.stop()}}),n)})));return function(e){return n.apply(this,arguments)}}())},handleAutoDelivery:function(e){var t=this;if(this.logMsg.push("#handleAutoDelivery,"+e.id),!0===e.order.exist&&e.order.countDown>0)return this.logMsg.push("#end"),this.$toast({type:"success",message:"Finish"}),e.failCount=0,this.handleUpdateAsset(e),void console.log("countdown reset");var n=this.account.name,s=this.account.permissions,a={actions:[{account:"dfsfarmitems",name:"transfer",authorization:[{actor:n,permission:s}],data:{from:n,to:"dfsmetaverse",quantity:e.require_asset[0],memo:"deposit"}},{account:"dfsmetaverse",name:"delivery",authorization:[{actor:n,permission:s}],data:{user:n,id:e.id}}]};D.toTransaction(a,function(){var n=Object(o["a"])(regeneratorRuntime.mark((function n(s){return regeneratorRuntime.wrap((function(n){while(1)switch(n.prev=n.next){case 0:if(s&&(s=t.handleDealWithError(s)),!s||402!=s.code){n.next=10;break}return t.$toast({type:"fail",message:s.message}),t.logMsg.push("#1"),t.logMsg.push("当前时间: "+R()().format("YYYY-MM-DD HH:mm:ss")),t.logMsg.push(Object(u["a"])({},e)),t.logMsg.push("handleAutoDelivery tx error"),t.logMsg.push(s.message),t.handleFailProcessOrder(e,t.handleAutoDelivery),n.abrupt("return");case 10:if(!s){n.next=19;break}return t.$toast({type:"fail",message:s.message}),t.logMsg.push("#2"),t.logMsg.push("当前时间: "+R()().format("YYYY-MM-DD HH:mm:ss")),t.logMsg.push(Object(u["a"])({},e)),t.logMsg.push("handleAutoDelivery tx error"),t.logMsg.push(s.message),t.handleFailProcessOrder(e,t.handleAutoDelivery),n.abrupt("return");case 19:t.$toast({type:"success",message:"Send\nSuccess"}),e.failCount=0,setTimeout(function(){var e=Object(o["a"])(regeneratorRuntime.mark((function e(n){return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return t.logMsg.push("#3"),e.next=3,t.handleUpdateOrder(n);case 3:t.handleAutoDelivery(n);case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),t.updateDelay,e);case 22:case"end":return n.stop()}}),n)})));return function(e){return n.apply(this,arguments)}}())},handleAutoMakeGem:function(e){var t=this;return Object(o["a"])(regeneratorRuntime.mark((function n(){var s,a,r,i,c,l,d,f,h,p;return regeneratorRuntime.wrap((function(n){while(1)switch(n.prev=n.next){case 0:if(t.logMsg.push("#handleAutoMakeGem,"+e.id),!(!0===e.task.exist&&e.task.countDown>0)){n.next=8;break}return t.logMsg.push("#end"),t.$toast({type:"success",message:"Finish"}),e.failCount=0,t.handleUpdateAsset(e),console.log("countdown reset"),n.abrupt("return");case 8:return s=e.id,a=e.multiple,r=e.round,i=e.workid,n.next=14,t.handleGetPrice();case 14:c=t.account.name,l=t.account.permissions,d="",f="",h="","RUBY"===i?(d=N(a*r,t.price[0]).toFixed(4)+" USDC",f=a.toFixed(4)+" "+i,h="usdxusdxusdx"):"BERYL"===i?(d=N(a*r,t.price[1]).toFixed(4)+" DFG",f=a.toFixed(4)+" "+i,h="dfxtokenmain"):"TOPAZ"===i&&(d=N(a*r,t.price[2]).toFixed(8)+" TAG",f=a.toFixed(4)+" "+i,h="tagtokenmain"),p={actions:[{account:h,name:"transfer",authorization:[{actor:c,permission:l}],data:{from:c,to:"dfsmetaverse",quantity:d,memo:"deposit"}},{account:"dfsmetaverse",name:"makegem2",authorization:[{actor:c,permission:l}],data:{user:c,assetid:s,gem:f,round:r}}]},D.toTransaction(p,function(){var n=Object(o["a"])(regeneratorRuntime.mark((function n(s){return regeneratorRuntime.wrap((function(n){while(1)switch(n.prev=n.next){case 0:if(s&&(s=t.handleDealWithError(s)),!s||402!=s.code){n.next=10;break}return t.$toast({type:"fail",message:s.message}),t.logMsg.push("#1"),t.logMsg.push("当前时间: "+R()().format("YYYY-MM-DD HH:mm:ss")),t.logMsg.push(Object(u["a"])({},e)),t.logMsg.push("handleAutoMakeGem tx error"),t.logMsg.push(s.message),t.handleFailProcessTask(e,t.handleAutoMakeGem),n.abrupt("return");case 10:if(!s){n.next=19;break}return t.$toast({type:"fail",message:s.message}),t.logMsg.push("#2"),t.logMsg.push("当前时间: "+R()().format("YYYY-MM-DD HH:mm:ss")),t.logMsg.push(Object(u["a"])({},e)),t.logMsg.push("handleAutoMakeGem tx error"),t.logMsg.push(s.message),t.handleFailProcessTask(e,t.handleAutoMakeGem),n.abrupt("return");case 19:t.$toast({type:"success",message:"Makegem\nSuccess"}),e.failCount=0,setTimeout(function(){var e=Object(o["a"])(regeneratorRuntime.mark((function e(n){return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return t.logMsg.push("#3"),e.next=3,t.handleUpdateTask(n);case 3:t.handleAutoMakeGem(n);case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),t.updateDelay,e);case 22:case"end":return n.stop()}}),n)})));return function(e){return n.apply(this,arguments)}}());case 22:case"end":return n.stop()}}),n)})))()},handleFailProcessTask:function(e,t){var n=this;return Object(o["a"])(regeneratorRuntime.mark((function s(){return regeneratorRuntime.wrap((function(s){while(1)switch(s.prev=s.next){case 0:n.logMsg.push("#handleFailProcessTask,"+e.id),e.failCount++,e.failCount>n.failMax?(n.logMsg.push("超过失败重试最大次数"),e.failCount=0,e.autoSwitch=!1):0==e.autoSwitch?(e.failCount=0,n.logMsg.push("已退出自动模式")):(n.logMsg.push("失败重试第"+e.failCount+"次"),setTimeout(function(){var e=Object(o["a"])(regeneratorRuntime.mark((function e(s){return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return n.logMsg.push("#1"),e.next=3,n.handleUpdateTask(s);case 3:t(s);case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),n.failDelay,e));case 3:case"end":return s.stop()}}),s)})))()},handleFailProcessOrder:function(e,t){var n=this;return Object(o["a"])(regeneratorRuntime.mark((function s(){return regeneratorRuntime.wrap((function(s){while(1)switch(s.prev=s.next){case 0:n.logMsg.push("#handleFailProcessOrder,"+e.id),e.failCount++,e.failCount>n.failMax?(n.logMsg.push("超过失败重试最大次数"),e.failCount=0,e.autoSwitch=!1):0==e.autoSwitch?(e.failCount=0,n.logMsg.push("已退出自动模式")):(n.logMsg.push("失败重试第"+e.failCount+"次"),setTimeout(function(){var e=Object(o["a"])(regeneratorRuntime.mark((function e(s){return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return n.logMsg.push("#1"),e.next=3,n.handleUpdateOrder(s);case 3:t(s);case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),n.failDelay,e));case 3:case"end":return s.stop()}}),s)})))()},handleSwitchClick:function(e){var t=e.workid;if(null===t||"undefined"===typeof t)return this.$toast({type:"fail",message:"请选择生产物品"}),void this.logMsg.push("请选择生产物品")},handleSwitchCheck:function(e){e.autoSwitch&&(this.$refs["#"+e.id][0].start(),console.log("start"))},handleSwitchCheck2:function(e){e.autoSwitch&&(this.$refs["O"+e.id][0].start(),console.log("start"))},handleFreeCPU:function(){this.$store.dispatch("setFreeCpu",this.freeCPU)},noSleep:function(){var e=new U.a;document.addEventListener("click",(function t(){e.enable(),document.removeEventListener("click",t,!1)}),!1)},handleCalc:function(e){var t=e.multiple,n=e.round,s=e.workid;if(null===s||"undefined"===typeof s)return this.$toast({type:"fail",message:"请选择生产物品"}),void this.logMsg.push("请选择生产物品");if(this.works[s-1].id!=s)return this.$toast({type:"fail",message:"工作id错误"}),void this.logMsg.push("工作id错误");var a=this.works[s-1].require_asset.slice();a.forEach((function(e,s){var r=e.split(" ");r[0]=(parseInt(r[0])*t*n).toFixed(4),a[s]=r[0]+" "+r[1]}));var r=this.works[s-1].create_asset.slice(),i=r.split(" ");i[0]=(parseInt(i[0])*t*n).toFixed(4),r=i[0]+" "+i[1];var o=this.works[s-1].require_time*n;this.requireAsset=a,this.createAsset=r,this.requireTime=o/60,this.endTime=R()().add(this.requireTime,"m").format("YYYY-MM-DD HH:mm:ss"),this.showCalc=!0},handleCheckAsset:function(e){var t=this,n=e.multiple,s=e.round,a=e.workid,r=[],i=this.works[a-1].require_asset.slice();if(i.forEach((function(e,a){var i=e.split(" ");i[0]=(parseInt(i[0])*n*s).toFixed(4);var o=t.assets[i[1]]-i[0];o<0&&r.push(i[1])})),0==r.length)return e.lack=!1,{lack:!1,lackAsset:""};var o="";return r.forEach((function(e){o+=e+" "})),e.lack=!0,{lack:!0,lackAsset:o}},handleCheckGemAsset:function(e){var t=e.multiple,n=e.round,s=e.workid,a=[],r="";"RUBY"===s?r=N(t*n,this.price[0]).toFixed(4)+" USDC":"BERYL"===s?r=N(t*n,this.price[1]).toFixed(4)+" DFG":"TOPAZ"===s&&(r=N(t*n,this.price[2]).toFixed(8)+" TAG");var i=r.split(" "),o=this.assets[i[1]]-i[0];if(o<0&&a.push(i[1]),0==a.length)return e.lack=!1,{lack:!1,lackAsset:""};var c="";return a.forEach((function(e){c+=e+" "})),e.lack=!0,{lack:!0,lackAsset:c}},handleCheckOrderAsset:function(e){var t=this,n=e.require_asset.slice(),s=[];if(n.forEach((function(e,n){var a=e.split(" "),r=t.assets[a[1]]-a[0];r<0&&s.push(a[1])})),0==s.length)return e.lack=!1,{lack:!1,lackAsset:""};var a="";return s.forEach((function(e){a+=e+" "})),e.lack=!0,{lack:!0,lackAsset:a}},handleGemCalc:function(e){var t=e.multiple,n=e.round,s=e.workid;if(null===s||"undefined"===typeof s)return this.$toast({type:"fail",message:"请选择生产物品"}),void this.logMsg.push("请选择生产物品");var a="",r="";"RUBY"===s?(a=N(t*n,this.price[0]).toFixed(4)+" USDC",r=t.toFixed(4)+" "+s):"BERYL"===s?(a=N(t*n,this.price[1]).toFixed(4)+" DFG",r=t.toFixed(4)+" "+s):"TOPAZ"===s&&(a=N(t*n,this.price[2]).toFixed(8)+" TAG",r=t.toFixed(4)+" "+s),this.requireAsset=a,this.createAsset=r,this.requireTime=120*n,this.endTime=R()().add(this.requireTime,"m").format("YYYY-MM-DD HH:mm:ss"),this.showCalc=!0},handleGetPrice:function(){var e=this;return Object(o["a"])(regeneratorRuntime.mark((function t(){var n,s,a;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,e.$api.get_price();case 2:if(n=t.sent,s=n.status,a=n.result,s){t.next=9;break}return e.$toast({type:"fail",message:"获取价格失败"}),e.logMsg.push("获取价格失败"),t.abrupt("return");case 9:e.price=[],a.forEach((function(t){"USDC"===t.coin?e.price[0]=t.price:"DFG"===t.coin?e.price[1]=t.price:"TAG"===t.coin&&(e.price[2]=t.price)}));case 11:case"end":return t.stop()}}),t)})))()}},mounted:function(){this.noSleep(),this.handleLogin(),this.handleFreeCPU(),this.handleUpdateTip(),this.handleGetPrice()}},z=Y,L=(n("5c0b"),n("2877")),H=Object(L["a"])(z,a,r,!1,null,null,null),B=H.exports,J=n("365c"),q=(n("bda7"),n("5e46")),K=(n("da3c"),n("0b33")),W=(n("e17f"),n("2241")),Z=(n("c3a6"),n("ad06")),V=(n("8a58"),n("e41f")),Q=(n("414a"),n("7a823")),X=(n("2b28"),n("9ed2")),ee=(n("f06a"),n("20fb")),te=(n("b000"),n("1a23")),ne=(n("e7e5"),n("d399")),se=(n("66b9"),n("b650")),ae=(n("a44c"),n("e27c")),re=(n("4ddd"),n("9f14"));s["a"].use(re["a"]),s["a"].use(ae["a"]),s["a"].use(se["a"]),s["a"].use(ne["a"]),s["a"].use(te["a"]),s["a"].use(ee["a"]),s["a"].use(X["a"]),s["a"].use(Q["a"]),s["a"].use(V["a"]),s["a"].use(Z["a"]),s["a"].use(W["a"]),s["a"].use(K["a"]),s["a"].use(q["a"]),s["a"].prototype.$api=J["default"],s["a"].config.productionTip=!1,new s["a"]({store:y["a"],render:function(e){return e(B)}}).$mount("#app")},"5c0b":function(e,t,n){"use strict";n("9c0c")},6:function(e,t){},"62e45":function(e,t,n){"use strict";n.r(t),function(e){n.d(t,"unZip",(function(){return c})),n.d(t,"dealZip",(function(){return u})),n.d(t,"get_table_rows",(function(){return l})),n.d(t,"get_swap_summary",(function(){return d})),n.d(t,"get_swap_counter",(function(){return f})),n.d(t,"get_acc_follow",(function(){return h})),n.d(t,"get_all_orders",(function(){return p})),n.d(t,"get_info",(function(){return m})),n.d(t,"get_markets",(function(){return g})),n.d(t,"get_price",(function(){return v})),n.d(t,"get_currency_stats",(function(){return b})),n.d(t,"get_currency_balance",(function(){return k})),n.d(t,"get_market_info",(function(){return w})),n.d(t,"get_swap_lasters",(function(){return _})),n.d(t,"get_account",(function(){return y})),n.d(t,"reg_newaccount",(function(){return S})),n.d(t,"pushFreeCpu",(function(){return x})),n.d(t,"pushFreeCpu2",(function(){return C}));n("0d03"),n("d3b7"),n("25f0"),n("b0c0"),n("99af"),n("b680"),n("a9e3");var s=n("bc3a"),a=n.n(s),r=n("4360"),i=n("470b");function o(){var e=r["a"].state.sys.baseConfig;return e.node.url}function c(t){var n=i.inflateSync(new e(t,"base64")).toString();return n}function u(e){var t=JSON.stringify(e),n=i.deflateSync(t).toString("base64");return n}function l(e){return new Promise((function(t,n){var s=o();a.a.post("".concat(s,"/v1/chain/get_table_rows"),JSON.stringify(e)).then((function(e){var n=Object.assign(e.data,{});t({status:200===e.status,result:n})}),(function(e){n(e)}))}))}function d(){return new Promise((function(e,t){a.a.get("https://api.yfc.one/dfs/swap/summary2").then((function(t){var n=Object.assign(t.data,{});e({status:200===t.status,result:n})}),(function(e){t(e)}))}))}function f(){return new Promise((function(e,t){a.a.get("https://api.yfc.one/dfs/swap/counter").then((function(t){var n=Object.assign(t.data,{});e({status:200===t.status,result:n})}),(function(e){t(e)}))}))}function h(){return new Promise((function(e,t){var n=o(),s=r["a"].state.app.account.name,i={code:"dfsusersinfo",scope:" ".concat(s),table:"likes",json:!0,limit:1e3};a.a.post("".concat(n,"/v1/chain/get_table_rows"),JSON.stringify(i)).then((function(t){var n=Object.assign(t.data,{}),s=n.rows||[];r["a"].dispatch("setAccFollow",s),e({status:200===t.status,result:n})}),(function(e){t(e)}))}))}function p(){return new Promise((function(e,t){var n={};a.a.get("https://api.yfc.one/pddex2/orders",JSON.stringify(n)).then((function(t){var n=Object.assign(t.data,{});e({status:200===t.status,result:n})}),(function(e){t(e)}))}))}function m(e){return new Promise((function(t,n){a.a.get("".concat(e,"/v1/chain/get_info"),{timeout:1e4}).then((function(e){var n=Object.assign(e.data,{});t({status:200===e.status,result:n})}),(function(e){n(e)}))}))}function g(){return new Promise((function(e,t){a.a.get("https://api.yfc.one/dfs/common/markets",{timeout:5e3}).then((function(t){var n=t.data,s=c(n),a={rows:JSON.parse(s)};e({status:200===t.status,result:a})}),(function(e){t(e)}))}))}function v(){return new Promise((function(e,t){a.a.get("https://api.yfc.one/dfs/common/get_price").then((function(t){var n=t.data;e({status:200===t.status,result:n})}),(function(e){t(e)}))}))}function b(e){return new Promise((function(t,n){var s=o();a.a.post("".concat(s,"/v1/chain/get_currency_stats"),JSON.stringify(e)).then((function(e){var n=Object.assign(e.data,{});t({status:200===e.status,result:n})}),(function(e){n(e)}))}))}function k(e){return new Promise((function(t,n){var s=o();a.a.post("".concat(s,"/v1/chain/get_currency_balance"),JSON.stringify(e)).then((function(n){var s=n.data;s.length||(s=["".concat(Number(0).toFixed(e.decimal||4)," ").concat(e.symbol)]),t({status:200===n.status,result:s[0]})}),(function(e){n(e)}))}))}function w(e){return new Promise((function(t,n){a.a.get("https://api.yfc.one/dfs/apy/apy-by-mid",{params:e}).then((function(e){var n=e.data;t({status:200===e.status,result:n})}),(function(e){n(e)}))}))}function _(e){return new Promise((function(t,n){a.a.get("https://api.yfc.one/dfs/swap/marketlog",{params:e}).then((function(e){var n=e.data;t({status:200===e.status,result:n})}),(function(e){n(e)}))}))}function y(e){return new Promise((function(t,n){var s=o(),r={account_name:"".concat(e)};a.a.post("".concat(s,"/v1/chain/get_account"),JSON.stringify(r)).then((function(e){var n=Object.assign(e.data,{});t({status:200===e.status,result:n})}),(function(e){n(e)}))}))}function S(e){return new Promise((function(t,n){var s={username:e.account,publickey:e.publickey};a.a.post("https://api.yfc.one/account/newaccount",JSON.stringify(s)).then((function(e){var n=Object.assign(e.data,{});console.log(n),t({status:200===e.status,result:n})}),(function(e){n(e)}))}))}function x(e){return new Promise((function(t,n){a.a.post("https://api.yfc.one/account/pushaction",e).then((function(e){var n=Object.assign(e.data,{});t({status:200===e.status,result:n})}),(function(e){n(e)}))}))}function C(e){return new Promise((function(t,n){a.a.post("https://api.yfc.one/account/pushaction2",e).then((function(e){var n=Object.assign(e.data,{});console.log(n),t({status:200===n.code,result:n})}),(function(e){n(e)}))}))}}.call(this,n("b639").Buffer)},7:function(e,t){},8:function(e,t){},9:function(e,t){},"9c0c":function(e,t,n){},"9f19":function(e,t,n){var s={"./index.js":"365c","./list.js":"62e45"};function a(e){var t=r(e);return n(t)}function r(e){if(!n.o(s,e)){var t=new Error("Cannot find module '"+e+"'");throw t.code="MODULE_NOT_FOUND",t}return s[e]}a.keys=function(){return Object.keys(s)},a.resolve=r,e.exports=a,a.id="9f19"},d8ad:function(e,t,n){"use strict";var s=n("2b0e"),a=new s["a"];t["a"]=a}});