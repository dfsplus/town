!function(t){function e(e){for(var s,r,o=e[0],c=e[1],l=e[2],d=0,h=[];d<o.length;d++)r=o[d],Object.prototype.hasOwnProperty.call(n,r)&&n[r]&&h.push(n[r][0]),n[r]=0;for(s in c)Object.prototype.hasOwnProperty.call(c,s)&&(t[s]=c[s]);for(u&&u(e);h.length;)h.shift()();return i.push.apply(i,l||[]),a()}function a(){for(var t,e=0;e<i.length;e++){for(var a=i[e],s=!0,o=1;o<a.length;o++){var c=a[o];0!==n[c]&&(s=!1)}s&&(i.splice(e--,1),t=r(r.s=a[0]))}return t}var s={},n={"app~748942c6":0},i=[];function r(e){if(s[e])return s[e].exports;var a=s[e]={i:e,l:!1,exports:{}};return t[e].call(a.exports,a,a.exports,r),a.l=!0,a.exports}r.m=t,r.c=s,r.d=function(t,e,a){r.o(t,e)||Object.defineProperty(t,e,{enumerable:!0,get:a})},r.r=function(t){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},r.t=function(t,e){if(1&e&&(t=r(t)),8&e)return t;if(4&e&&"object"==typeof t&&t&&t.__esModule)return t;var a=Object.create(null);if(r.r(a),Object.defineProperty(a,"default",{enumerable:!0,value:t}),2&e&&"string"!=typeof t)for(var s in t)r.d(a,s,function(e){return t[e]}.bind(null,s));return a},r.n=function(t){var e=t&&t.__esModule?function(){return t.default}:function(){return t};return r.d(e,"a",e),e},r.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},r.p="/town/";var o=window.webpackJsonp=window.webpackJsonp||[],c=o.push.bind(o);o.push=e,o=o.slice();for(var l=0;l<o.length;l++)e(o[l]);var u=c;i.push([0,"vendors~app~253ae210","vendors~app~7274e1de","vendors~app~db300d2f","vendors~app~7d359b94","vendors~app~9c5b28f6","vendors~app~ec8c427e"]),a()}({0:function(t,e,a){t.exports=a("56d7")},1:function(t,e){},10:function(t,e){},11:function(t,e){},12:function(t,e){},13:function(t,e){},14:function(t,e){},15:function(t,e){},16:function(t,e){},17:function(t,e){},18:function(t,e){},2:function(t,e){},3:function(t,e){},"365c":function(t,e,a){"use strict";a.r(e);a("4160"),a("159b"),a("d3b7"),a("ddb0");var s=a("9f19");t={};s.keys().forEach((function(e){"./index.js"!==e&&"./axios.js"!==e&&Object.assign(t,s(e))})),e.default=t},4:function(t,e){},4360:function(t,e,a){"use strict";var s=a("2b0e"),n=a("2f62"),i=(a("e25e"),a("a9e3"),{state:{language:localStorage.getItem("language")||"en",theme:localStorage.getItem("theme")||"theme-278EDA",nodeChecked:localStorage.getItem("nodeChecked")?JSON.parse(localStorage.getItem("nodeChecked")):{eos:{},timer:""},slipPoint:localStorage.getItem("slipPoint")?parseInt(localStorage.getItem("slipPoint")):1,rSwitch:!localStorage.getItem("rSwitch")||JSON.parse(localStorage.getItem("rSwitch")),minScreen:!1,accInfo:{avatar:"https://cdn.jsdelivr.net/gh/defis-net/material2/coin/tagtokenmain-tag.png",cover:"https://cdn.jsdelivr.net/gh/defis-net/material/accBanner/banner1.png",desc:"",nick:"",sex:2},account:{},accFollow:[],freeCpu:!!localStorage.getItem("freeCpu")&&JSON.parse(localStorage.getItem("freeCpu")),vip:{state:!1,dbc:0,pdd:0,sum:0}},mutations:{SET_FREECPU:function(t,e){t.freeCpu=e,localStorage.setItem("freeCpu",JSON.stringify(e))},SET_ACCINFO:function(t,e){t.accInfo=e},SET_MINSCREEN:function(t,e){t.minScreen=e},SET_LANGUAGE:function(t,e){t.language=e,localStorage.setItem("language",e)},SET_THEME:function(t,e){t.theme=e,localStorage.setItem("theme",e)},SET_NODECHECKED:function(t,e){t.nodeChecked=e,localStorage.setItem("nodeChecked",JSON.stringify(e))},SET_SLIPPOINT:function(t,e){t.slipPoint=e,localStorage.setItem("slipPoint",JSON.stringify(e))},SET_rSwitch:function(t,e){t.rSwitch=e,localStorage.setItem("rSwitch",JSON.stringify(e))},SET_ACCOUNT:function(t,e){t.account=e},SET_ACCFOLLOW:function(t,e){t.accFollow=e},SET_VIP:function(t,e){t.vip=e}},actions:{setFreeCpu:function(t,e){(0,t.commit)("SET_FREECPU",e)},setAccInfo:function(t,e){(0,t.commit)("SET_ACCINFO",e)},setMinScreen:function(t,e){(0,t.commit)("SET_MINSCREEN",e)},setLanguage:function(t,e){(0,t.commit)("SET_LANGUAGE",e)},setTheme:function(t,e){(0,t.commit)("SET_THEME",e)},setNodeChecked:function(t,e){(0,t.commit)("SET_NODECHECKED",e)},setSlipPoint:function(t,e){(0,t.commit)("SET_SLIPPOINT",Number(e))},setRSwitch:function(t,e){(0,t.commit)("SET_rSwitch",e)},setAccount:function(t,e){(0,t.commit)("SET_ACCOUNT",e)},setAccFollow:function(t,e){(0,t.commit)("SET_ACCFOLLOW",e)},setVip:function(t,e){(0,t.commit)("SET_VIP",e)}}}),r={state:{baseConfig:{node:{area:"production",protocol:"https",host:"api.eosflare.io",port:"443",url:"https://api.eosflare.io",chainId:"aca376f206b8fc25a6ed44dbdc66547c36c6c33e3a119ffbeaef943642f0e906"}},blockBrowser:{eos:{tx:"https://bloks.io/transaction/",account:"https://bloks.io/account/",token:"https://bloks.io/tokens/"}},testConfig:{node:{area:"test",protocol:"https",host:"api.testnet.eos.io",port:"443",url:"https://api.testnet.eos.io/",chainId:"cf057bbfb72640471fd910bcb67639c22df9f92470936cddc1ade0e2f2e7dc4f"},toAccountSwap:"jinswap11112",toAccountJin:" jinbankoneo2",toAccountByHyk:"jintokensell",oracle:"jinoracle113",hykContranct:"",bonusAccount:"jindaojindao",baseCoin:"EOS",baseCoinContract:"eosio.token",teamFunds:"jinteamfunds",nodeMiner:"tagtokenmine",nodeToken:"tagtokentest",nodecoin:"tagissuetest",fundation:"dfsfundatest",lpPools:"tageosmining",swap:"defisswapcnt",pddex:"pddex.dfs",box:"swap.defi"},devConfig:{node:{area:"production",protocol:"https",host:"eos.blockeden.cn",port:"443",url:"https://eos.blockeden.cn",chainId:"aca376f206b8fc25a6ed44dbdc66547c36c6c33e3a119ffbeaef943642f0e906"},toAccountSwap:"defisswapcnt",toAccountJin:"bankofusddv1",toAccountByHyk:"jintokensell",hykContranct:"jindaotokens",bonusAccount:"jindaojindao",oracle:"jinoraclesv1",baseCoin:"EOS",baseCoinContract:"eosio.token",teamFunds:"jinteamfunds",type:!0,nodeMiner:"tagtokenmine",nodeToken:"tagtokentest",nodecoin:"tagissuetest",fundation:"dfsfundatest",lpPools:"tageosmining",swap:"defisswapcnt",pddex:"pddex.dfs",box:"swap.defi"},proConfig:{node:localStorage.getItem("proConfig")?JSON.parse(localStorage.getItem("proConfig")).node:{area:"production",protocol:"https",host:"eos.blockeden.cn",port:"443",url:"https://eos.blockeden.cn",chainId:"aca376f206b8fc25a6ed44dbdc66547c36c6c33e3a119ffbeaef943642f0e906"},toAccountSwap:"defisswapcnt",toAccountJin:"bankofusddv1",toAccountByHyk:"jintokensell",hykContranct:"jindaotokens",bonusAccount:"jindaojindao",oracle:"jinoraclesv1",baseCoin:"EOS",baseCoinContract:"eosio.token",teamFunds:"jinteamfunds",isNewConfig:!0,nodeMiner:"tagtokenfarm",nodeToken:"tagtokenmain",nodecoin:"tagissuemain",fundation:"dfsfundation",lpPools:"tageosmining",swap:"defisswapcnt",pddex:"pddex.dfs",box:"swap.defi"},damping:localStorage.getItem("damping")||.75,dfsPrice:localStorage.getItem("dfsPrice")||"0",eggargs:localStorage.getItem("eggargs")?JSON.parse(localStorage.getItem("eggargs")):[],feesApr:localStorage.getItem("feesApr")?JSON.parse(localStorage.getItem("feesApr")):[],dsrPools:[{id:1,bonus:"1.05000000000000000",refund_delay_sec:2592e3},{id:2,bonus:"1.10000000000000000",refund_delay_sec:7776e3},{id:3,bonus:"1.20000000000000000",refund_delay_sec:15552e3},{id:4,bonus:"1.50000000000000000",refund_delay_sec:31104e3}],rankInfoV3:localStorage.getItem("rankInfoV3")?JSON.parse(localStorage.getItem("rankInfoV3")):[],rankTrade:localStorage.getItem("rankTrade")?JSON.parse(localStorage.getItem("rankTrade")):[],dfsData:{},poolsBal:"0.0000",poolsTagBal:localStorage.getItem("poolsTagBal")?localStorage.getItem("poolsTagBal"):"1000.00000000",list:[],dbcList:[],yfcBal:"0.00000000",dbcBal:"0.00000000",dampingYfc:1,dampingDbc:1,marketLists:localStorage.getItem("marketLists")?JSON.parse(localStorage.getItem("marketLists")):[],filterMkLists:localStorage.getItem("filterMkLists")?JSON.parse(localStorage.getItem("filterMkLists")):[],tagLpBal:0,nodeLists:[],nodeListsTamp:Number(localStorage.getItem("nodeListsTamp")||0),tradeInfo:{},usdtPrice:6.5,coinPrices:localStorage.getItem("coinPrices")?JSON.parse(localStorage.getItem("coinPrices")):[]},mutations:{SET_CoinPrices:function(t,e){t.coinPrices=e,localStorage.setItem("coinPrices",JSON.stringify(e))},SET_UsdtPrice:function(t,e){t.usdtPrice=e},SET_TagLpBal:function(t,e){t.tagLpBal=e},SET_NodeLists:function(t,e){t.nodeLists=e},SET_NodeListsTamp:function(t,e){t.nodeListsTamp=e},SET_RANKINFOV3:function(t,e){t.rankInfoV3=e},SET_RANKTRADE:function(t,e){t.rankTrade=e},SET_BASECONFIG:function(t,e){t.baseConfig=e},SET_APRS:function(t,e){t.aprs=e,localStorage.setItem("aprs",JSON.stringify(e))},SET_DAMPING:function(t,e){t.damping=e,localStorage.setItem("damping",JSON.stringify(e))},SET_DFSPRICE:function(t,e){t.dfsPrice=e,localStorage.setItem("dfsPrice",e)},SET_EGGARGS:function(t,e){t.eggargs=e,localStorage.setItem("eggargs",JSON.stringify(e))},SET_FEESAPR:function(t,e){t.feesApr=e,localStorage.setItem("feesApr",JSON.stringify(e))},SET_DfsData:function(t,e){t.dfsData=e},SET_PoolsBal:function(t,e){t.poolsBal=e},SET_PoolsTagBal:function(t,e){t.poolsTagBal=e,localStorage.setItem("poolsTagBal",e)},SET_List:function(t,e){t.list=e},SET_YfcBal:function(t,e){t.yfcBal=e},SET_DampingYfc:function(t,e){t.dampingYfc=e},SET_DbcList:function(t,e){t.dbcList=e},SET_DbcBal:function(t,e){t.dbcBal=e},SET_DampingDbc:function(t,e){t.dampingDbc=e},SET_MarketLists:function(t,e){t.marketLists=e,localStorage.setItem("marketLists",JSON.stringify(e))},SET_FilterMkLists:function(t,e){t.filterMkLists=e,localStorage.setItem("filterMkLists",JSON.stringify(e))},SET_TRADEINFO:function(t,e){t.tradeInfo=e}},actions:{setCoinPrices:function(t,e){(0,t.commit)("SET_CoinPrices",e)},setUsdtPrice:function(t,e){(0,t.commit)("SET_UsdtPrice",e)},setTagLpBal:function(t,e){(0,t.commit)("SET_TagLpBal",e)},setNodeLists:function(t,e){(0,t.commit)("SET_NodeLists",e)},setNodeListsTamp:function(t,e){(0,t.commit)("SET_NodeListsTamp",e)},setRankInfoV3:function(t,e){(0,t.commit)("SET_RANKINFOV3",e)},setRankTrade:function(t,e){(0,t.commit)("SET_RANKTRADE",e)},setBaseConfig:function(t,e){(0,t.commit)("SET_BASECONFIG",e)},setAprs:function(t,e){(0,t.commit)("SET_APRS",e)},setDamping:function(t,e){(0,t.commit)("SET_DAMPING",e)},setDfsPrice:function(t,e){(0,t.commit)("SET_DFSPRICE",e)},setEggargs:function(t,e){(0,t.commit)("SET_EGGARGS",e)},setFeesApr:function(t,e){(0,t.commit)("SET_FEESAPR",e)},setDfsData:function(t,e){(0,t.commit)("SET_DfsData",e)},setPoolsBal:function(t,e){(0,t.commit)("SET_PoolsBal",e)},setPoolsTagBal:function(t,e){(0,t.commit)("SET_PoolsTagBal",e)},setList:function(t,e){(0,t.commit)("SET_List",e)},setYfcBal:function(t,e){(0,t.commit)("SET_YfcBal",e)},setDampingYfc:function(t,e){(0,t.commit)("SET_DampingYfc",e)},setDbcList:function(t,e){(0,t.commit)("SET_DbcList",e)},setDbcBal:function(t,e){(0,t.commit)("SET_DbcBal",e)},setDampingDbc:function(t,e){(0,t.commit)("SET_DampingDbc",e)},setMarketLists:function(t,e){(0,t.commit)("SET_MarketLists",e)},setFilterMkLists:function(t,e){(0,t.commit)("SET_FilterMkLists",e)},setTradeInfo:function(t,e){(0,t.commit)("SET_TRADEINFO",e)}}},o={sys:function(t){return t.sys},app:function(t){return t.app}};s.default.use(n.a);e.a=new n.a.Store({modules:{sys:r,app:i},getters:o})},4678:function(t,e,a){var s={"./af":"2bfb","./af.js":"2bfb","./ar":"8e73","./ar-dz":"a356","./ar-dz.js":"a356","./ar-kw":"423e","./ar-kw.js":"423e","./ar-ly":"1cfd","./ar-ly.js":"1cfd","./ar-ma":"0a84","./ar-ma.js":"0a84","./ar-sa":"8230","./ar-sa.js":"8230","./ar-tn":"6d83","./ar-tn.js":"6d83","./ar.js":"8e73","./az":"485c","./az.js":"485c","./be":"1fc1","./be.js":"1fc1","./bg":"84aa","./bg.js":"84aa","./bm":"a7fa","./bm.js":"a7fa","./bn":"9043","./bn-bd":"9686","./bn-bd.js":"9686","./bn.js":"9043","./bo":"d26a","./bo.js":"d26a","./br":"6887","./br.js":"6887","./bs":"2554","./bs.js":"2554","./ca":"d716","./ca.js":"d716","./cs":"3c0d","./cs.js":"3c0d","./cv":"03ec","./cv.js":"03ec","./cy":"9797","./cy.js":"9797","./da":"0f14","./da.js":"0f14","./de":"b469","./de-at":"b3eb","./de-at.js":"b3eb","./de-ch":"bb71","./de-ch.js":"bb71","./de.js":"b469","./dv":"598a","./dv.js":"598a","./el":"8d47","./el.js":"8d47","./en-au":"0e6b","./en-au.js":"0e6b","./en-ca":"3886","./en-ca.js":"3886","./en-gb":"39a6","./en-gb.js":"39a6","./en-ie":"e1d3","./en-ie.js":"e1d3","./en-il":"7333","./en-il.js":"7333","./en-in":"ec2e","./en-in.js":"ec2e","./en-nz":"6f50","./en-nz.js":"6f50","./en-sg":"b7e9","./en-sg.js":"b7e9","./eo":"65db","./eo.js":"65db","./es":"898b","./es-do":"0a3c","./es-do.js":"0a3c","./es-mx":"b5b7","./es-mx.js":"b5b7","./es-us":"55c9","./es-us.js":"55c9","./es.js":"898b","./et":"ec18","./et.js":"ec18","./eu":"0ff2","./eu.js":"0ff2","./fa":"8df4","./fa.js":"8df4","./fi":"81e9","./fi.js":"81e9","./fil":"d69a","./fil.js":"d69a","./fo":"0721","./fo.js":"0721","./fr":"9f26","./fr-ca":"d9f8","./fr-ca.js":"d9f8","./fr-ch":"0e49","./fr-ch.js":"0e49","./fr.js":"9f26","./fy":"7118","./fy.js":"7118","./ga":"5120","./ga.js":"5120","./gd":"f6b4","./gd.js":"f6b4","./gl":"8840","./gl.js":"8840","./gom-deva":"aaf2","./gom-deva.js":"aaf2","./gom-latn":"0caa","./gom-latn.js":"0caa","./gu":"e0c5","./gu.js":"e0c5","./he":"c7aa","./he.js":"c7aa","./hi":"dc4d","./hi.js":"dc4d","./hr":"4ba9","./hr.js":"4ba9","./hu":"5b14","./hu.js":"5b14","./hy-am":"d6b6","./hy-am.js":"d6b6","./id":"5038","./id.js":"5038","./is":"0558","./is.js":"0558","./it":"6e98","./it-ch":"6f12","./it-ch.js":"6f12","./it.js":"6e98","./ja":"079e","./ja.js":"079e","./jv":"b540","./jv.js":"b540","./ka":"201b","./ka.js":"201b","./kk":"6d79","./kk.js":"6d79","./km":"e81d","./km.js":"e81d","./kn":"3e92","./kn.js":"3e92","./ko":"22f8","./ko.js":"22f8","./ku":"2421","./ku.js":"2421","./ky":"9609","./ky.js":"9609","./lb":"440c","./lb.js":"440c","./lo":"b29d","./lo.js":"b29d","./lt":"26f9","./lt.js":"26f9","./lv":"b97c","./lv.js":"b97c","./me":"293c","./me.js":"293c","./mi":"688b","./mi.js":"688b","./mk":"6909","./mk.js":"6909","./ml":"02fb","./ml.js":"02fb","./mn":"958b","./mn.js":"958b","./mr":"39bd","./mr.js":"39bd","./ms":"ebe4","./ms-my":"6403","./ms-my.js":"6403","./ms.js":"ebe4","./mt":"1b45","./mt.js":"1b45","./my":"8689","./my.js":"8689","./nb":"6ce3","./nb.js":"6ce3","./ne":"3a39","./ne.js":"3a39","./nl":"facd","./nl-be":"db29","./nl-be.js":"db29","./nl.js":"facd","./nn":"b84c","./nn.js":"b84c","./oc-lnc":"167b","./oc-lnc.js":"167b","./pa-in":"f3ff","./pa-in.js":"f3ff","./pl":"8d57","./pl.js":"8d57","./pt":"f260","./pt-br":"d2d4","./pt-br.js":"d2d4","./pt.js":"f260","./ro":"972c","./ro.js":"972c","./ru":"957c","./ru.js":"957c","./sd":"6784","./sd.js":"6784","./se":"ffff","./se.js":"ffff","./si":"eda5","./si.js":"eda5","./sk":"7be6","./sk.js":"7be6","./sl":"8155","./sl.js":"8155","./sq":"c8f3","./sq.js":"c8f3","./sr":"cf1e","./sr-cyrl":"13e9","./sr-cyrl.js":"13e9","./sr.js":"cf1e","./ss":"52bd","./ss.js":"52bd","./sv":"5fbd","./sv.js":"5fbd","./sw":"74dc","./sw.js":"74dc","./ta":"3de5","./ta.js":"3de5","./te":"5cbb","./te.js":"5cbb","./tet":"576c","./tet.js":"576c","./tg":"3b1b","./tg.js":"3b1b","./th":"10e8","./th.js":"10e8","./tk":"5aff","./tk.js":"5aff","./tl-ph":"0f38","./tl-ph.js":"0f38","./tlh":"cf75","./tlh.js":"cf75","./tr":"0e81","./tr.js":"0e81","./tzl":"cf51","./tzl.js":"cf51","./tzm":"c109","./tzm-latn":"b53d","./tzm-latn.js":"b53d","./tzm.js":"c109","./ug-cn":"6117","./ug-cn.js":"6117","./uk":"ada2","./uk.js":"ada2","./ur":"5294","./ur.js":"5294","./uz":"2e8c","./uz-latn":"010e","./uz-latn.js":"010e","./uz.js":"2e8c","./vi":"2921","./vi.js":"2921","./x-pseudo":"fd7e","./x-pseudo.js":"fd7e","./yo":"7f33","./yo.js":"7f33","./zh-cn":"5c3a","./zh-cn.js":"5c3a","./zh-hk":"49ab","./zh-hk.js":"49ab","./zh-mo":"3a6c","./zh-mo.js":"3a6c","./zh-tw":"90ea","./zh-tw.js":"90ea"};function n(t){var e=i(t);return a(e)}function i(t){if(!a.o(s,t)){var e=new Error("Cannot find module '"+t+"'");throw e.code="MODULE_NOT_FOUND",e}return s[t]}n.keys=function(){return Object.keys(s)},n.resolve=i,t.exports=n,n.id="4678"},"48a3":function(t,e,a){"use strict";(function(t){var s=a("53ca"),n=a("5530"),i=a("1da1"),r=a("d4ec"),o=a("bee2"),c=(a("96cf"),a("99af"),a("4160"),a("159b"),a("d3b7"),a("ddb0"),a("7db0"),a("b0c0"),a("0d03"),a("25f0"),a("c975"),a("1a2b")),l=a.n(c),u=a("0926"),d=a("4504"),h=a("62e45"),f=a("4360"),p=a("d8ad"),m=a("d08b"),g=new(function(){function e(){Object(r.a)(this,e),this.Ecc=null,this.eos_client=null,this.rpc=null,this.signatureProvider=null,this.public_key=null,this.prive_key=null,this.vthis=null}var a,c;return Object(o.a)(e,[{key:"scatterInit",value:function(t,e){this.vthis=t,this.Ecc=l.a,this.rpc=new u.JsonRpc("https://dfs.tinyhill.dev",{fetch:m}),console.log("init"),e()}},{key:"exportPrivateKey",value:function(){return this.prive_key}},{key:"randomKey",value:function(t){var e=this;this.Ecc.randomKey().then((function(a){var s=a,n=e.Ecc.privateToPublic(s);t(s,n)}))}},{key:"loginOut",value:function(t){this.Ecc=null,this.eos_client=null,this.rpc=null,this.signatureProvider=null,this.public_key=null,this.prive_key=null,this.scatterInit(this.vthis,t)}},{key:"login",value:function(t){t()}},{key:"loginByAcc",value:(c=Object(i.a)(regeneratorRuntime.mark((function t(e,a){var s,n,i,r,o,c,l,p,m,g,v,k,b=this;return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return s=e.account,n=e.pwd,i=this.Ecc.seedPrivate("".concat(s,"-").concat(n)),this.prive_key=i,this.public_key=this.Ecc.privateToPublic(i),this.signatureProvider=new d.JsSignatureProvider([i]),this.eos_client=new u.Api({rpc:this.rpc,signatureProvider:this.signatureProvider,textDecoder:new TextDecoder,textEncoder:new TextEncoder}),t.prev=7,t.next=10,Object(h.get_account)(s);case 10:if(r=t.sent,o=r.status,c=r.result,o){t.next=15;break}return t.abrupt("return",a("账户查询失败"));case 15:if(l=!1,p="",(m=c.permissions).forEach((function(t){l||t.required_auth.keys.forEach((function(e){e.key===b.public_key&&(l=!0,p=t.perm_name)}))})),l){t.next=21;break}return t.abrupt("return",a("账户公钥不匹配"));case 21:g=!1,v=m.find((function(t){return"owner"===t.perm_name}));try{g="dfsacmanager"!==v.required_auth.accounts[0].permission.actor}catch(t){console.log(t)}k={name:s,permissions:p,publicKey:this.public_key,isSelf:g},f.a.dispatch("setAccount",k),a(null,k),t.next=33;break;case 29:return t.prev=29,t.t0=t.catch(7),console.log(t.t0),t.abrupt("return",a("账户接口查询失败"));case 33:case"end":return t.stop()}}),t,this,[[7,29]])}))),function(t,e){return c.apply(this,arguments)})},{key:"regPwd",value:function(t,e){var a=f.a.state.app.account.name;a&&(this.Ecc.seedPrivate("".concat(a,"-").concat(t))!==this.prive_key?e("err"):e())}},{key:"accReg",value:(a=Object(i.a)(regeneratorRuntime.mark((function t(e,a){var s,n,i,r;return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:s=e.account,n=e.pwd,i=this.Ecc.seedPrivate("".concat(s,"-").concat(n)),r=this.Ecc.privateToPublic(i),console.log(i,r),a(null,r);case 6:case"end":return t.stop()}}),t,this)}))),function(t,e){return a.apply(this,arguments)})},{key:"transact",value:function(t,e){var a=this;Object(i.a)(regeneratorRuntime.mark((function s(){var n;return regeneratorRuntime.wrap((function(s){for(;;)switch(s.prev=s.next){case 0:return s.prev=0,s.next=3,a.eos_client.transact(t,{blocksBehind:3,expireSeconds:120});case 3:n=s.sent,e(null,n),s.next=10;break;case 7:s.prev=7,s.t0=s.catch(0),a.dealError(s.t0,e);case 10:case"end":return s.stop()}}),s,null,[[0,7]])})))()}},{key:"transfer",value:function(t,e){this.transferSure(t,e)}},{key:"toTransaction",value:function(t,e){p.a.$emit("busShowComfire",Object.assign({},t,{type:"toTransaction",cb:e}))}},{key:"transferSure",value:function(t,e){var a=f.a.state.app.account.name,s=f.a.state.app.account.permissions,n={actions:[{account:t.code,name:"transfer",authorization:[{actor:a,permission:s}],data:{from:a,to:t.toAccount,quantity:t.quantity,memo:t.memo||""}}]};this.toTransaction(n,e)}},{key:"toTransactionSure",value:function(e,a){var s=this;Object(i.a)(regeneratorRuntime.mark((function i(){var r,o,c,l,u,d,f,p,m,g,v;return regeneratorRuntime.wrap((function(i){for(;;)switch(i.prev=i.next){case 0:return i.prev=0,o={tx:e,txh:r={blocksBehind:3,expireSeconds:120}},i.next=5,Object(h.pushFreeCpu)(o);case 5:if(c=i.sent,l=c.status,u=c.result,console.log(u,l),l&&u){i.next=12;break}return s.transact(e,a),i.abrupt("return");case 12:if(200!==u.code){i.next=25;break}return f=u.data,i.next=16,s.eos_client.signatureProvider.getAvailableKeys();case 16:return p=i.sent,m=t.from(f.serializedTransaction,"hex"),g={chainId:"aca376f206b8fc25a6ed44dbdc66547c36c6c33e3a119ffbeaef943642f0e906",requiredKeys:p,serializedTransaction:m,abis:[]},i.next=21,s.eos_client.signatureProvider.sign(g);case 21:(d=i.sent).signatures.unshift(f.signatures[0]),i.next=28;break;case 25:return i.next=27,s.eos_client.transact(e,Object(n.a)(Object(n.a)({},r),{},{sign:!0,broadcast:!1}));case 27:d=i.sent;case 28:return i.next=30,s.eos_client.pushSignedTransaction(d);case 30:v=i.sent,console.log(v),a(null,v),i.next=38;break;case 35:i.prev=35,i.t0=i.catch(0),s.dealFreeCpuError(i.t0,a);case 38:case"end":return i.stop()}}),i,null,[[0,35]])})))()}},{key:"dealFreeCpuError",value:function(t,e){console.log(t.toString());var a={code:999,message:"fails!"};-1!==t.toString().indexOf("INSUFFICIENT_OUTPUT_AMOUNT")&&(a={code:3050003,message:"滑点过高"}),e(a,null)}},{key:"dealError",value:function(t,e){console.log(t);var a={code:999,message:"fails!"};try{if("object"===Object(s.a)(t)&&402===t.code&&(a={code:"402",message:"User rejected the signature request"}),"string"==typeof t){var n=JSON.parse(t);if(3080004===n.error.code&&(a={code:3080004,message:"Insufficient CPU resources"}),3080002===n.error.code&&(a={code:3080002,message:"Insufficient Net resources"}),3080001===n.error.code&&(a={code:3080001,message:"Insufficient RAM resources"}),3050003===n.error.code||3010010===n.error.code){var i=n.error.details;a=-1!==i[0].message.indexOf("INSUFFICIENT_OUTPUT_AMOUNT")?{code:3050003,message:"滑点过高"}:-1!==i[0].message.indexOf("Invalid packed transaction")?{code:402,message:"用户取消"}:{code:n.error.code,message:i[0].message}}}e(a,null)}catch(s){"操作已取消"===t&&(a={code:402,message:"Cancel"}),e(a,null)}}}]),e}());e.a=g}).call(this,a("b639").Buffer)},5:function(t,e){},"56d7":function(t,e,a){"use strict";a.r(e);a("e260"),a("e6cf"),a("cca6"),a("a79d");var s=a("2b0e"),n=a("b85c"),i=a("2909"),r=a("53ca"),o=a("1da1"),c=a("5530"),l=(a("96cf"),a("d3b7"),a("4795"),a("b0c0"),a("4160"),a("159b"),a("ac1f"),a("1276"),a("b680"),a("e25e"),a("acd8"),a("fb6a"),a("0d03"),a("2f62")),u=(a("25f0"),a("4c53"),a("a15b"),a("5319"),a("a9e3"),a("d4ec")),d=a("bee2"),h=(a("99af"),a("a630"),a("3ca3"),a("c975"),a("76b0")),f=a.n(h),p=a("876a"),m=a.n(p),g=a("cd2e"),k=a.n(g),b=a("bc3a"),w=a.n(b),S=a("4360"),_=a("62e45");f.a.plugins(new m.a);var y=new(function(){function t(){Object(u.a)(this,t),this.vthis=null,this.scatter=null,this.scatterEosJs=null,this.eosJs=null,this.connectCount=0,this.isConnect=!1}return Object(d.a)(t,[{key:"scatterInit",value:function(t,e){this.vthis=t;var a=this;if(a.isConnect)e();else{var s=S.a.state.sys.baseConfig.node,n={blockchain:"eos",protocol:s.protocol,host:s.host,port:s.port,chainId:"aca376f206b8fc25a6ed44dbdc66547c36c6c33e3a119ffbeaef943642f0e906"},i=f.a.Network.fromJson(n);f.a.connect("DeFis-Network",{network:i}).then(function(){var t=Object(o.a)(regeneratorRuntime.mark((function t(s){return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(a.isConnect=s,s){t.next=7;break}if(a.connectCount+=1,!(a.connectCount>10)){t.next=5;break}return t.abrupt("return",!1);case 5:return setTimeout((function(){a.scatterInit(a.vthis,e)}),500),t.abrupt("return",!1);case 7:a.scatter=f.a.scatter,a.eosJs=f.a.eos(i,k.a,{}),window.eosJs=a.eosJs,e();case 11:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}())}}},{key:"loginOut",value:function(t){this.scatter.forgetIdentity(),t()}},{key:"login",value:function(t){var e=this;e.isConnect?e.scatter.login().then((function(e){if(!e)return console.error("no identity");var a=f.a.account("eos"),s={name:a.name,permissions:a.authority,publicKey:a.publicKey};S.a.dispatch("setAccount",s),t(s)})):e.scatterInit(e.vthis,(function(){e.login()}))}},{key:"getCurrencyBalance",value:function(t,e){var a={code:t.code||"eosio.token",symbol:t.coin||"EOS",account:t.account||S.a.state.app.account.name},s=S.a.state.sys.baseConfig.node.url;w.a.post("".concat(s,"/v1/chain/get_currency_balance"),JSON.stringify(a)).then((function(a){if(a.data.length){var s=a.data[0];e(s)}else e("".concat(Number(0).toFixed(t.decimal)," ").concat(t.symbol))})).catch((function(t){console.log("e: ".concat(t))}))}},{key:"transfer",value:function(t,e){var a=this,s=S.a.state.app.account.name,n=S.a.state.app.account.permissions,i={actions:[{account:t.code,name:"transfer",authorization:[{actor:s,permission:n}],data:{from:s,to:t.toAccount,quantity:t.quantity,memo:t.memo||""}}]};S.a.state.app.freeCpu?this.handleUseFreeCpu(i,e):this.eosJs.transaction(i,{blocksBehind:3,expireSeconds:30}).then((function(t){e(null,t)})).catch((function(t){a.dealError(t,e)}))}},{key:"toTransaction",value:function(t,e){var a=t,s=this;s.isConnect?S.a.state.app.freeCpu?this.handleUseFreeCpu(a,e):s.eosJs.transaction(a,{blocksBehind:3,expireSeconds:30}).then((function(t){e(null,t)})).catch((function(t){s.dealError(t,e)})):s.toTransaction(t,e)}},{key:"buffer2hex",value:function(t){return Array.from(t,(function(t){return("00"+t.toString(16)).slice(-2)})).join("")}},{key:"handleUseFreeCpu",value:function(t,e){var a=this;Object(o.a)(regeneratorRuntime.mark((function s(){var n,i,r,o,c,l,u,d;return regeneratorRuntime.wrap((function(s){for(;;)switch(s.prev=s.next){case 0:return s.prev=0,n={tx:t,txh:{blocksBehind:3,expireSeconds:120}},i=S.a.state.app.account.name,t.actions.unshift({account:"dfsfreecpu11",name:"freecpu",authorization:[{actor:"yfcmonitor11",permission:"active"}],data:{user:i}}),s.next=7,a.eosJs.transaction(t,{sign:!0,broadcast:!1});case 7:return r=s.sent,(c=(o=r).transaction.transaction).signatures=o.transaction.signatures,c.context_free_data=[],n.sign_data=c,console.log(t),console.log(n),s.next=17,Object(_.pushFreeCpu2)(n);case 17:if(l=s.sent,u=l.status,d=l.result,console.log(d,u),u&&d){s.next=24;break}return e(d,null),s.abrupt("return");case 24:e(null,d),s.next=30;break;case 27:s.prev=27,s.t0=s.catch(0),a.dealFreeCpuError(s.t0,e);case 30:case"end":return s.stop()}}),s,null,[[0,27]])})))()}},{key:"dealFreeCpuError",value:function(t,e){var a=t.toString();"object"===Object(r.a)(t)&&(a=JSON.stringify(t));var s={code:999,message:a};-1!==a.indexOf("INSUFFICIENT_OUTPUT_AMOUNT")&&(s={code:3050003,message:"滑点过高"}),-1!==a.indexOf("you have no permission for this operation")&&(s={code:3050003,message:"您没有权限操作"}),e(s,null)}},{key:"dealError",value:function(t,e){console.log(t);var a={code:999,message:"fails!"};try{if("object"===Object(r.a)(t)&&402===t.code&&(a={code:"402",message:"User rejected the signature request"}),"string"==typeof t){var s=JSON.parse(t);if(3080004===s.error.code&&(a={code:3080004,message:"Insufficient CPU resources"}),3080002===s.error.code&&(a={code:3080002,message:"Insufficient Net resources"}),3080001===s.error.code&&(a={code:3080001,message:"Insufficient RAM resources"}),3080006===s.error.code&&(a={code:3080006,message:this.vthis.$t("error.timeout")}),3050003===s.error.code||3010010===s.error.code){var n=s.error.details;a=-1!==n[0].message.indexOf("INSUFFICIENT_OUTPUT_AMOUNT")?{code:3050003,message:"滑点过高"}:-1!==n[0].message.indexOf("Invalid packed transaction")?{code:402,message:"用户取消"}:{code:s.error.code,message:n[0].message}}}e(a,null)}catch(s){"操作已取消"===t&&(a={code:402,message:"Cancel"}),e(a,null)}}}]),t}()),C=a("48a3"),x=(a("9911"),a("a062")),M=a("86cd"),T=new(function(){function t(){Object(u.a)(this,t),this.transport=null,this.link=null,this.vthis=null}var e;return Object(d.a)(t,[{key:"scatterInit",value:function(t,e){this.vthis=t,this.transport=new M.a,this.link=new x.h({transport:this.transport}),e()}},{key:"loginOut",value:function(t){this.transport=null,this.link=null,this.vthis=null,this.scatterInit(this.vthis,t)}},{key:"login",value:(e=Object(o.a)(regeneratorRuntime.mark((function t(e){var a,s;return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,this.link.login("apps.defis.network");case 2:a=t.sent,s={name:a.account.account_name,permissions:a.account.permissions[0].perm_name,publicKey:a.account.publicKey},S.a.dispatch("setAccount",s),e(s);case 6:case"end":return t.stop()}}),t,this)}))),function(t){return e.apply(this,arguments)})},{key:"transaction",value:function(t){var e=this;return new Promise((function(a,s){e.link.transact(t).then((function(t){a(t)}),(function(t){s(t)}))}))}},{key:"transfer",value:function(t,e){var a=this,s=S.a.state.app.account,n=s.name,i=s.permissions,r=t.quantity,o={actions:[{account:t.code,name:"transfer",authorization:[{actor:n,permission:i}],data:{from:n,to:t.toAccount,quantity:r,memo:t.memo}}]};this.transaction(o).then((function(t){e(null,t)})).catch((function(t){a.errorCall(t,e)}))}},{key:"toTransaction",value:function(t,e){var a=t,s=this;s.transaction(a,{blocksBehind:3,expireSeconds:30}).then((function(t){e(null,t)})).catch((function(t){s.errorCall(t,e)}))}},{key:"errorCall",value:function(t,e){var a={code:"0001",message:JSON.stringify(t)};try{if("object"===Object(r.a)(t)&&402===t.code&&(a={code:402,message:this.vthis.$t("error.cancel")}),"string"==typeof t){var s=JSON.parse(t);if(3080004===s.error.code&&(a={code:3080004,message:this.vthis.$t("error.insufficient",{res:"CPU"})}),3080002===s.error.code&&(a={code:3080002,message:this.vthis.$t("error.insufficient",{res:"NET"})}),3080001===s.error.code&&(a={code:3080001,message:s.error.details[0].message}),3080006===s.error.code&&(a={code:3080006,message:this.vthis.$t("error.timeout")}),3050003===s.error.code||3010010===s.error.code){var n=s.error.details;a=-1!==n[0].message.indexOf("INSUFFICIENT_OUTPUT_AMOUNT")?{code:3050003,message:this.vthis.$t("dex.heightSlip")}:-1!==n[0].message.indexOf("Invalid packed transaction")?{code:402,message:this.vthis.$t("error.cancel")}:{code:s.error.code,message:n[0].message}}}e(a)}catch(s){"操作已取消"===t&&(a={code:402,message:this.vthis.$t("error.cancel")}),e(a)}}}]),t}()),O=new(function(){function t(){Object(u.a)(this,t),this.wallet="",this.obj=null}return Object(d.a)(t,[{key:"scatterInit",value:function(t,e){this.wallet=(localStorage.getItem("WALLET")||"scatter").toLowerCase(),"anchor"===this.wallet?this.obj=T:"scatter2"===this.wallet?this.obj=y:"newwallet"===this.wallet?this.obj=C.a:this.obj=y,this.obj.scatterInit(t,e)}},{key:"accReg",value:function(t,e){this.obj.accReg(t,e)}},{key:"login",value:function(t){this.obj.login(t)}},{key:"loginByAcc",value:function(t,e){this.obj.loginByAcc(t,e)}},{key:"loginOut",value:function(t){S.a.dispatch("setAccount",{}),this.obj.loginOut(t)}},{key:"transfer",value:function(t,e){this.obj.transfer(t,e)}},{key:"toTransaction",value:function(t,e){this.obj.toTransaction(t,e)}},{key:"exportPrivateKey",value:function(){return this.obj.exportPrivateKey()}},{key:"transferSure",value:function(t,e){this.obj.transfer(t,e)}},{key:"toTransactionSure",value:function(t,e){this.obj.toTransactionSure(t,e)}},{key:"regPwd",value:function(t,e){this.obj.regPwd(t,e)}},{key:"randomKey",value:function(t){this.obj.randomKey(t)}}]),t}()),A=a("4128"),j=a.n(A),E=a("c1df"),D=a.n(E);function I(t,e){return t&&e?new j.a(t).div(new j.a(e)).toNumber():0}var N=a("67bc"),R=a.n(N),P=a("b311"),F=a.n(P),G={name:"Town",components:{},data:function(){return{version:"V1.4.0",logined:!1,tipMsg:"",checked:!0,land:[],gemfactory:[],feedmill:[],sugarmill:[],textilemill:[],tailorshop:[],bakery:[],cow:[],sheep:[],chicken:[],assets:{},orderLogs:[],orders:[],works:"",price:[],delay:5e3,updateDelay:6e3,failDelay:5e3,failMax:5,freeCPU:!0,logMsg:[],showProduct:!1,showCalc:!1,requireAsset:"",createAsset:"",requireTime:"",endTime:"",nftCount:0,activeName:"farm",orderNums:[],activeTime:18e5,timer:0,loading:!0,failMax503:3,chinese:{WHEAT:"小麦",CORN:"玉米",CARROT:"萝卜",MILK:"牛奶",EGG:"鸡蛋",WOOL:"羊毛",BREAD:"面包",COOKIE:"曲奇",CAKE:"蛋糕",DCASH:"绿钞",COWFOOD:"牛饲料",CHKFOOD:"鸡饲料",SHPFOOD:"羊饲料",SUGCANE:"甘蔗",COTTON:"棉花",SUGAR:"砂糖",SYRUP:"糖浆",CARAMEL:"焦糖",CLOTH:"棉布",YARN:"纺纱",SILK:"丝绸",SHIRT:"衬衫",SWEATER:"毛衣",COAT:"外套",RUBY:"红宝石",BERYL:"绿宝石",TOPAZ:"黄玉"},cost:{WHEAT:1,CORN:2,CARROT:3,MILK:4,EGG:5,WOOL:6,BREAD:6,COOKIE:7,CAKE:11,COWFOOD:4,CHKFOOD:5,SHPFOOD:6,SUGCANE:4,COTTON:5,SUGAR:4,SYRUP:8,CARAMEL:12,CLOTH:15,YARN:18,SILK:22,SHIRT:30,SWEATER:36,COAT:55},curNode:0,showNodeSetDialog:!1,nodeList:[{name:"Eosflare",area:"production",protocol:"https",host:"api.eosflare.io",port:"443",url:"https://api.eosflare.io",chainId:"aca376f206b8fc25a6ed44dbdc66547c36c6c33e3a119ffbeaef943642f0e906"},{name:"TP",area:"production",protocol:"https",host:"eospush.tokenpocket.pro",port:"443",url:"https://eospush.tokenpocket.pro",chainId:"aca376f206b8fc25a6ed44dbdc66547c36c6c33e3a119ffbeaef943642f0e906"},{name:"Fwnw",area:"production",protocol:"https",host:"api.fwnw.com",port:"443",url:"https://api.fwnw.com",chainId:"aca376f206b8fc25a6ed44dbdc66547c36c6c33e3a119ffbeaef943642f0e906"},{name:"Sweden",area:"production",protocol:"https",host:"api.eossweden.se",port:"443",url:"https://api.eossweden.se",chainId:"aca376f206b8fc25a6ed44dbdc66547c36c6c33e3a119ffbeaef943642f0e906"},{name:"EOSNation",area:"production",protocol:"https",host:"api.eosn.io",port:"443",url:"https://api.eosn.io",chainId:"aca376f206b8fc25a6ed44dbdc66547c36c6c33e3a119ffbeaef943642f0e906"},{name:"Greymass",area:"production",protocol:"https",host:"eos.greymass.com",port:"443",url:"https://eos.greymass.com",chainId:"aca376f206b8fc25a6ed44dbdc66547c36c6c33e3a119ffbeaef943642f0e906"},{name:"StartEos",area:"production",protocol:"https",host:"api-mainnet.starteos.io",port:"443",url:"https://api-mainnet.starteos.io",chainId:"aca376f206b8fc25a6ed44dbdc66547c36c6c33e3a119ffbeaef943642f0e906"},{name:"Laomao",area:"production",protocol:"https",host:"api.eoslaomao.com",port:"443",url:"https://api.eoslaomao.com",chainId:"aca376f206b8fc25a6ed44dbdc66547c36c6c33e3a119ffbeaef943642f0e906"},{name:"Scatter(墙)",area:"production",protocol:"https",host:"nodes.get-scatter.com",port:"443",url:"https://nodes.get-scatter.com",chainId:"aca376f206b8fc25a6ed44dbdc66547c36c6c33e3a119ffbeaef943642f0e906"},{name:"Newdex(墙)",area:"production",protocol:"https",host:"eos.newdex.one",port:"443",url:"https://eos.newdex.one",chainId:"aca376f206b8fc25a6ed44dbdc66547c36c6c33e3a119ffbeaef943642f0e906"}]}},computed:Object(c.a)({},Object(l.b)({account:function(t){return t.app.account},baseConfig:function(t){return t.sys.baseConfig},proConfig:function(t){return t.sys.proConfig}})),methods:{sleep:function(t){return new Promise((function(e,a){return setTimeout(e,t)}))},handleDealNodeDalay:function(t){var e=this;return Object(o.a)(regeneratorRuntime.mark((function a(){var s,n,i,r;return regeneratorRuntime.wrap((function(a){for(;;)switch(a.prev=a.next){case 0:return s=t.url,n=D()().valueOf(),a.next=4,e.$api.get_info(s);case 4:if(i=a.sent,i.status){a.next=10;break}return e.$set(t,"delay",9999),e.showNodeSetDialog&&setTimeout(e.handleDealNodeDalay,2e3,t),a.abrupt("return");case 10:r=D()().valueOf()-n,e.$set(t,"delay",r),e.showNodeSetDialog&&setTimeout(e.handleDealNodeDalay,2e3,t);case 13:case"end":return a.stop()}}),a)})))()},handleShowNodeSetDialog:function(){for(var t=this,e=0;e<this.nodeList.length;e++)if(this.nodeList[e].name==this.baseConfig.node.name){this.curNode=e;break}this.showNodeSetDialog=!0,this.nodeList.forEach((function(e){t.$set(e,"delay",void 0),t.handleDealNodeDalay(e)}))},handleNodeSet:function(t){if("cancel"===t)this.showNodeSetDialog=!1;else if("confirm"===t){var e=this.baseConfig;e.node=this.nodeList[this.curNode],e.type=!0,localStorage.setItem("proConfig",JSON.stringify(e)),this.$store.dispatch("setBaseConfig",e),this.showNodeSetDialog=!1}},handleRestore:function(){for(var t=JSON.parse(localStorage.getItem("land")),e=JSON.parse(localStorage.getItem("gemfactory")),a=JSON.parse(localStorage.getItem("feedmill")),s=JSON.parse(localStorage.getItem("sugarmill")),n=JSON.parse(localStorage.getItem("textilemill")),i=JSON.parse(localStorage.getItem("tailorshop")),r=JSON.parse(localStorage.getItem("bakery")),o=JSON.parse(localStorage.getItem("cow")),c=JSON.parse(localStorage.getItem("sheep")),l=JSON.parse(localStorage.getItem("chicken")),u=JSON.parse(localStorage.getItem("orders")),d=0;d<this.land.length;d++){if(this.land[d].id!==t[d].id)return void this.$toast({type:"fail",message:"id不匹配，还原失败"});this.land[d].autoSwitch=t[d].autoSwitch,this.land[d].workid=t[d].workid,this.land[d].multiple=t[d].multiple,this.land[d].round=t[d].round,this.land[d].autoSwitch&&this.handleSwitchCheck(this.land[d])}for(var h=0;h<this.gemfactory.length;h++){if(this.gemfactory[h].id!==e[h].id)return void this.$toast({type:"fail",message:"id不匹配，还原失败"});this.gemfactory[h].autoSwitch=e[h].autoSwitch,this.gemfactory[h].workid=e[h].workid,this.gemfactory[h].multiple=e[h].multiple,this.gemfactory[h].round=e[h].round,this.gemfactory[h].autoSwitch&&this.handleSwitchCheck(this.gemfactory[h])}for(var f=0;f<this.feedmill.length;f++){if(this.feedmill[f].id!==a[f].id)return void this.$toast({type:"fail",message:"id不匹配，还原失败"});this.feedmill[f].autoSwitch=a[f].autoSwitch,this.feedmill[f].workid=a[f].workid,this.feedmill[f].multiple=a[f].multiple,this.feedmill[f].round=a[f].round,this.feedmill[f].autoSwitch&&this.handleSwitchCheck(this.feedmill[f])}for(var p=0;p<this.sugarmill.length;p++){if(this.sugarmill[p].id!==s[p].id)return void this.$toast({type:"fail",message:"id不匹配，还原失败"});this.sugarmill[p].autoSwitch=s[p].autoSwitch,this.sugarmill[p].workid=s[p].workid,this.sugarmill[p].multiple=s[p].multiple,this.sugarmill[p].round=s[p].round,this.sugarmill[p].autoSwitch&&this.handleSwitchCheck(this.sugarmill[p])}for(var m=0;m<this.textilemill.length;m++){if(this.textilemill[m].id!==n[m].id)return void this.$toast({type:"fail",message:"id不匹配，还原失败"});this.textilemill[m].autoSwitch=n[m].autoSwitch,this.textilemill[m].workid=n[m].workid,this.textilemill[m].multiple=n[m].multiple,this.textilemill[m].round=n[m].round,this.textilemill[m].autoSwitch&&this.handleSwitchCheck(this.textilemill[m])}for(var g=0;g<this.tailorshop.length;g++){if(this.tailorshop[g].id!==i[g].id)return void this.$toast({type:"fail",message:"id不匹配，还原失败"});this.tailorshop[g].autoSwitch=i[g].autoSwitch,this.tailorshop[g].workid=i[g].workid,this.tailorshop[g].multiple=i[g].multiple,this.tailorshop[g].round=i[g].round,this.tailorshop[g].autoSwitch&&this.handleSwitchCheck(this.tailorshop[g])}for(var v=0;v<this.bakery.length;v++){if(this.bakery[v].id!==r[v].id)return void this.$toast({type:"fail",message:"id不匹配，还原失败"});this.bakery[v].autoSwitch=r[v].autoSwitch,this.bakery[v].workid=r[v].workid,this.bakery[v].multiple=r[v].multiple,this.bakery[v].round=r[v].round,this.bakery[v].autoSwitch&&this.handleSwitchCheck(this.bakery[v])}for(var k=0;k<this.cow.length;k++){if(this.cow[k].id!==o[k].id)return void this.$toast({type:"fail",message:"id不匹配，还原失败"});this.cow[k].autoSwitch=o[k].autoSwitch,this.cow[k].workid=o[k].workid,this.cow[k].multiple=o[k].multiple,this.cow[k].round=o[k].round,this.cow[k].autoSwitch&&this.handleSwitchCheck(this.cow[k])}for(var b=0;b<this.sheep.length;b++){if(this.sheep[b].id!==c[b].id)return void this.$toast({type:"fail",message:"id不匹配，还原失败"});this.sheep[b].autoSwitch=c[b].autoSwitch,this.sheep[b].workid=c[b].workid,this.sheep[b].multiple=c[b].multiple,this.sheep[b].round=c[b].round,this.sheep[b].autoSwitch&&this.handleSwitchCheck(this.sheep[b])}for(var w=0;w<this.chicken.length;w++){if(this.chicken[w].id!==l[w].id)return void this.$toast({type:"fail",message:"id不匹配，还原失败"});this.chicken[w].autoSwitch=l[w].autoSwitch,this.chicken[w].workid=l[w].workid,this.chicken[w].multiple=l[w].multiple,this.chicken[w].round=l[w].round,this.chicken[w].autoSwitch&&this.handleSwitchCheck(this.chicken[w])}for(var S=0;S<this.orders.length;S++){if(this.orders[S].id!==u[S].id)return void this.$toast({type:"fail",message:"id不匹配，还原失败"});this.orders[S].autoSwitch=u[S].autoSwitch;for(var _=0;_<this.orders[S].trigger.length;_++)this.orders[S].trigger[_].value=u[S].trigger[_].value;this.orders[S].autoSwitch&&this.handleSwitchCheck2(this.orders[S])}this.$toast({type:"success",message:"还原成功"})},handleBackup:function(){var t=[],e=[],a=[],s=[],n=[],i=[],r=[],o=[],c=[],l=[],u=[];this.land.forEach((function(e){t.push({id:e.id,autoSwitch:e.autoSwitch,workid:e.workid,multiple:e.multiple,round:e.round})})),this.gemfactory.forEach((function(t){e.push({id:t.id,autoSwitch:t.autoSwitch,workid:t.workid,multiple:t.multiple,round:t.round})})),this.feedmill.forEach((function(t){a.push({id:t.id,autoSwitch:t.autoSwitch,workid:t.workid,multiple:t.multiple,round:t.round})})),this.sugarmill.forEach((function(t){s.push({id:t.id,autoSwitch:t.autoSwitch,workid:t.workid,multiple:t.multiple,round:t.round})})),this.textilemill.forEach((function(t){n.push({id:t.id,autoSwitch:t.autoSwitch,workid:t.workid,multiple:t.multiple,round:t.round})})),this.tailorshop.forEach((function(t){i.push({id:t.id,autoSwitch:t.autoSwitch,workid:t.workid,multiple:t.multiple,round:t.round})})),this.bakery.forEach((function(t){r.push({id:t.id,autoSwitch:t.autoSwitch,workid:t.workid,multiple:t.multiple,round:t.round})})),this.cow.forEach((function(t){o.push({id:t.id,autoSwitch:t.autoSwitch,workid:t.workid,multiple:t.multiple,round:t.round})})),this.sheep.forEach((function(t){c.push({id:t.id,autoSwitch:t.autoSwitch,workid:t.workid,multiple:t.multiple,round:t.round})})),this.chicken.forEach((function(t){l.push({id:t.id,autoSwitch:t.autoSwitch,workid:t.workid,multiple:t.multiple,round:t.round})})),this.orders.forEach((function(t){u.push({id:t.id,autoSwitch:t.autoSwitch,trigger:t.trigger})})),localStorage.setItem("land",JSON.stringify(t)),localStorage.setItem("gemfactory",JSON.stringify(e)),localStorage.setItem("feedmill",JSON.stringify(a)),localStorage.setItem("sugarmill",JSON.stringify(s)),localStorage.setItem("textilemill",JSON.stringify(n)),localStorage.setItem("tailorshop",JSON.stringify(i)),localStorage.setItem("bakery",JSON.stringify(r)),localStorage.setItem("cow",JSON.stringify(o)),localStorage.setItem("sheep",JSON.stringify(c)),localStorage.setItem("chicken",JSON.stringify(l)),localStorage.setItem("orders",JSON.stringify(u));var d=JSON.parse(localStorage.getItem("land")),h=JSON.parse(localStorage.getItem("gemfactory")),f=JSON.parse(localStorage.getItem("feedmill")),p=JSON.parse(localStorage.getItem("sugarmill")),m=JSON.parse(localStorage.getItem("textilemill")),g=JSON.parse(localStorage.getItem("tailorshop")),v=JSON.parse(localStorage.getItem("bakery")),k=JSON.parse(localStorage.getItem("cow")),b=JSON.parse(localStorage.getItem("sheep")),w=JSON.parse(localStorage.getItem("chicken")),S=JSON.parse(localStorage.getItem("orders"));this.handleCheckBackup([t,e,a,s,n,i,r,o,c,l],[d,h,f,p,m,g,v,k,b,w]),this.handleCheckOrdersBackup(u,S)},handleCheckBackup:function(t,e){for(var a=0;a<t.length;a++)if(t[a].id!==e[a].id||t[a].autoSwitch!==e[a].autoSwitch||t[a].workid!==e[a].workid||t[a].multiple!==e[a].multiple||t[a].round!==e[a].round)return void this.$toast({type:"fail",message:"备份失败"})},handleCheckOrdersBackup:function(t,e){if(t.id===e.id&&t.autoSwitch===e.autoSwitch){for(var a=0;a<t.length;a++)t[a].name===e[a].name&&t[a].value===e[a].value&&t[a].min===e[a].min||this.$toast({type:"fail",message:"备份失败"});this.$toast({type:"success",message:"备份成功"})}else this.$toast({type:"fail",message:"备份失败"})},handleCopy:function(){var t=this,e=new F.a(".copy");e.on("success",(function(e){t.$toast({type:"success",message:"复制成功"})})),e.on("error",(function(e){t.$toast({type:"fail",message:"复制失败"})}))},handleSafeGetTableRows:function(t){var e=this;return Object(o.a)(regeneratorRuntime.mark((function a(){var s,n,i,r,o;return regeneratorRuntime.wrap((function(a){for(;;)switch(a.prev=a.next){case 0:r=0;case 1:return a.next=3,e.$api.get_table_rows(t);case 3:if(o=a.sent,s=o.status,n=o.result,i=o.code,503===o.code){a.next=11;break}return a.abrupt("return",{status:s,result:n,code:i});case 11:return r+=1,console.log("503 "+r),a.next=15,e.sleep(500);case 15:if(r<e.failMax503){a.next=1;break}case 16:return a.abrupt("return",{status:s,result:n,code:i});case 17:case"end":return a.stop()}}),a)})))()},handleActiveTask:function(){!0===this.logined?(this.logMsg.push(this.handleGetTime()+"#handleActiveTask"),this.handleFailActive(this.land),this.handleFailActive(this.feedmill),this.handleFailActive(this.bakery),this.handleFailActive(this.cow),this.handleFailActive(this.sheep),this.handleFailActive(this.chicken),this.handleFailActive(this.gemfactory),this.handleFailActive(this.sugarmill),this.handleFailActive(this.textilemill),this.handleFailActive(this.tailorshop),this.handleOrderFailActive(this.orders)):this.logMsg.push("no login")},handleOrderFailActive:function(t){var e=this;this.logMsg.push(this.handleGetTime()+"#handleOrderFailActive"),t.forEach((function(t){(e.logMsg.push(t),1==t.autoSwitch&&0==t.lack)&&(e.logMsg.push("#1"),1==t.order.exist?(e.logMsg.push("#2"),D()("".concat(t.order.next_time,".000+0000")).diff(D()())<=0&&(e.logMsg.push("#3"),1==t.try?(e.logMsg.push("#4"),e.handleAutoDelivery(t),t.try=!1,t.tryCount+=1):(e.logMsg.push("#5"),t.try=!0,t.tipMsg=e.activeTime/1e3/60+"分钟后进行激活"))):(e.logMsg.push("#6"),1==t.try?(e.logMsg.push("#7"),e.handleAutoDelivery(t),t.try=!1):(e.logMsg.push("#8"),t.try=!0,t.tipMsg=e.activeTime/1e3/60+"分钟后进行激活")))}))},handleFailActive:function(t){var e=this;this.logMsg.push(this.handleGetTime()+"#handleFailActive"),t.forEach((function(t){(e.handleCheckAsset(t),e.logMsg.push(t),1==t.autoSwitch&&0==t.lack)&&(e.logMsg.push("#1"),1==t.task.exist?(e.logMsg.push("#2"),D()("".concat(t.task.mature_time,".000+0000")).diff(D()())<=0&&(e.logMsg.push("#3"),1==t.try?(e.logMsg.push("#4"),e.handleAutoHarvest(t),t.try=!1,t.tryCount+=1):(e.logMsg.push("#5"),t.try=!0,t.tipMsg=e.activeTime/1e3/60+"分钟后进行激活"))):(e.logMsg.push("#6"),1==t.try?(e.logMsg.push("#7"),e.handleAutoHarvest(t),t.try=!1):(e.logMsg.push("#8"),t.try=!0,t.tipMsg=e.activeTime/1e3/60+"分钟后进行激活")))}))},handleLogin:function(){var t,e,a=this;t=this,e=Object(o.a)(regeneratorRuntime.mark((function t(){return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return a.logined=!0,a.handleUpdateTip(),a.handleReset(),t.next=5,a.handleGetAccNft();case 5:return t.next=7,a.handleGetAllLevel();case 7:return t.next=9,a.handleGetAllTask();case 9:return t.next=11,a.handleGetWorks();case 11:return t.next=13,a.handleGetAccAssets();case 13:return t.next=15,a.handleGetAccUsdc();case 15:return t.next=17,a.handleGetAccDfg();case 17:return t.next=19,a.handleGetAccTag();case 19:return t.next=21,a.handleGetAccDfs();case 21:a.loading=!1;case 22:case"end":return t.stop()}}),t)}))),O.scatterInit(t,(function(){O.login((function(t){e(t)}))}))},handleReset:function(){this.land=[],this.gemfactory=[],this.feedmill=[],this.sugarmill=[],this.textilemill=[],this.tailorshop=[],this.bakery=[],this.cow=[],this.sheep=[],this.chicken=[],this.assets={DCASH:0,WHEAT:0,CORN:0,CARROT:0,SUGCANE:0,COTTON:0,COWFOOD:0,CHKFOOD:0,SHPFOOD:0,SUGAR:0,SYRUP:0,CARAMEL:0,CLOTH:0,YARN:0,SILK:0,MILK:0,EGG:0,WOOL:0,BREAD:0,COOKIE:0,CAKE:0,SHIRT:0,SWEATER:0,COAT:0,RUBY:0,BERYL:0,TOPAZ:0,USDC:0,DFG:0,TAG:0,DFS:0}},handleNoPasswordTx:function(){var t=this;void 0!==this.account.name?this.$dialog.confirm({title:"免密交易",message:"钱包登陆应用后的首次交易都需要输入密码或指纹，之后的交易便可免密执行，所以在进行自动化生产之前，必须先完成一次交易，后续的交易才能自动免密执行。按“确认”按钮后，会执行一个简单的转账操作，来作为本应用的首次交易。注意：自动化生产目前只支持Start钱包，其它功能不影响。"}).then((function(){var e=t.account.name,a={actions:[{account:"dfsfarmitems",name:"transfer",authorization:[{actor:e,permission:t.account.permissions}],data:{from:e,to:"davidaccount",quantity:"0.0001 DCASH",memo:"tip"}}]};O.toTransaction(a,(function(e){return e&&(e=t.handleDealWithError(e)),e&&402==e.code||e?(t.$toast({type:"fail",message:e.message}),t.logMsg.push("当前时间: "+D()().format("YYYY-MM-DD HH:mm:ss")),t.logMsg.push(Object(c.a)({},v)),t.logMsg.push("handleNoPasswordTx tx error"),void t.logMsg.push(e.message)):void t.$toast({type:"success",message:"Success"})}))})):this.$toast({type:"fail",message:"未登陆"})},handleShowAbout:function(){this.$dialog.alert({title:"说明",message:"本工具是基于风车小镇的半自动化生产工具，纯挂机软件，界面简陋，无需账号授权，安全，免费，赋能大丰收。使用过程中，如果发现什么问题，或者有什么建议，请联系电报用户eosDavid"})},handleShowLike:function(){this.$dialog.alert({title:"打赏",message:"猪弟更新太快了，脚本工具跟不上，如果觉得工具能有点用，欢迎打赏，我的eos账号是：davidaccount\n如果觉得工具没点用，我就权当练手，继续努力。"})},handleUpdateTip:function(){void 0!==this.account.name?(this.tipMsg="账号已登陆",this.logined=!0):(this.tipMsg="请登陆账号",this.logined=!1)},handleDealWithError:function(t){if(void 0!==t.message){if(this.isJSON(t.message)){var e=JSON.parse(t.message);return{code:e.code,message:e.message}}return t}if(void 0!==t.msg){var a=JSON.parse(t.msg);return{code:a.error.code,message:a.error.details[0].message}}return t},isJSON:function(t){if("string"==typeof t)try{var e=JSON.parse(t);return!("object"!=Object(r.a)(e)||!e)}catch(t){return!1}},handleGetAccAssets:function(){var t=this;return Object(o.a)(regeneratorRuntime.mark((function e(){var a,s,n,i,r;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a={code:"dfsfarmitems",scope:t.account.name,table:"accounts",limit:1e3,json:!0},e.next=3,t.handleSafeGetTableRows(a);case 3:if(s=e.sent,n=s.status,i=s.result,n){e.next=9;break}return t.$toast({type:"fail",message:"获取账号资产失败"}),e.abrupt("return");case 9:if((r=i.rows||[]).length){e.next=12;break}return e.abrupt("return");case 12:r.forEach((function(e){var a=e.balance.split(" ");t.assets[a[1]]=a[0]})),t.handleGetOrders();case 14:case"end":return e.stop()}}),e)})))()},handleGetAccUsdc:function(){var t=this;return Object(o.a)(regeneratorRuntime.mark((function e(){var a,s,n,i,r;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a={code:"usdxusdxusdx",scope:t.account.name,table:"accounts",lower_bound:"USDC",upper_bound:"USDC",json:!0},e.next=3,t.handleSafeGetTableRows(a);case 3:if(s=e.sent,n=s.status,i=s.result,n){e.next=9;break}return t.$toast({type:"fail",message:"获取账号USDC资产失败"}),e.abrupt("return");case 9:if((r=i.rows||[]).length){e.next=12;break}return e.abrupt("return");case 12:r.forEach((function(e){var a=e.balance.split(" ");t.$set(t.assets,a[1],a[0])}));case 13:case"end":return e.stop()}}),e)})))()},handleGetAccDfg:function(){var t=this;return Object(o.a)(regeneratorRuntime.mark((function e(){var a,s,n,i,r;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a={code:"dfxtokenmain",scope:t.account.name,table:"accounts",lower_bound:"DFG",upper_bound:"DFG",json:!0},e.next=3,t.handleSafeGetTableRows(a);case 3:if(s=e.sent,n=s.status,i=s.result,n){e.next=9;break}return t.$toast({type:"fail",message:"获取账号DFG资产失败"}),e.abrupt("return");case 9:if((r=i.rows||[]).length){e.next=12;break}return e.abrupt("return");case 12:r.forEach((function(e){var a=e.balance.split(" ");t.$set(t.assets,a[1],a[0])}));case 13:case"end":return e.stop()}}),e)})))()},handleGetAccTag:function(){var t=this;return Object(o.a)(regeneratorRuntime.mark((function e(){var a,s,n,i,r;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a={code:"tagtokenmain",scope:t.account.name,table:"accounts",lower_bound:"TAG",upper_bound:"TAG",json:!0},e.next=3,t.handleSafeGetTableRows(a);case 3:if(s=e.sent,n=s.status,i=s.result,n){e.next=9;break}return t.$toast({type:"fail",message:"获取账号TAG资产失败"}),e.abrupt("return");case 9:if((r=i.rows||[]).length){e.next=12;break}return e.abrupt("return");case 12:r.forEach((function(e){var a=e.balance.split(" ");t.$set(t.assets,a[1],a[0])}));case 13:case"end":return e.stop()}}),e)})))()},handleGetAccDfs:function(){var t=this;return Object(o.a)(regeneratorRuntime.mark((function e(){var a,s,n,i,r;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a={code:"minedfstoken",scope:t.account.name,table:"accounts",lower_bound:"DFS",upper_bound:"DFS",json:!0},e.next=3,t.handleSafeGetTableRows(a);case 3:if(s=e.sent,n=s.status,i=s.result,n){e.next=9;break}return t.$toast({type:"fail",message:"获取账号DFS资产失败"}),e.abrupt("return");case 9:if((r=i.rows||[]).length){e.next=12;break}return e.abrupt("return");case 12:r.forEach((function(e){var a=e.balance.split(" ");t.$set(t.assets,a[1],a[0])}));case 13:case"end":return e.stop()}}),e)})))()},handleGetAccNft:function(){var t=this;return Object(o.a)(regeneratorRuntime.mark((function e(){var a,s,n,r,o,c,l,u;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:a=!0,s="",n=[];case 3:if(!a){e.next=20;break}return r={code:"dfsnftassets",scope:t.account.name,table:"assets",limit:1e3,json:!0,lower_bound:s},e.next=7,t.handleSafeGetTableRows(r);case 7:if(o=e.sent,c=o.status,l=o.result,c){e.next=14;break}return t.$toast({type:"fail",message:"获取账号NFT失败"}),t.logMsg.push("获取账号NFT失败"),e.abrupt("return");case 14:u=l.rows||[],a=l.more,s=l.next_key,n.push.apply(n,Object(i.a)(u)),e.next=3;break;case 20:n.forEach((function(e){e.level=null,e.task={countDown:0,exist:!1},e.multiple=1,e.round=1,e.workid=null,e.autoSwitch=!1,e.failCount=0,e.lack=!1,e.tipMsg="无",e.try=!1,e.tryCount=0,"land"===e.collection?t.land.push(e):"gemfactory"===e.collection?t.gemfactory.push(e):"feedmill"===e.collection?t.feedmill.push(e):"bakery"===e.collection?t.bakery.push(e):"cow"===e.collection?t.cow.push(e):"sheep"===e.collection?t.sheep.push(e):"chicken"===e.collection?t.chicken.push(e):"tailorshop"===e.collection?t.tailorshop.push(e):"textilemill"===e.collection?t.textilemill.push(e):"sugarmill"===e.collection&&t.sugarmill.push(e)})),t.nftCount=t.land.length+t.gemfactory.length+t.feedmill.length+t.bakery.length+t.cow.length+t.sheep.length+t.chicken.length+t.tailorshop.length+t.textilemill.length+t.sugarmill.length;case 22:case"end":return e.stop()}}),e)})))()},handleGetWorks:function(){var t=this;return Object(o.a)(regeneratorRuntime.mark((function e(){var a,s,n,i,r;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a={code:"dfsmetaverse",scope:"dfsmetaverse",table:"works",limit:1e3,json:!0},e.next=3,t.handleSafeGetTableRows(a);case 3:if(s=e.sent,n=s.status,i=s.result,n){e.next=10;break}return t.$toast({type:"fail",message:"获取工作失败"}),t.logMsg.push("获取工作失败"),e.abrupt("return");case 10:if((r=i.rows||[]).length){e.next=13;break}return e.abrupt("return");case 13:t.works=r;case 14:case"end":return e.stop()}}),e)})))()},handleGetAllLevel:function(){var t=this;return Object(o.a)(regeneratorRuntime.mark((function e(){return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,t.handleGetLevel(t.land);case 2:return e.next=4,t.handleGetLevel(t.gemfactory);case 4:return e.next=6,t.handleGetLevel(t.feedmill);case 6:return e.next=8,t.handleGetLevel(t.bakery);case 8:return e.next=10,t.handleGetLevel(t.cow);case 10:return e.next=12,t.handleGetLevel(t.sheep);case 12:return e.next=14,t.handleGetLevel(t.chicken);case 14:return e.next=16,t.handleGetLevel(t.tailorshop);case 16:return e.next=18,t.handleGetLevel(t.textilemill);case 18:return e.next=20,t.handleGetLevel(t.sugarmill);case 20:case"end":return e.stop()}}),e)})))()},handleGetLevel:function(t){var e=this;return Object(o.a)(regeneratorRuntime.mark((function a(){var s,i,r,o,c,l,u,d;return regeneratorRuntime.wrap((function(a){for(;;)switch(a.prev=a.next){case 0:s=Object(n.a)(t),a.prev=1,s.s();case 3:if((i=s.n()).done){a.next=22;break}return r=i.value,o={code:"dfsmetaverse",scope:r.id,table:"stats",json:!0},a.next=8,e.handleSafeGetTableRows(o);case 8:if(c=a.sent,l=c.status,u=c.result,l){a.next=15;break}return e.$toast({type:"fail",message:"获取NFT等级失败"}),e.logMsg.push("获取NFT等级失败"),a.abrupt("return");case 15:if((d=u.rows||[]).length){a.next=18;break}return a.abrupt("return");case 18:r.level=d[0].val,r.multiple=r.level;case 20:a.next=3;break;case 22:a.next=27;break;case 24:a.prev=24,a.t0=a.catch(1),s.e(a.t0);case 27:return a.prev=27,s.f(),a.finish(27);case 30:case"end":return a.stop()}}),a,null,[[1,24,27,30]])})))()},handleGetAllTask:function(){var t=this;return Object(o.a)(regeneratorRuntime.mark((function e(){return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,t.handleGetTask(t.land);case 2:return e.next=4,t.handleGetTask(t.gemfactory);case 4:return e.next=6,t.handleGetTask(t.feedmill);case 6:return e.next=8,t.handleGetTask(t.bakery);case 8:return e.next=10,t.handleGetTask(t.cow);case 10:return e.next=12,t.handleGetTask(t.sheep);case 12:return e.next=14,t.handleGetTask(t.chicken);case 14:return e.next=16,t.handleGetTask(t.tailorshop);case 16:return e.next=18,t.handleGetTask(t.textilemill);case 18:return e.next=20,t.handleGetTask(t.sugarmill);case 20:case"end":return e.stop()}}),e)})))()},handleGetTask:function(t){var e=this;return Object(o.a)(regeneratorRuntime.mark((function a(){var s,i,r,o,c,l,u,d,h,f,p;return regeneratorRuntime.wrap((function(a){for(;;)switch(a.prev=a.next){case 0:s=Object(n.a)(t),a.prev=1,s.s();case 3:if((i=s.n()).done){a.next=30;break}return r=i.value,o={code:"dfsmetaverse",scope:"dfsmetaverse",table:"tasks",lower_bound:r.id,upper_bound:r.id,json:!0},a.next=8,e.handleSafeGetTableRows(o);case 8:if(c=a.sent,l=c.status,u=c.result,l){a.next=15;break}return e.$toast({type:"fail",message:"获取任务失败"}),e.logMsg.push("获取任务失败"),a.abrupt("return");case 15:if((d=u.rows||[]).length){a.next=18;break}return a.abrupt("return");case 18:r.task=d[0],r.task.create_time=D()("".concat(r.task.create_time,".000+0000")).format(),h=D()("".concat(r.task.mature_time,".000+0000")),r.task.mature_time=h.format(),r.task.end_time=h.format("YYYY-MM-DD HH:mm:ss"),(f=h.diff(D()()))<=0?r.task.countDown=0:(r.task.countDown=f,e.handleStartCountDown(r)),r.task.exist=!0,p=r.task.product.split(" "),r.task.product={num:parseInt(p[0]).toFixed(0),name:e.chinese[p[1]]};case 28:a.next=3;break;case 30:a.next=35;break;case 32:a.prev=32,a.t0=a.catch(1),s.e(a.t0);case 35:return a.prev=35,s.f(),a.finish(35);case 38:case"end":return a.stop()}}),a,null,[[1,32,35,38]])})))()},handleGetOrders:function(){var t=this;return Object(o.a)(regeneratorRuntime.mark((function e(){var a,s,n,i,r;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a={code:"dfsmetaverse",scope:"dfsmetaverse",table:"orders",limit:1e3,json:!0},e.next=3,t.handleSafeGetTableRows(a);case 3:if(s=e.sent,n=s.status,i=s.result,n){e.next=10;break}return t.$toast({type:"fail",message:"获取订单列表失败"}),t.logMsg.push("获取订单列表失败"),e.abrupt("return");case 10:if((r=i.rows||[]).length){e.next=15;break}return t.$toast({type:"fail",message:"获取订单列表失败"}),t.logMsg.push("获取订单列表失败"),e.abrupt("return");case 15:r.forEach((function(e){e.order={countDown:0,exist:!1},e.autoSwitch=!1,e.failCount=0,e.lack=!1,e.tipMsg="无",e.try=!1,e.tryCount=0,e.orderName=t.handleGetOrderName(e),e.orderNum=t.handleGetOrderNum(e),e.cost=t.handleGetOrderCost(e),e.profit=parseFloat(e.pay.split(" ")[0]-t.handleGetOrderCost(e)).toFixed(2),e.trigger=t.handleGetOrderTrigger(e),t.handleCheckOrderAsset(e)})),t.orders=r,t.handleGetOrderLogs();case 18:case"end":return e.stop()}}),e)})))()},handleGetOrderName:function(t){var e=this,a="";return t.require_asset.forEach((function(t){a+=e.chinese[t.split(" ")[1]]+"-"})),a.slice(0,a.length-1)},handleGetOrderNum:function(t){var e=this,a="";return t.require_asset.forEach((function(t){var s=t.split(" "),n=parseInt(e.assets[s[1]]),i=parseInt(s[0]);a+=n+"/"+i+"-"})),a.slice(0,a.length-1)},handleGetOrderTrigger:function(t){var e=this,a=[];return t.require_asset.forEach((function(t){var s=t.split(" "),n=parseInt(s[0]),i=e.chinese[s[1]],r=parseInt(s[0]);a.push({name:i,value:n,min:r})})),a},handleGetOrderCost:function(t){var e=this,a=0;return t.require_asset.forEach((function(t){var s=t.split(" "),n=parseInt(s[0]),i=s[1];a+=n*e.cost[i]})),a},handleGetOrderLogs:function(){var t=this;return Object(o.a)(regeneratorRuntime.mark((function e(){var a,s,n,i,r;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a={code:"dfsmetaverse",scope:t.account.name,table:"orderlogs",limit:1e3,json:!0},e.next=3,t.handleSafeGetTableRows(a);case 3:if(s=e.sent,n=s.status,i=s.result,n){e.next=10;break}return t.$toast({type:"fail",message:"获取订单日志失败"}),t.logMsg.push("获取订单日志失败"),e.abrupt("return");case 10:if((r=i.rows||[]).length){e.next=13;break}return e.abrupt("return");case 13:t.orderLogs=r,t.orderLogs.forEach((function(e){e.last_time=D()("".concat(e.last_time,".000+0000")).format();var a=D()("".concat(e.next_time,".000+0000"));e.next_time=a,e.end_time=a.format("YYYY-MM-DD HH:mm:ss");var s=a.diff(D()());s<=0?(e.countDown=0,e.exist=!1,t.orders[e.id-1].order=e):(e.countDown=s,e.exist=!0,t.orders[e.id-1].order=e,t.handleStartCountDown2(e))}));case 15:case"end":return e.stop()}}),e)})))()},handleStartCountDown:function(t){var e=this;this.logMsg.push(this.handleGetTime()+"#handleStartCountDown,"+t.id),this.$refs["#"+t.id][0].reset(),setTimeout((function(){e.$refs["#"+t.id][0].start()}),1e3)},handleStartCountDown2:function(t){var e=this;this.logMsg.push(this.handleGetTime()+"#handleStartCountDown2,"+t.id),this.$refs["O"+t.id][0].reset(),setTimeout((function(){e.$refs["O"+t.id][0].start()}),1e3)},handleUpdateTask:function(t){var e=this;return Object(o.a)(regeneratorRuntime.mark((function a(){var s,n,i,r,o,c,l,u;return regeneratorRuntime.wrap((function(a){for(;;)switch(a.prev=a.next){case 0:return e.logMsg.push(e.handleGetTime()+"#handleUpdateTask,"+t.id),s={code:"dfsmetaverse",scope:"dfsmetaverse",table:"tasks",lower_bound:t.id,upper_bound:t.id,json:!0},a.next=4,e.handleSafeGetTableRows(s);case 4:if(n=a.sent,i=n.status,r=n.result,i){a.next=12;break}return e.logMsg.push("#1"),e.$toast({type:"fail",message:"获取任务失败"}),e.logMsg.push("获取任务失败"),a.abrupt("return");case 12:if((o=r.rows||[]).length){a.next=19;break}return e.logMsg.push("#2"),t.task={countDown:0,exist:!1},e.logMsg.push("#empty"),e.$toast({type:"success",message:"Update\nSuccess"}),a.abrupt("return");case 19:t.task=o[0],t.task.create_time=D()("".concat(t.task.create_time,".000+0000")).format(),c=D()("".concat(t.task.mature_time,".000+0000")),t.task.mature_time=c.format(),t.task.end_time=c.format("YYYY-MM-DD HH:mm:ss"),(l=c.diff(D()()))<=0?(e.logMsg.push("#3"),t.task.countDown=0):(e.logMsg.push("#4"),t.task.countDown=l,e.handleStartCountDown(t)),t.task.exist=!0,u=t.task.product.split(" "),t.task.product={num:parseInt(u[0]).toFixed(0),name:e.chinese[u[1]]},e.$toast({type:"success",message:"Update\nSuccess"});case 30:case"end":return a.stop()}}),a)})))()},handleUpdateOrder:function(t){var e=this;return Object(o.a)(regeneratorRuntime.mark((function a(){var s,n,i,r,o,c,l;return regeneratorRuntime.wrap((function(a){for(;;)switch(a.prev=a.next){case 0:return e.logMsg.push(e.handleGetTime()+"#handleUpdateOrder,"+t.id),s={code:"dfsmetaverse",scope:e.account.name,table:"orderlogs",lower_bound:t.id,upper_bound:t.id,json:!0},a.next=4,e.handleSafeGetTableRows(s);case 4:if(n=a.sent,i=n.status,r=n.result,i){a.next=12;break}return e.logMsg.push("#1"),e.$toast({type:"fail",message:"获取订单日志失败"}),e.logMsg.push("获取订单日志失败"),a.abrupt("return");case 12:if((o=r.rows||[]).length){a.next=18;break}return e.logMsg.push("#2"),e.$toast({type:"fail",message:"获取订单日志为空"}),e.logMsg.push("获取订单日志为空"),a.abrupt("return");case 18:t.order=o[0],t.order.last_time=D()("".concat(t.order.last_time,".000+0000")).format(),c=D()("".concat(t.order.next_time,".000+0000")),t.order.next_time=c.format(),t.order.end_time=c.format("YYYY-MM-DD HH:mm:ss"),(l=c.diff(D()()))<=0?(e.logMsg.push("#3"),t.order.countDown=0,t.order.exist=!1):(e.logMsg.push("#4"),t.order.countDown=l,t.order.exist=!0,e.handleStartCountDown2(t)),e.$toast({type:"success",message:"Update\nSuccess"});case 26:case"end":return a.stop()}}),a)})))()},handleUpdateAsset:function(t){var e=this;return Object(o.a)(regeneratorRuntime.mark((function a(){var s,n,i,r,o;return regeneratorRuntime.wrap((function(a){for(;;)switch(a.prev=a.next){case 0:return e.logMsg.push(e.handleGetTime()+"#handleUpdateAsset,"+t.id),s={code:"dfsfarmitems",scope:e.account.name,table:"accounts",limit:1e3,json:!0},a.next=4,e.handleSafeGetTableRows(s);case 4:if(n=a.sent,i=n.status,r=n.result,i){a.next=11;break}return e.logMsg.push(e.handleGetTime()+"#1"),e.$toast({type:"fail",message:"获取账号资产失败"}),a.abrupt("return");case 11:if((o=r.rows||[]).length){a.next=16;break}return e.logMsg.push("#2"),e.$toast({type:"fail",message:"获取账号资产失败"}),a.abrupt("return");case 16:o.forEach((function(t){var a=t.balance.split(" ");e.$set(e.assets,a[1],a[0])})),e.handleCheckAllAsset(),e.orders.forEach((function(t){t.orderNum=e.handleGetOrderNum(t),e.handleCheckOrderAsset(t)})),e.$forceUpdate();case 20:case"end":return a.stop()}}),a)})))()},handleHarvest:function(t){var e=this;if(!1===t.task.exist)return this.$toast({type:"fail",message:"不存在任务"}),void this.logMsg.push("不存在任务");if(D()(t.task.mature_time).diff(D()())>0)return this.$toast({type:"fail",message:"未到收取时间"}),void this.logMsg.push("未到收取时间");var a={actions:[{account:"dfsmetaverse",name:"harvest",authorization:[{actor:this.account.name,permission:this.account.permissions}],data:{taskid:t.id}}]};O.toTransaction(a,(function(a){return a&&(a=e.handleDealWithError(a)),a&&402==a.code||a?(e.$toast({type:"fail",message:a.message}),e.logMsg.push("当前时间: "+D()().format("YYYY-MM-DD HH:mm:ss")),e.logMsg.push(Object(c.a)({},t)),e.logMsg.push("handleHarvest tx error"),e.logMsg.push(a.message),void(t.tipMsg="交易失败")):(e.$toast({type:"success",message:"Success"}),t.tipMsg="无",void(t.autoSwitch||(setTimeout(e.handleUpdateTask,e.updateDelay,t),setTimeout(e.handleUpdateAsset,e.updateDelay,t))))}))},handleDelivery:function(t){var e=this;if(D()(t.order.next_time).diff(D()())>0)return this.$toast({type:"fail",message:"冷却时间未结束"}),void this.logMsg.push("冷却时间未结束");var a=this.handleCheckOrderAsset(t);if(a.lack)return this.$toast({type:"fail",message:a.lackAsset+"\n资产不足"}),void this.logMsg.push(a.lackAsset+"资产不足");var s=this.account.name,n=this.account.permissions,i={actions:[]};t.require_asset.forEach((function(t){i.actions.push({account:"dfsfarmitems",name:"transfer",authorization:[{actor:s,permission:n}],data:{from:s,to:"dfsmetaverse",quantity:t,memo:"deposit"}})})),i.actions.push({account:"dfsmetaverse",name:"delivery",authorization:[{actor:s,permission:n}],data:{user:s,id:t.id}}),O.toTransaction(i,(function(a){return a&&(a=e.handleDealWithError(a)),a&&402==a.code||a?(e.$toast({type:"fail",message:a.message}),e.logMsg.push("当前时间: "+D()().format("YYYY-MM-DD HH:mm:ss")),e.logMsg.push(Object(c.a)({},t)),e.logMsg.push("handleDelivery tx error"),e.logMsg.push(a.message),void(t.tipMsg="交易失败")):(e.$toast({type:"success",message:"Success"}),t.tipMsg="无",void(t.autoSwitch||(setTimeout(e.handleUpdateOrder,e.updateDelay,t),setTimeout(e.handleUpdateAsset,e.updateDelay,t))))}))},handleProduce:function(t){var e=this,a=t.id,s=t.multiple,n=t.round,i=t.workid;if(null==i)return this.$toast({type:"fail",message:"请选择生产物品"}),void this.logMsg.push("请选择生产物品");if(this.works[i-1].id!=i)return this.$toast({type:"fail",message:"工作id错误"}),void this.logMsg.push("工作id错误");if(!0===t.task.exist)return this.$toast({type:"fail",message:"已存在任务"}),void this.logMsg.push("已存在任务");var r=this.handleCheckAsset(t);if(r.lack)return this.$toast({type:"fail",message:r.lackAsset+"\n资产不足"}),void this.logMsg.push(r.lackAsset+"资产不足");var o=this.works[i-1].require_asset.slice();o.forEach((function(t,e){var a=t.split(" ");a[0]=(parseInt(a[0])*s*n).toFixed(4),o[e]=a[0]+" "+a[1]}));var l=this.account.name,u=this.account.permissions,d={actions:[]};o.forEach((function(t){d.actions.push({account:"dfsfarmitems",name:"transfer",authorization:[{actor:l,permission:u}],data:{from:l,to:"dfsmetaverse",quantity:t,memo:"deposit"}})})),d.actions.push({account:"dfsmetaverse",name:"produce2",authorization:[{actor:l,permission:u}],data:{user:l,workid:i,assetid:a,multiple:s,round:n}}),O.toTransaction(d,(function(a){return a&&(a=e.handleDealWithError(a)),a&&402==a.code||a?(e.$toast({type:"fail",message:a.message}),e.logMsg.push("当前时间: "+D()().format("YYYY-MM-DD HH:mm:ss")),e.logMsg.push(Object(c.a)({},t)),e.logMsg.push("handleProduce tx error"),e.logMsg.push(a.message),void(t.tipMsg="交易失败")):(e.$toast({type:"success",message:"Success"}),t.tipMsg="无",void(t.autoSwitch||(setTimeout(e.handleUpdateTask,e.updateDelay,t),setTimeout(e.handleUpdateAsset,e.updateDelay,t))))}))},handleMakeGem:function(t){var e=this;return Object(o.a)(regeneratorRuntime.mark((function a(){var s,n,i,r,o,l,u,d,h,f,p;return regeneratorRuntime.wrap((function(a){for(;;)switch(a.prev=a.next){case 0:if(s=t.id,n=t.multiple,i=t.round,null!=(r=t.workid)){a.next=8;break}return e.$toast({type:"fail",message:"请选择生产物品"}),e.logMsg.push("请选择生产物品"),a.abrupt("return");case 8:if(!0!==t.task.exist){a.next=12;break}return e.$toast({type:"fail",message:"已存在任务"}),e.logMsg.push("已存在任务"),a.abrupt("return");case 12:return a.next=14,e.handleGetPrice();case 14:if(!(o=e.handleCheckGemAsset(t)).lack){a.next=19;break}return e.$toast({type:"fail",message:o.lackAsset+"\n资产不足"}),e.logMsg.push(o.lackAsset+"资产不足"),a.abrupt("return");case 19:l=e.account.name,u=e.account.permissions,d="",h="",f="","RUBY"===r?(d=I(n*i,e.price[0]).toFixed(4)+" USDC",h=n.toFixed(4)+" "+r,f="usdxusdxusdx"):"BERYL"===r?(d=I(n*i,e.price[1]).toFixed(4)+" DFG",h=n.toFixed(4)+" "+r,f="dfxtokenmain"):"TOPAZ"===r&&(d=I(n*i,e.price[2]).toFixed(8)+" TAG",h=n.toFixed(4)+" "+r,f="tagtokenmain"),p={actions:[{account:f,name:"transfer",authorization:[{actor:l,permission:u}],data:{from:l,to:"dfsmetaverse",quantity:d,memo:"deposit"}},{account:"dfsmetaverse",name:"makegem2",authorization:[{actor:l,permission:u}],data:{user:l,assetid:s,gem:h,round:i}}]},O.toTransaction(p,(function(a){return a&&(a=e.handleDealWithError(a)),a&&402==a.code||a?(e.$toast({type:"fail",message:a.message}),e.logMsg.push("当前时间: "+D()().format("YYYY-MM-DD HH:mm:ss")),e.logMsg.push(Object(c.a)({},t)),e.logMsg.push("handleMakeGem tx error"),e.logMsg.push(a.message),void(t.tipMsg="交易失败")):(e.$toast({type:"success",message:"Success"}),t.tipMsg="无",void(t.autoSwitch||(setTimeout(e.handleUpdateTask,e.updateDelay,t),setTimeout(e.handleUpdateAsset,e.updateDelay,t),"RUBY"===r?setTimeout(e.handleGetAccUsdc,e.updateDelay):"BERYL"===r?setTimeout(e.handleGetAccDfg,e.updateDelay):"TOPAZ"===r&&setTimeout(e.handleGetAccTag,e.updateDelay))))}));case 27:case"end":return a.stop()}}),a)})))()},handleFinish:function(t){if(this.logMsg.push(this.handleGetTime()+"#handleFinish,"+t.id),t.task.exist){this.logMsg.push("#1");var e=D()(t.task.mature_time).diff(D()());if(e>0)return this.logMsg.push("#2"),t.task.countDown=e,this.handleStartCountDown(t),void console.log("countdown reset")}t.autoSwitch&&(this.logMsg.push("#3"),t.task.exist?(this.logMsg.push("#4"),this.$toast({type:"success",message:this.delay/1e3+"秒钟后执行"}),setTimeout(this.handleAutoHarvest,this.delay,t)):"RUBY"===t.workid||"BERYL"===t.workid||"TOPAZ"===t.workid?setTimeout(this.handleAutoMakeGem,this.delay,t):setTimeout(this.handleAutoProduce,this.delay,t))},handleFinish2:function(t){if(this.logMsg.push(this.handleGetTime()+"#handleFinish2,"+t.id),t.order.exist){this.logMsg.push("#1");var e=D()(t.order.next_time).diff(D()());if(e>0)return this.logMsg.push("#2"),t.order.countDown=e,this.handleStartCountDown2(t),void console.log("countdown reset");t.order.exist=!1}t.autoSwitch&&(this.$toast({type:"success",message:this.delay/1e3+"秒钟后执行"}),setTimeout(this.handleAutoDelivery,this.delay,t))},handleAutoHarvest:function(t){var e=this;if(this.logMsg.push(this.handleGetTime()+"#handleAutoHarvest,"+t.id),!1===t.task.exist)return this.logMsg.push("#1"),t.failCount=0,this.handleUpdateAsset(t),"RUBY"===t.workid||"BERYL"===t.workid||"TOPAZ"===t.workid?this.handleAutoMakeGem(t):this.handleAutoProduce(t),void(t.tipMsg="无");if(t.task.exist){this.logMsg.push("#2");var a=D()(t.task.mature_time).diff(D()());if(a>0)return this.logMsg.push("#3"),t.task.countDown=a,this.handleStartCountDown(t),void console.log("countdown reset")}var s={actions:[{account:"dfsmetaverse",name:"harvest",authorization:[{actor:this.account.name,permission:this.account.permissions}],data:{taskid:t.id}}]},n=setTimeout(this.handleAutoHarvest,125e3,t);O.toTransaction(s,function(){var a=Object(o.a)(regeneratorRuntime.mark((function a(s){return regeneratorRuntime.wrap((function(a){for(;;)switch(a.prev=a.next){case 0:if(clearTimeout(n),s&&(s=e.handleDealWithError(s)),!s||402!=s.code){a.next=11;break}return e.$toast({type:"fail",message:s.message}),e.logMsg.push("#4"),e.logMsg.push("当前时间: "+D()().format("YYYY-MM-DD HH:mm:ss")),e.logMsg.push(Object(c.a)({},t)),e.logMsg.push("handleAutoHarvest tx error"),e.logMsg.push(s.message),e.handleFailProcessTask(t,e.handleAutoHarvest),a.abrupt("return");case 11:if(!s){a.next=20;break}return e.$toast({type:"fail",message:s.message}),e.logMsg.push("#5"),e.logMsg.push("当前时间: "+D()().format("YYYY-MM-DD HH:mm:ss")),e.logMsg.push(Object(c.a)({},t)),e.logMsg.push("handleAutoHarvest tx error"),e.logMsg.push(s.message),e.handleFailProcessTask(t,e.handleAutoHarvest),a.abrupt("return");case 20:e.$toast({type:"success",message:"Harvest\nSuccess"}),t.failCount=0,e.logMsg.push("#6"),setTimeout(function(){var t=Object(o.a)(regeneratorRuntime.mark((function t(a){return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return e.logMsg.push("#7"),t.next=3,e.handleUpdateTask(a);case 3:e.handleAutoHarvest(a);case 4:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}(),e.updateDelay,t);case 24:case"end":return a.stop()}}),a)})));return function(t){return a.apply(this,arguments)}}())},handleAutoProduce:function(t){var e=this;if(this.logMsg.push(this.handleGetTime()+"#handleAutoProduce,"+t.id),!0===t.task.exist&&t.task.countDown>0)return this.logMsg.push("#end"),this.$toast({type:"success",message:"Finish"}),t.failCount=0,this.handleUpdateAsset(t),console.log("countdown reset"),void(t.tipMsg="无");var a=this.handleCheckAsset(t);if(a.lack)return this.$toast({type:"fail",message:a.lackAsset+"\n资产不足"}),this.logMsg.push(a.lackAsset+"资产不足"),t.failCount++,void(t.failCount>3?(this.logMsg.push("超过失败重试最大次数，延时执行"),t.failCount=0,t.tipMsg="资产不足，等待激活"):0==t.autoSwitch?(t.failCount=0,t.tipMsg="无",this.logMsg.push("已退出自动模式")):setTimeout(function(){var t=Object(o.a)(regeneratorRuntime.mark((function t(a){return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return e.logMsg.push("#4"),t.next=3,e.handleUpdateAsset(a);case 3:e.handleAutoProduce(a);case 4:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}(),this.updateDelay,t));var s=t.id,n=t.multiple,i=t.round,r=t.workid,l=this.works[r-1].require_asset.slice();l.forEach((function(t,e){var a=t.split(" ");a[0]=(parseInt(a[0])*n*i).toFixed(4),l[e]=a[0]+" "+a[1]}));var u=this.account.name,d=this.account.permissions,h={actions:[]};l.forEach((function(t){h.actions.push({account:"dfsfarmitems",name:"transfer",authorization:[{actor:u,permission:d}],data:{from:u,to:"dfsmetaverse",quantity:t,memo:"deposit"}})})),h.actions.push({account:"dfsmetaverse",name:"produce2",authorization:[{actor:u,permission:d}],data:{user:u,workid:r,assetid:s,multiple:n,round:i}});var f=setTimeout(this.handleAutoProduce,125e3,t);O.toTransaction(h,function(){var a=Object(o.a)(regeneratorRuntime.mark((function a(s){return regeneratorRuntime.wrap((function(a){for(;;)switch(a.prev=a.next){case 0:if(clearTimeout(f),s&&(s=e.handleDealWithError(s)),!s||402!=s.code){a.next=11;break}return e.$toast({type:"fail",message:s.message}),e.logMsg.push("#1"),e.logMsg.push("当前时间: "+D()().format("YYYY-MM-DD HH:mm:ss")),e.logMsg.push(Object(c.a)({},t)),e.logMsg.push("handleAutoProduce tx error"),e.logMsg.push(s.message),e.handleFailProcessTask(t,e.handleAutoProduce),a.abrupt("return");case 11:if(!s){a.next=20;break}return e.$toast({type:"fail",message:s.message}),e.logMsg.push("#2"),e.logMsg.push("当前时间: "+D()().format("YYYY-MM-DD HH:mm:ss")),e.logMsg.push(Object(c.a)({},t)),e.logMsg.push("handleAutoProduce tx error"),e.logMsg.push(s.message),e.handleFailProcessTask(t,e.handleAutoProduce),a.abrupt("return");case 20:e.$toast({type:"success",message:"Produce\nSuccess"}),t.failCount=0,e.logMsg.push("#3"),setTimeout(function(){var t=Object(o.a)(regeneratorRuntime.mark((function t(a){return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return e.logMsg.push("#4"),t.next=3,e.handleUpdateTask(a);case 3:e.logMsg.push(a),e.handleAutoProduce(a);case 5:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}(),e.updateDelay,t);case 24:case"end":return a.stop()}}),a)})));return function(t){return a.apply(this,arguments)}}())},handleAutoDelivery:function(t){var e=this;if(this.logMsg.push(this.handleGetTime()+"#handleAutoDelivery,"+t.id),!0===t.order.exist&&t.order.countDown>0)return this.logMsg.push("#end"),this.$toast({type:"success",message:"Finish"}),t.failCount=0,this.handleUpdateAsset(t),console.log("countdown reset"),void(t.tipMsg="无");var a=this.handleCheckOrderAsset(t);if(a.lack)return this.$toast({type:"fail",message:a.lackAsset+"\n资产不足"}),this.logMsg.push(a.lackAsset+"资产不足"),t.failCount++,void(t.failCount>3?(this.logMsg.push("超过失败重试最大次数，延时执行"),t.failCount=0,t.tipMsg="资产不足，等待激活"):0==t.autoSwitch?(t.failCount=0,t.tipMsg="无",this.logMsg.push("已退出自动模式")):setTimeout(function(){var t=Object(o.a)(regeneratorRuntime.mark((function t(a){return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return e.logMsg.push("#4"),t.next=3,e.handleUpdateAsset(a);case 3:e.handleAutoDelivery(a);case 4:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}(),this.updateDelay,t));var s=this.account.name,n=this.account.permissions,i={actions:[]};t.require_asset.forEach((function(t){i.actions.push({account:"dfsfarmitems",name:"transfer",authorization:[{actor:s,permission:n}],data:{from:s,to:"dfsmetaverse",quantity:t,memo:"deposit"}})})),i.actions.push({account:"dfsmetaverse",name:"delivery",authorization:[{actor:s,permission:n}],data:{user:s,id:t.id}});var r=setTimeout(this.handleAutoDelivery,125e3,t);O.toTransaction(i,function(){var a=Object(o.a)(regeneratorRuntime.mark((function a(s){return regeneratorRuntime.wrap((function(a){for(;;)switch(a.prev=a.next){case 0:if(clearTimeout(r),s&&(s=e.handleDealWithError(s)),!s||402!=s.code){a.next=11;break}return e.$toast({type:"fail",message:s.message}),e.logMsg.push("#1"),e.logMsg.push("当前时间: "+D()().format("YYYY-MM-DD HH:mm:ss")),e.logMsg.push(Object(c.a)({},t)),e.logMsg.push("handleAutoDelivery tx error"),e.logMsg.push(s.message),e.handleFailProcessOrder(t,e.handleAutoDelivery),a.abrupt("return");case 11:if(!s){a.next=20;break}return e.$toast({type:"fail",message:s.message}),e.logMsg.push("#2"),e.logMsg.push("当前时间: "+D()().format("YYYY-MM-DD HH:mm:ss")),e.logMsg.push(Object(c.a)({},t)),e.logMsg.push("handleAutoDelivery tx error"),e.logMsg.push(s.message),e.handleFailProcessOrder(t,e.handleAutoDelivery),a.abrupt("return");case 20:e.$toast({type:"success",message:"Send\nSuccess"}),t.failCount=0,e.logMsg.push("#3"),setTimeout(function(){var t=Object(o.a)(regeneratorRuntime.mark((function t(a){return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return e.logMsg.push("#4"),t.next=3,e.handleUpdateOrder(a);case 3:e.handleAutoDelivery(a);case 4:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}(),e.updateDelay,t);case 24:case"end":return a.stop()}}),a)})));return function(t){return a.apply(this,arguments)}}())},handleAutoMakeGem:function(t){var e=this;return Object(o.a)(regeneratorRuntime.mark((function a(){var s,n,i,r,l,u,d,h,f,p,m,g;return regeneratorRuntime.wrap((function(a){for(;;)switch(a.prev=a.next){case 0:if(e.logMsg.push(e.handleGetTime()+"#handleAutoMakeGem,"+t.id),!(!0===t.task.exist&&t.task.countDown>0)){a.next=10;break}return e.logMsg.push("#end"),e.$toast({type:"success",message:"Finish"}),t.failCount=0,e.handleUpdateAsset(t),"RUBY"===t.workid?e.handleGetAccUsdc():"BERYL"===t.workid?e.handleGetAccDfg():"TOPAZ"===t.workid&&e.handleGetAccTag(),console.log("countdown reset"),t.tipMsg="无",a.abrupt("return");case 10:return a.next=12,e.handleGetPrice();case 12:if(!(s=e.handleCheckGemAsset(t)).lack){a.next=19;break}return e.$toast({type:"fail",message:s.lackAsset+"\n资产不足"}),e.logMsg.push(s.lackAsset+"资产不足"),t.failCount++,t.failCount>3?(e.logMsg.push("超过失败重试最大次数，延时执行"),t.failCount=0,t.tipMsg="资产不足，等待激活"):0==t.autoSwitch?(t.failCount=0,t.tipMsg="无",e.logMsg.push("已退出自动模式")):setTimeout(function(){var t=Object(o.a)(regeneratorRuntime.mark((function t(a){return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(e.logMsg.push("#4"),"RUBY"!==l){t.next=6;break}return t.next=4,e.handleGetAccUsdc();case 4:t.next=14;break;case 6:if("BERYL"!==l){t.next=11;break}return t.next=9,e.handleGetAccDfg();case 9:t.next=14;break;case 11:if("TOPAZ"!==l){t.next=14;break}return t.next=14,e.handleGetAccTag();case 14:e.handleAutoMakeGem(a);case 15:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}(),e.updateDelay,t),a.abrupt("return");case 19:n=t.id,i=t.multiple,r=t.round,l=t.workid,u=e.account.name,d=e.account.permissions,h="",f="",p="","RUBY"===l?(h=I(i*r,e.price[0]).toFixed(4)+" USDC",f=i.toFixed(4)+" "+l,p="usdxusdxusdx"):"BERYL"===l?(h=I(i*r,e.price[1]).toFixed(4)+" DFG",f=i.toFixed(4)+" "+l,p="dfxtokenmain"):"TOPAZ"===l&&(h=I(i*r,e.price[2]).toFixed(8)+" TAG",f=i.toFixed(4)+" "+l,p="tagtokenmain"),m={actions:[{account:p,name:"transfer",authorization:[{actor:u,permission:d}],data:{from:u,to:"dfsmetaverse",quantity:h,memo:"deposit"}},{account:"dfsmetaverse",name:"makegem2",authorization:[{actor:u,permission:d}],data:{user:u,assetid:n,gem:f,round:r}}]},g=setTimeout(e.handleAutoMakeGem,125e3,t),O.toTransaction(m,function(){var a=Object(o.a)(regeneratorRuntime.mark((function a(s){return regeneratorRuntime.wrap((function(a){for(;;)switch(a.prev=a.next){case 0:if(clearTimeout(g),s&&(s=e.handleDealWithError(s)),!s||402!=s.code){a.next=11;break}return e.$toast({type:"fail",message:s.message}),e.logMsg.push("#1"),e.logMsg.push("当前时间: "+D()().format("YYYY-MM-DD HH:mm:ss")),e.logMsg.push(Object(c.a)({},t)),e.logMsg.push("handleAutoMakeGem tx error"),e.logMsg.push(s.message),e.handleFailProcessTask(t,e.handleAutoMakeGem),a.abrupt("return");case 11:if(!s){a.next=20;break}return e.$toast({type:"fail",message:s.message}),e.logMsg.push("#2"),e.logMsg.push("当前时间: "+D()().format("YYYY-MM-DD HH:mm:ss")),e.logMsg.push(Object(c.a)({},t)),e.logMsg.push("handleAutoMakeGem tx error"),e.logMsg.push(s.message),e.handleFailProcessTask(t,e.handleAutoMakeGem),a.abrupt("return");case 20:e.$toast({type:"success",message:"Makegem\nSuccess"}),t.failCount=0,e.logMsg.push("#3"),setTimeout(function(){var t=Object(o.a)(regeneratorRuntime.mark((function t(a){return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return e.logMsg.push("#4"),t.next=3,e.handleUpdateTask(a);case 3:e.handleAutoMakeGem(a);case 4:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}(),e.updateDelay,t);case 24:case"end":return a.stop()}}),a)})));return function(t){return a.apply(this,arguments)}}());case 32:case"end":return a.stop()}}),a)})))()},handleFailProcessTask:function(t,e){var a=this;return Object(o.a)(regeneratorRuntime.mark((function s(){return regeneratorRuntime.wrap((function(s){for(;;)switch(s.prev=s.next){case 0:a.logMsg.push(a.handleGetTime()+"#handleFailProcessTask,"+t.id),t.failCount++,t.failCount>a.failMax?(a.logMsg.push("超过失败重试最大次数，延时执行"),t.failCount=0,t.tipMsg="失败超过最大次数，等待激活"):0==t.autoSwitch?(t.failCount=0,t.tipMsg="无",a.logMsg.push("已退出自动模式")):(a.logMsg.push("失败重试第"+t.failCount+"次"),t.tipMsg="交易失败"+t.failCount+"次，"+a.failDelay/1e3+"秒后重试",setTimeout(function(){var t=Object(o.a)(regeneratorRuntime.mark((function t(s){return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return a.logMsg.push("#1"),t.next=3,a.handleUpdateTask(s);case 3:return t.next=5,a.handleUpdateAsset(s);case 5:e(s);case 6:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}(),a.failDelay,t));case 3:case"end":return s.stop()}}),s)})))()},handleFailProcessOrder:function(t,e){var a=this;return Object(o.a)(regeneratorRuntime.mark((function s(){return regeneratorRuntime.wrap((function(s){for(;;)switch(s.prev=s.next){case 0:a.logMsg.push(a.handleGetTime()+"#handleFailProcessOrder,"+t.id),t.failCount++,t.failCount>a.failMax?(a.logMsg.push("超过失败重试最大次数，延时执行"),t.failCount=0,t.tipMsg="失败超过最大次数，等待激活"):0==t.autoSwitch?(t.failCount=0,t.tipMsg="无",a.logMsg.push("已退出自动模式")):(a.logMsg.push("失败重试第"+t.failCount+"次"),t.tipMsg="交易失败"+t.failCount+"次，"+a.failDelay/1e3+"秒后重试",setTimeout(function(){var t=Object(o.a)(regeneratorRuntime.mark((function t(s){return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return a.logMsg.push("#1"),t.next=3,a.handleUpdateOrder(s);case 3:return t.next=5,a.handleUpdateAsset(s);case 5:e(s);case 6:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}(),a.failDelay,t));case 3:case"end":return s.stop()}}),s)})))()},handleSwitchClick:function(t){var e=t.workid;if(null==e)return this.$toast({type:"fail",message:"请选择生产物品"}),void this.logMsg.push("请选择生产物品")},handleSwitchCheck:function(t){t.autoSwitch&&(this.$refs["#"+t.id][0].start(),console.log("start"))},handleSwitchCheck2:function(t){t.autoSwitch&&(this.$refs["O"+t.id][0].start(),console.log("start")),this.$forceUpdate()},handleFreeCPU:function(){this.$store.dispatch("setFreeCpu",this.freeCPU)},noSleep:function(){var t=new R.a;document.addEventListener("click",(function e(){t.enable(),document.removeEventListener("click",e,!1)}),!1)},handleCalc:function(t){var e=t.multiple,a=t.round,s=t.workid;if(null==s)return this.$toast({type:"fail",message:"请选择生产物品"}),void this.logMsg.push("请选择生产物品");if(this.works[s-1].id!=s)return this.$toast({type:"fail",message:"工作id错误"}),void this.logMsg.push("工作id错误");var n=this.works[s-1].require_asset.slice();n.forEach((function(t,s){var i=t.split(" ");i[0]=(parseInt(i[0])*e*a).toFixed(4),n[s]=i[0]+" "+i[1]}));var i=this.works[s-1].create_asset.slice(),r=i.split(" ");r[0]=(parseInt(r[0])*e*a).toFixed(4),i=r[0]+" "+r[1];var o=this.works[s-1].require_time*a;this.requireAsset=n,this.createAsset=i,this.requireTime=o/60,this.endTime=D()().add(this.requireTime,"m").format("YYYY-MM-DD HH:mm:ss"),this.showCalc=!0},handleCheckAllAsset:function(){var t=this;this.land.forEach((function(e){t.handleCheckAsset(e)})),this.feedmill.forEach((function(e){t.handleCheckAsset(e)})),this.bakery.forEach((function(e){t.handleCheckAsset(e)})),this.cow.forEach((function(e){t.handleCheckAsset(e)})),this.sheep.forEach((function(e){t.handleCheckAsset(e)})),this.chicken.forEach((function(e){t.handleCheckAsset(e)})),this.gemfactory.forEach((function(e){t.handleCheckAsset(e)})),this.sugarmill.forEach((function(e){t.handleCheckAsset(e)})),this.textilemill.forEach((function(e){t.handleCheckAsset(e)})),this.tailorshop.forEach((function(e){t.handleCheckAsset(e)}))},handleCheckAsset:function(t){var e=this,a=t.multiple,s=t.round,n=t.workid,i=[];if(null!=n){if(this.works[n-1].require_asset.slice().forEach((function(t,n){var r=t.split(" ");r[0]=(parseInt(r[0])*a*s).toFixed(4),e.assets[r[1]]-r[0]<0&&i.push(r[1])})),0==i.length)return t.lack=!1,t.tipMsg="无",{lack:!1,lackAsset:""};var r="";return i.forEach((function(t){r+=e.chinese[t]+" "})),t.lack=!0,t.tipMsg=r+"资产不足",{lack:!0,lackAsset:r}}},handleCheckGemAsset:function(t){var e=t.multiple,a=t.round,s=t.workid,n=[],i="";"RUBY"===s?i=I(e*a,this.price[0]).toFixed(4)+" USDC":"BERYL"===s?i=I(e*a,this.price[1]).toFixed(4)+" DFG":"TOPAZ"===s&&(i=I(e*a,this.price[2]).toFixed(8)+" TAG");var r=i.split(" ");if(this.assets[r[1]]-r[0]<0&&n.push(r[1]),0==n.length)return t.lack=!1,t.tipMsg="无",{lack:!1,lackAsset:""};var o="";return n.forEach((function(t){o+=t+" "})),t.lack=!0,t.tipMsg=o+"资产不足",{lack:!0,lackAsset:o}},handleCheckOrderAsset:function(t){var e=this,a=t.require_asset.slice(),s=[];if(a.forEach((function(a,n){var i=a.split(" ");e.assets[i[1]]-(t.trigger[n].value>i[0]?t.trigger[n].value:i[0])<0&&s.push(i[1])})),0==s.length)return t.lack=!1,t.tipMsg="无",{lack:!1,lackAsset:""};var n="";return s.forEach((function(t){n+=e.chinese[t]+" "})),t.lack=!0,t.tipMsg=n+"资产不足",{lack:!0,lackAsset:n}},handleGemCalc:function(t){var e=t.multiple,a=t.round,s=t.workid;if(null==s)return this.$toast({type:"fail",message:"请选择生产物品"}),void this.logMsg.push("请选择生产物品");var n="",i="";"RUBY"===s?(n=I(e*a,this.price[0]).toFixed(4)+" USDC",i=e.toFixed(4)+" "+s):"BERYL"===s?(n=I(e*a,this.price[1]).toFixed(4)+" DFG",i=e.toFixed(4)+" "+s):"TOPAZ"===s&&(n=I(e*a,this.price[2]).toFixed(8)+" TAG",i=e.toFixed(4)+" "+s),this.requireAsset=n,this.createAsset=i,this.requireTime=120*a,this.endTime=D()().add(this.requireTime,"m").format("YYYY-MM-DD HH:mm:ss"),this.showCalc=!0},handleGetPrice:function(){var t=this;return Object(o.a)(regeneratorRuntime.mark((function e(){var a,s,n;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,t.$api.get_price();case 2:if(a=e.sent,s=a.status,n=a.result,s){e.next=9;break}return t.$toast({type:"fail",message:"获取价格失败"}),t.logMsg.push("获取价格失败"),e.abrupt("return");case 9:t.price=[],n.forEach((function(e){"USDC"===e.coin?t.price[0]=e.price:"DFG"===e.coin?t.price[1]=e.price:"TAG"===e.coin&&(t.price[2]=e.price)}));case 11:case"end":return e.stop()}}),e)})))()},handleGetTime:function(){var t=new Date;return t.getHours()+":"+t.getMinutes()}},mounted:function(){var t=JSON.parse(localStorage.getItem("proConfig"));null!==t&&this.$store.dispatch("setBaseConfig",t),this.noSleep(),this.handleLogin(),this.handleFreeCPU(),this.handleUpdateTip(),this.handleGetPrice(),this.handleCopy(),clearInterval(this.timer),this.timer=setInterval(this.handleActiveTask,this.activeTime)},beforeDestroy:function(){clearInterval(this.timer)}},$=(a("5c0b"),a("2877")),z=Object($.a)(G,(function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"main"},[a("div",{staticClass:"header"},[a("div",[t.logined?a("span",[t._v("账号："+t._s(t.account.name))]):a("van-button",{attrs:{plain:"",type:"info",size:"small"},on:{click:t.handleLogin}},[t._v("登陆")])],1),a("div",[a("van-switch",{attrs:{size:"20px"},on:{change:t.handleFreeCPU},model:{value:t.freeCPU,callback:function(e){t.freeCPU=e},expression:"freeCPU"}}),a("div",{staticClass:"fr"},[t._v("免CPU")])],1)]),t.logined?a("div",{staticClass:"header"},[a("span",[t._v("NFT："+t._s(t.nftCount)+" 个，"+t._s(t.version))]),a("van-loading",{directives:[{name:"show",rawName:"v-show",value:t.loading,expression:"loading"}],attrs:{type:"spinner",color:"#1989fa",size:"20px"}},[t._v("加载中...")]),a("el-link",{staticStyle:{"font-size":"16px"},attrs:{type:"primary"},on:{click:t.handleShowNodeSetDialog}},[t._v("节点设置")])],1):t._e(),t.logined?a("div",{staticClass:"flexb",staticStyle:{margin:"10px 0"}},[a("van-button",{attrs:{plain:"",type:"info",size:"small",disabled:t.loading},on:{click:t.handleBackup}},[t._v("备 份")]),a("van-button",{attrs:{plain:"",type:"info",size:"small",disabled:t.loading},on:{click:t.handleRestore}},[t._v("还 原")]),a("van-button",{attrs:{plain:"",type:"info",size:"small"},on:{click:t.handleNoPasswordTx}},[t._v("免密交易")]),a("van-icon",{staticStyle:{"margin-right":"10px"},attrs:{name:"like-o",size:"25"},on:{click:t.handleShowLike}}),a("van-icon",{attrs:{name:"info-o",size:"25"},on:{click:t.handleShowAbout}})],1):t._e(),0!==t.nftCount?a("van-tabs",{attrs:{scrollspy:"",sticky:""},model:{value:t.activeName,callback:function(e){t.activeName=e},expression:"activeName"}},[a("van-tab",{attrs:{title:"农场",name:"farm"}},[a("van-divider",{style:{color:"#1989fa",borderColor:"#1989fa"}}),t._l(t.land,(function(e,s){return a("div",{key:s},[a("h3",[t._v("普通土地：#"+t._s(e.id)+"，等级："+t._s(e.level))]),a("div",{staticClass:"mt flexb"},[a("van-button",{attrs:{plain:"",type:"info",size:"small",disabled:e.autoSwitch},on:{click:function(a){return t.handleHarvest(e)}}},[t._v("收 取")]),1==e.lack?a("van-button",{attrs:{plain:"",type:"warning",size:"small",disabled:e.autoSwitch},on:{click:function(a){return t.handleProduce(e)}}},[t._v("种 植")]):a("van-button",{attrs:{plain:"",type:"info",size:"small",disabled:e.autoSwitch},on:{click:function(a){return t.handleProduce(e)}}},[t._v("种 植")]),a("van-button",{attrs:{plain:"",type:"info",size:"small"},on:{click:function(a){return t.handleCalc(e)}}},[t._v("计 算")]),a("van-icon",{attrs:{name:"bag-o",size:"25"},on:{click:function(e){t.showProduct=!0}}}),a("div",{staticStyle:{margin:"auto 0px"}},[a("van-switch",{attrs:{size:"20px",disabled:null===e.workid},on:{change:function(a){return t.handleSwitchCheck(e)},click:function(a){return t.handleSwitchClick(e)}},model:{value:e.autoSwitch,callback:function(a){t.$set(e,"autoSwitch",a)},expression:"v.autoSwitch"}}),a("div",{staticClass:"fr"},[t._v("自动")])],1)],1),a("van-radio-group",{staticClass:"mt",on:{change:function(a){return t.handleCheckAsset(e)}},model:{value:e.workid,callback:function(a){t.$set(e,"workid",a)},expression:"v.workid"}},[a("div",{staticClass:"flexs"},[a("van-radio",{staticClass:"radio",attrs:{name:"1"}},[t._v("麦子")]),a("van-radio",{staticClass:"radio",attrs:{name:"2",disabled:e.level<2}},[t._v("玉米")]),a("van-radio",{staticClass:"radio",attrs:{name:"3",disabled:e.level<3}},[t._v("胡萝卜")]),a("van-radio",{staticClass:"radio",attrs:{name:"13",disabled:e.level<4}},[t._v("甘蔗")])],1),a("div",{staticClass:"flexs mt"},[a("van-radio",{staticClass:"radio",attrs:{name:"14",disabled:e.level<5}},[t._v("棉花")])],1)]),a("div",{staticClass:"mt flexs"},[a("div",{staticClass:"num"},[t._v("数量：")]),a("van-stepper",{attrs:{min:"1",max:e.level,integer:""},on:{change:function(a){return t.handleCheckAsset(e)}},model:{value:e.multiple,callback:function(a){t.$set(e,"multiple",a)},expression:"v.multiple"}})],1),a("div",{staticClass:"mt flexs"},[a("div",{staticClass:"num"},[t._v("周期：")]),a("van-stepper",{attrs:{min:"1",max:"12",integer:""},on:{change:function(a){return t.handleCheckAsset(e)}},model:{value:e.round,callback:function(a){t.$set(e,"round",a)},expression:"v.round"}})],1),a("div",{staticClass:"flexs"},[a("div",{staticClass:"mt",staticStyle:{"line-height":"20px"}},[t._v("倒计时：")]),a("van-count-down",{ref:"#"+e.id,refInFor:!0,staticClass:"mt countdown",attrs:{time:e.task.countDown,"auto-start":!1},on:{finish:function(a){return t.handleFinish(e)}}})],1),a("div",{staticClass:"mt",staticStyle:{"line-height":"20px"}},[t._v("完成时间："),a("span",{staticClass:"countdown"},[t._v(t._s(e.task.end_time?e.task.end_time:"无"))])]),a("div",{staticClass:"mt",staticStyle:{"line-height":"20px"}},[t._v("当前产品："),a("span",{staticClass:"countdown"},[t._v(t._s(e.task.end_time?e.task.product.num+"个"+e.task.product.name:"无"))])]),a("div",{staticClass:"mt",staticStyle:{"line-height":"20px"}},[t._v("提示信息： "),"无"==e.tipMsg?a("span",{staticClass:"tipMsg"},[t._v(t._s(e.tipMsg))]):a("span",{staticClass:"tipMsg",staticStyle:{color:"#ff976a"}},[t._v(t._s(e.tipMsg))])]),a("van-divider",{style:{color:"#1989fa",borderColor:"#1989fa"}})],1)}))],2),a("van-tab",{staticClass:"mytab",attrs:{title:"工厂",name:"factory"}},[a("div",t._l(t.gemfactory,(function(e,s){return a("div",{key:s},[a("h3",[t._v("宝石工厂：#"+t._s(e.id)+"，等级："+t._s(e.level))]),a("div",{staticClass:"mt flexb"},[a("van-button",{attrs:{plain:"",type:"info",size:"small",disabled:e.autoSwitch},on:{click:function(a){return t.handleHarvest(e)}}},[t._v("收 取")]),1==e.lack?a("van-button",{attrs:{plain:"",type:"warning",size:"small",disabled:e.autoSwitch},on:{click:function(a){return t.handleMakeGem(e)}}},[t._v("加 工")]):a("van-button",{attrs:{plain:"",type:"info",size:"small",disabled:e.autoSwitch},on:{click:function(a){return t.handleMakeGem(e)}}},[t._v("加 工")]),a("van-button",{attrs:{plain:"",type:"info",size:"small"},on:{click:function(a){return t.handleGemCalc(e)}}},[t._v("计 算")]),a("van-icon",{attrs:{name:"bag-o",size:"25"},on:{click:function(e){t.showProduct=!0}}}),a("div",{staticStyle:{margin:"auto 0px"}},[a("van-switch",{attrs:{size:"20px",disabled:null===e.workid},on:{change:function(a){return t.handleSwitchCheck(e)},click:function(a){return t.handleSwitchClick(e)}},model:{value:e.autoSwitch,callback:function(a){t.$set(e,"autoSwitch",a)},expression:"v.autoSwitch"}}),a("div",{staticClass:"fr"},[t._v("自 动")])],1)],1),a("van-radio-group",{staticClass:"mt",attrs:{direction:"horizontal"},on:{change:function(a){return t.handleCheckGemAsset(e)}},model:{value:e.workid,callback:function(a){t.$set(e,"workid",a)},expression:"v.workid"}},[a("van-radio",{attrs:{name:"RUBY"}},[t._v("红宝石")]),a("van-radio",{attrs:{name:"BERYL"}},[t._v("绿宝石")]),a("van-radio",{attrs:{name:"TOPAZ"}},[t._v("黄玉")])],1),a("div",{staticClass:"mt flexs"},[a("div",{staticClass:"num"},[t._v("数量：")]),a("van-stepper",{attrs:{min:"1",max:e.level,integer:""},on:{change:function(a){return t.handleCheckGemAsset(e)}},model:{value:e.multiple,callback:function(a){t.$set(e,"multiple",a)},expression:"v.multiple"}})],1),a("div",{staticClass:"mt flexs"},[a("div",{staticClass:"num"},[t._v("周期：")]),a("van-stepper",{attrs:{min:"1",max:"12",integer:""},on:{change:function(a){return t.handleCheckGemAsset(e)}},model:{value:e.round,callback:function(a){t.$set(e,"round",a)},expression:"v.round"}})],1),a("div",{staticClass:"flexs"},[a("div",{staticClass:"mt",staticStyle:{"line-height":"20px"}},[t._v("倒计时：")]),a("van-count-down",{ref:"#"+e.id,refInFor:!0,staticClass:"mt countdown",attrs:{time:e.task.countDown,"auto-start":!1},on:{finish:function(a){return t.handleFinish(e)}}})],1),a("div",{staticClass:"mt",staticStyle:{"line-height":"20px"}},[t._v("完成时间："),a("span",{staticClass:"countdown"},[t._v(t._s(e.task.end_time?e.task.end_time:"无"))])]),a("div",{staticClass:"mt",staticStyle:{"line-height":"20px"}},[t._v("当前产品："),a("span",{staticClass:"countdown"},[t._v(t._s(e.task.end_time?e.task.product.num+"个"+e.task.product.name:"无"))])]),a("div",{staticClass:"mt",staticStyle:{"line-height":"20px"}},[t._v("提示信息： "),"无"==e.tipMsg?a("span",{staticClass:"tipMsg"},[t._v(t._s(e.tipMsg))]):a("span",{staticClass:"tipMsg",staticStyle:{color:"#ff976a"}},[t._v(t._s(e.tipMsg))])]),a("van-divider",{style:{color:"#1989fa",borderColor:"#1989fa"}})],1)})),0),a("div",t._l(t.feedmill,(function(e,s){return a("div",{key:s},[a("h3",[t._v("饲料厂：#"+t._s(e.id)+"，等级："+t._s(e.level))]),a("div",{staticClass:"mt flexb"},[a("van-button",{attrs:{plain:"",type:"info",size:"small",disabled:e.autoSwitch},on:{click:function(a){return t.handleHarvest(e)}}},[t._v("收取")]),1==e.lack?a("van-button",{attrs:{plain:"",type:"warning",size:"small",disabled:e.autoSwitch},on:{click:function(a){return t.handleProduce(e)}}},[t._v("加 工")]):a("van-button",{attrs:{plain:"",type:"info",size:"small",disabled:e.autoSwitch},on:{click:function(a){return t.handleProduce(e)}}},[t._v("加 工")]),a("van-button",{attrs:{plain:"",type:"info",size:"small"},on:{click:function(a){return t.handleCalc(e)}}},[t._v("计 算")]),a("van-icon",{attrs:{name:"bag-o",size:"25"},on:{click:function(e){t.showProduct=!0}}}),a("div",{staticStyle:{margin:"auto 0px"}},[a("van-switch",{attrs:{size:"20px",disabled:null===e.workid},on:{change:function(a){return t.handleSwitchCheck(e)},click:function(a){return t.handleSwitchClick(e)}},model:{value:e.autoSwitch,callback:function(a){t.$set(e,"autoSwitch",a)},expression:"v.autoSwitch"}}),a("div",{staticClass:"fr"},[t._v("自 动")])],1)],1),a("van-radio-group",{staticClass:"mt",attrs:{direction:"horizontal"},on:{change:function(a){return t.handleCheckAsset(e)}},model:{value:e.workid,callback:function(a){t.$set(e,"workid",a)},expression:"v.workid"}},[a("van-radio",{attrs:{name:"4"}},[t._v("牛饲料")]),a("van-radio",{attrs:{name:"5",disabled:e.level<2}},[t._v("鸡饲料")]),a("van-radio",{attrs:{name:"6",disabled:e.level<3}},[t._v("羊饲料")])],1),a("div",{staticClass:"mt flexs"},[a("div",{staticClass:"num"},[t._v("数量：")]),a("van-stepper",{attrs:{min:"1",max:e.level,integer:""},on:{change:function(a){return t.handleCheckAsset(e)}},model:{value:e.multiple,callback:function(a){t.$set(e,"multiple",a)},expression:"v.multiple"}})],1),a("div",{staticClass:"mt flexs"},[a("div",{staticClass:"num"},[t._v("周期：")]),a("van-stepper",{attrs:{min:"1",max:"12",integer:""},on:{change:function(a){return t.handleCheckAsset(e)}},model:{value:e.round,callback:function(a){t.$set(e,"round",a)},expression:"v.round"}})],1),a("div",{staticClass:"flexs"},[a("div",{staticClass:"mt",staticStyle:{"line-height":"20px"}},[t._v("倒计时：")]),a("van-count-down",{ref:"#"+e.id,refInFor:!0,staticClass:"mt countdown",attrs:{time:e.task.countDown,"auto-start":!1},on:{finish:function(a){return t.handleFinish(e)}}})],1),a("div",{staticClass:"mt",staticStyle:{"line-height":"20px"}},[t._v("完成时间："),a("span",{staticClass:"countdown"},[t._v(t._s(e.task.end_time?e.task.end_time:"无"))])]),a("div",{staticClass:"mt",staticStyle:{"line-height":"20px"}},[t._v("当前产品："),a("span",{staticClass:"countdown"},[t._v(t._s(e.task.end_time?e.task.product.num+"个"+e.task.product.name:"无"))])]),a("div",{staticClass:"mt",staticStyle:{"line-height":"20px"}},[t._v("提示信息： "),"无"==e.tipMsg?a("span",{staticClass:"tipMsg"},[t._v(t._s(e.tipMsg))]):a("span",{staticClass:"tipMsg",staticStyle:{color:"#ff976a"}},[t._v(t._s(e.tipMsg))])]),a("van-divider",{style:{color:"#1989fa",borderColor:"#1989fa"}})],1)})),0),a("div",t._l(t.bakery,(function(e,s){return a("div",{key:s},[a("h3",[t._v("面包坊：#"+t._s(e.id)+"，等级："+t._s(e.level))]),a("div",{staticClass:"mt flexb"},[a("van-button",{attrs:{plain:"",type:"info",size:"small",disabled:e.autoSwitch},on:{click:function(a){return t.handleHarvest(e)}}},[t._v("收 取")]),1==e.lack?a("van-button",{attrs:{plain:"",type:"warning",size:"small",disabled:e.autoSwitch},on:{click:function(a){return t.handleProduce(e)}}},[t._v("加 工")]):a("van-button",{attrs:{plain:"",type:"info",size:"small",disabled:e.autoSwitch},on:{click:function(a){return t.handleProduce(e)}}},[t._v("加 工")]),a("van-button",{attrs:{plain:"",type:"info",size:"small"},on:{click:function(a){return t.handleCalc(e)}}},[t._v("计 算")]),a("van-icon",{attrs:{name:"bag-o",size:"25"},on:{click:function(e){t.showProduct=!0}}}),a("div",{staticStyle:{margin:"auto 0px"}},[a("van-switch",{attrs:{size:"20px",disabled:null===e.workid},on:{change:function(a){return t.handleSwitchCheck(e)},click:function(a){return t.handleSwitchClick(e)}},model:{value:e.autoSwitch,callback:function(a){t.$set(e,"autoSwitch",a)},expression:"v.autoSwitch"}}),a("div",{staticClass:"fr"},[t._v("自动")])],1)],1),a("van-radio-group",{staticClass:"mt",attrs:{direction:"horizontal"},on:{change:function(a){return t.handleCheckAsset(e)}},model:{value:e.workid,callback:function(a){t.$set(e,"workid",a)},expression:"v.workid"}},[a("van-radio",{attrs:{name:"10"}},[t._v("面包")]),a("van-radio",{attrs:{name:"11",disabled:e.level<2}},[t._v("曲奇")]),a("van-radio",{attrs:{name:"12",disabled:e.level<3}},[t._v("蛋糕")])],1),a("div",{staticClass:"mt flexs"},[a("div",{staticClass:"num"},[t._v("数量：")]),a("van-stepper",{attrs:{min:"1",max:e.level,integer:""},on:{change:function(a){return t.handleCheckAsset(e)}},model:{value:e.multiple,callback:function(a){t.$set(e,"multiple",a)},expression:"v.multiple"}})],1),a("div",{staticClass:"mt flexs"},[a("div",{staticClass:"num"},[t._v("周期：")]),a("van-stepper",{attrs:{min:"1",max:"12",integer:""},on:{change:function(a){return t.handleCheckAsset(e)}},model:{value:e.round,callback:function(a){t.$set(e,"round",a)},expression:"v.round"}})],1),a("div",{staticClass:"flexs"},[a("div",{staticClass:"mt",staticStyle:{"line-height":"20px"}},[t._v("倒计时：")]),a("van-count-down",{ref:"#"+e.id,refInFor:!0,staticClass:"mt countdown",attrs:{time:e.task.countDown,"auto-start":!1},on:{finish:function(a){return t.handleFinish(e)}}})],1),a("div",{staticClass:"mt",staticStyle:{"line-height":"20px"}},[t._v("完成时间："),a("span",{staticClass:"countdown"},[t._v(t._s(e.task.end_time?e.task.end_time:"无"))])]),a("div",{staticClass:"mt",staticStyle:{"line-height":"20px"}},[t._v("当前产品："),a("span",{staticClass:"countdown"},[t._v(t._s(e.task.end_time?e.task.product.num+"个"+e.task.product.name:"无"))])]),a("div",{staticClass:"mt",staticStyle:{"line-height":"20px"}},[t._v("提示信息： "),"无"==e.tipMsg?a("span",{staticClass:"tipMsg"},[t._v(t._s(e.tipMsg))]):a("span",{staticClass:"tipMsg",staticStyle:{color:"#ff976a"}},[t._v(t._s(e.tipMsg))])]),a("van-divider",{style:{color:"#1989fa",borderColor:"#1989fa"}})],1)})),0),a("div",t._l(t.textilemill,(function(e,s){return a("div",{key:s},[a("h3",[t._v("纺织厂：#"+t._s(e.id)+"，等级："+t._s(e.level))]),a("div",{staticClass:"mt flexb"},[a("van-button",{attrs:{plain:"",type:"info",size:"small",disabled:e.autoSwitch},on:{click:function(a){return t.handleHarvest(e)}}},[t._v("收 取")]),1==e.lack?a("van-button",{attrs:{plain:"",type:"warning",size:"small",disabled:e.autoSwitch},on:{click:function(a){return t.handleProduce(e)}}},[t._v("加 工")]):a("van-button",{attrs:{plain:"",type:"info",size:"small",disabled:e.autoSwitch},on:{click:function(a){return t.handleProduce(e)}}},[t._v("加 工")]),a("van-button",{attrs:{plain:"",type:"info",size:"small"},on:{click:function(a){return t.handleCalc(e)}}},[t._v("计 算")]),a("van-icon",{attrs:{name:"bag-o",size:"25"},on:{click:function(e){t.showProduct=!0}}}),a("div",{staticStyle:{margin:"auto 0px"}},[a("van-switch",{attrs:{size:"20px",disabled:null===e.workid},on:{change:function(a){return t.handleSwitchCheck(e)},click:function(a){return t.handleSwitchClick(e)}},model:{value:e.autoSwitch,callback:function(a){t.$set(e,"autoSwitch",a)},expression:"v.autoSwitch"}}),a("div",{staticClass:"fr"},[t._v("自动")])],1)],1),a("van-radio-group",{staticClass:"mt",attrs:{direction:"horizontal"},on:{change:function(a){return t.handleCheckAsset(e)}},model:{value:e.workid,callback:function(a){t.$set(e,"workid",a)},expression:"v.workid"}},[a("van-radio",{attrs:{name:"18"}},[t._v("棉布")]),a("van-radio",{attrs:{name:"19",disabled:e.level<2}},[t._v("纺纱")]),a("van-radio",{attrs:{name:"20",disabled:e.level<3}},[t._v("丝绸")])],1),a("div",{staticClass:"mt flexs"},[a("div",{staticClass:"num"},[t._v("数量：")]),a("van-stepper",{attrs:{min:"1",max:e.level,integer:""},on:{change:function(a){return t.handleCheckAsset(e)}},model:{value:e.multiple,callback:function(a){t.$set(e,"multiple",a)},expression:"v.multiple"}})],1),a("div",{staticClass:"mt flexs"},[a("div",{staticClass:"num"},[t._v("周期：")]),a("van-stepper",{attrs:{min:"1",max:"12",integer:""},on:{change:function(a){return t.handleCheckAsset(e)}},model:{value:e.round,callback:function(a){t.$set(e,"round",a)},expression:"v.round"}})],1),a("div",{staticClass:"flexs"},[a("div",{staticClass:"mt",staticStyle:{"line-height":"20px"}},[t._v("倒计时：")]),a("van-count-down",{ref:"#"+e.id,refInFor:!0,staticClass:"mt countdown",attrs:{time:e.task.countDown,"auto-start":!1},on:{finish:function(a){return t.handleFinish(e)}}})],1),a("div",{staticClass:"mt",staticStyle:{"line-height":"20px"}},[t._v("完成时间："),a("span",{staticClass:"countdown"},[t._v(t._s(e.task.end_time?e.task.end_time:"无"))])]),a("div",{staticClass:"mt",staticStyle:{"line-height":"20px"}},[t._v("当前产品："),a("span",{staticClass:"countdown"},[t._v(t._s(e.task.end_time?e.task.product.num+"个"+e.task.product.name:"无"))])]),a("div",{staticClass:"mt",staticStyle:{"line-height":"20px"}},[t._v("提示信息： "),"无"==e.tipMsg?a("span",{staticClass:"tipMsg"},[t._v(t._s(e.tipMsg))]):a("span",{staticClass:"tipMsg",staticStyle:{color:"#ff976a"}},[t._v(t._s(e.tipMsg))])]),a("van-divider",{style:{color:"#1989fa",borderColor:"#1989fa"}})],1)})),0),a("div",t._l(t.sugarmill,(function(e,s){return a("div",{key:s},[a("h3",[t._v("制糖厂：#"+t._s(e.id)+"，等级："+t._s(e.level))]),a("div",{staticClass:"mt flexb"},[a("van-button",{attrs:{plain:"",type:"info",size:"small",disabled:e.autoSwitch},on:{click:function(a){return t.handleHarvest(e)}}},[t._v("收 取")]),1==e.lack?a("van-button",{attrs:{plain:"",type:"warning",size:"small",disabled:e.autoSwitch},on:{click:function(a){return t.handleProduce(e)}}},[t._v("加 工")]):a("van-button",{attrs:{plain:"",type:"info",size:"small",disabled:e.autoSwitch},on:{click:function(a){return t.handleProduce(e)}}},[t._v("加 工")]),a("van-button",{attrs:{plain:"",type:"info",size:"small"},on:{click:function(a){return t.handleCalc(e)}}},[t._v("计 算")]),a("van-icon",{attrs:{name:"bag-o",size:"25"},on:{click:function(e){t.showProduct=!0}}}),a("div",{staticStyle:{margin:"auto 0px"}},[a("van-switch",{attrs:{size:"20px",disabled:null===e.workid},on:{change:function(a){return t.handleSwitchCheck(e)},click:function(a){return t.handleSwitchClick(e)}},model:{value:e.autoSwitch,callback:function(a){t.$set(e,"autoSwitch",a)},expression:"v.autoSwitch"}}),a("div",{staticClass:"fr"},[t._v("自动")])],1)],1),a("van-radio-group",{staticClass:"mt",attrs:{direction:"horizontal"},on:{change:function(a){return t.handleCheckAsset(e)}},model:{value:e.workid,callback:function(a){t.$set(e,"workid",a)},expression:"v.workid"}},[a("van-radio",{attrs:{name:"15"}},[t._v("砂糖")]),a("van-radio",{attrs:{name:"16",disabled:e.level<2}},[t._v("糖浆")]),a("van-radio",{attrs:{name:"17",disabled:e.level<3}},[t._v("焦糖")])],1),a("div",{staticClass:"mt flexs"},[a("div",{staticClass:"num"},[t._v("数量：")]),a("van-stepper",{attrs:{min:"1",max:e.level,integer:""},on:{change:function(a){return t.handleCheckAsset(e)}},model:{value:e.multiple,callback:function(a){t.$set(e,"multiple",a)},expression:"v.multiple"}})],1),a("div",{staticClass:"mt flexs"},[a("div",{staticClass:"num"},[t._v("周期：")]),a("van-stepper",{attrs:{min:"1",max:"12",integer:""},on:{change:function(a){return t.handleCheckAsset(e)}},model:{value:e.round,callback:function(a){t.$set(e,"round",a)},expression:"v.round"}})],1),a("div",{staticClass:"flexs"},[a("div",{staticClass:"mt",staticStyle:{"line-height":"20px"}},[t._v("倒计时：")]),a("van-count-down",{ref:"#"+e.id,refInFor:!0,staticClass:"mt countdown",attrs:{time:e.task.countDown,"auto-start":!1},on:{finish:function(a){return t.handleFinish(e)}}})],1),a("div",{staticClass:"mt",staticStyle:{"line-height":"20px"}},[t._v("完成时间："),a("span",{staticClass:"countdown"},[t._v(t._s(e.task.end_time?e.task.end_time:"无"))])]),a("div",{staticClass:"mt",staticStyle:{"line-height":"20px"}},[t._v("当前产品："),a("span",{staticClass:"countdown"},[t._v(t._s(e.task.end_time?e.task.product.num+"个"+e.task.product.name:"无"))])]),a("div",{staticClass:"mt",staticStyle:{"line-height":"20px"}},[t._v("提示信息： "),"无"==e.tipMsg?a("span",{staticClass:"tipMsg"},[t._v(t._s(e.tipMsg))]):a("span",{staticClass:"tipMsg",staticStyle:{color:"#ff976a"}},[t._v(t._s(e.tipMsg))])]),a("van-divider",{style:{color:"#1989fa",borderColor:"#1989fa"}})],1)})),0),a("div",t._l(t.tailorshop,(function(e,s){return a("div",{key:s},[a("h3",[t._v("裁缝店#"+t._s(e.id)+"，等级："+t._s(e.level))]),a("div",{staticClass:"mt flexb"},[a("van-button",{attrs:{plain:"",type:"info",size:"small",disabled:e.autoSwitch},on:{click:function(a){return t.handleHarvest(e)}}},[t._v("收 取")]),1==e.lack?a("van-button",{attrs:{plain:"",type:"warning",size:"small",disabled:e.autoSwitch},on:{click:function(a){return t.handleProduce(e)}}},[t._v("加 工")]):a("van-button",{attrs:{plain:"",type:"info",size:"small",disabled:e.autoSwitch},on:{click:function(a){return t.handleProduce(e)}}},[t._v("加 工")]),a("van-button",{attrs:{plain:"",type:"info",size:"small"},on:{click:function(a){return t.handleCalc(e)}}},[t._v("计 算")]),a("van-icon",{attrs:{name:"bag-o",size:"25"},on:{click:function(e){t.showProduct=!0}}}),a("div",{staticStyle:{margin:"auto 0px"}},[a("van-switch",{attrs:{size:"20px",disabled:null===e.workid},on:{change:function(a){return t.handleSwitchCheck(e)},click:function(a){return t.handleSwitchClick(e)}},model:{value:e.autoSwitch,callback:function(a){t.$set(e,"autoSwitch",a)},expression:"v.autoSwitch"}}),a("div",{staticClass:"fr"},[t._v("自动")])],1)],1),a("van-radio-group",{staticClass:"mt",attrs:{direction:"horizontal"},on:{change:function(a){return t.handleCheckAsset(e)}},model:{value:e.workid,callback:function(a){t.$set(e,"workid",a)},expression:"v.workid"}},[a("van-radio",{attrs:{name:"21"}},[t._v("衬衫")]),a("van-radio",{attrs:{name:"22",disabled:e.level<2}},[t._v("毛衣")]),a("van-radio",{attrs:{name:"23",disabled:e.level<3}},[t._v("外套")])],1),a("div",{staticClass:"mt flexs"},[a("div",{staticClass:"num"},[t._v("数量：")]),a("van-stepper",{attrs:{min:"1",max:e.level,integer:""},on:{change:function(a){return t.handleCheckAsset(e)}},model:{value:e.multiple,callback:function(a){t.$set(e,"multiple",a)},expression:"v.multiple"}})],1),a("div",{staticClass:"mt flexs"},[a("div",{staticClass:"num"},[t._v("周期：")]),a("van-stepper",{attrs:{min:"1",max:"12",integer:""},on:{change:function(a){return t.handleCheckAsset(e)}},model:{value:e.round,callback:function(a){t.$set(e,"round",a)},expression:"v.round"}})],1),a("div",{staticClass:"flexs"},[a("div",{staticClass:"mt",staticStyle:{"line-height":"20px"}},[t._v("倒计时：")]),a("van-count-down",{ref:"#"+e.id,refInFor:!0,staticClass:"mt countdown",attrs:{time:e.task.countDown,"auto-start":!1},on:{finish:function(a){return t.handleFinish(e)}}})],1),a("div",{staticClass:"mt",staticStyle:{"line-height":"20px"}},[t._v("完成时间："),a("span",{staticClass:"countdown"},[t._v(t._s(e.task.end_time?e.task.end_time:"无"))])]),a("div",{staticClass:"mt",staticStyle:{"line-height":"20px"}},[t._v("当前产品："),a("span",{staticClass:"countdown"},[t._v(t._s(e.task.end_time?e.task.product.num+"个"+e.task.product.name:"无"))])]),a("div",{staticClass:"mt",staticStyle:{"line-height":"20px"}},[t._v("提示信息： "),"无"==e.tipMsg?a("span",{staticClass:"tipMsg"},[t._v(t._s(e.tipMsg))]):a("span",{staticClass:"tipMsg",staticStyle:{color:"#ff976a"}},[t._v(t._s(e.tipMsg))])]),a("van-divider",{style:{color:"#1989fa",borderColor:"#1989fa"}})],1)})),0)]),a("van-tab",{staticClass:"mytab",attrs:{title:"牧场",name:"animal"}},[a("div",t._l(t.cow,(function(e,s){return a("div",{key:s},[a("h3",[t._v("奶牛：#"+t._s(e.id)+"，等级："+t._s(e.level))]),a("div",{staticClass:"mt flexb"},[a("van-button",{attrs:{plain:"",type:"info",size:"small",disabled:e.autoSwitch},on:{click:function(a){return t.handleHarvest(e)}}},[t._v("收 取")]),1==e.lack?a("van-button",{attrs:{plain:"",type:"warning",size:"small",disabled:e.autoSwitch},on:{click:function(a){return t.handleProduce(e)}}},[t._v("喂 养")]):a("van-button",{attrs:{plain:"",type:"info",size:"small",disabled:e.autoSwitch},on:{click:function(a){return t.handleProduce(e)}}},[t._v("喂 养")]),a("van-button",{attrs:{plain:"",type:"info",size:"small"},on:{click:function(a){return t.handleCalc(e)}}},[t._v("计 算")]),a("van-icon",{attrs:{name:"bag-o",size:"25"},on:{click:function(e){t.showProduct=!0}}}),a("div",{staticStyle:{margin:"auto 0px"}},[a("van-switch",{attrs:{size:"20px",disabled:null===e.workid},on:{change:function(a){return t.handleSwitchCheck(e)},click:function(a){return t.handleSwitchClick(e)}},model:{value:e.autoSwitch,callback:function(a){t.$set(e,"autoSwitch",a)},expression:"v.autoSwitch"}}),a("div",{staticClass:"fr"},[t._v("自动")])],1)],1),a("van-radio-group",{staticClass:"mt",attrs:{direction:"horizontal"},on:{change:function(a){return t.handleCheckAsset(e)}},model:{value:e.workid,callback:function(a){t.$set(e,"workid",a)},expression:"v.workid"}},[a("van-radio",{attrs:{name:"7"}},[t._v("牛奶")])],1),a("div",{staticClass:"mt flexs"},[a("div",{staticClass:"num"},[t._v("数量：")]),a("van-stepper",{attrs:{min:"1",max:e.level,integer:""},on:{change:function(a){return t.handleCheckAsset(e)}},model:{value:e.multiple,callback:function(a){t.$set(e,"multiple",a)},expression:"v.multiple"}})],1),a("div",{staticClass:"mt flexs"},[a("div",{staticClass:"num"},[t._v("周期：")]),a("van-stepper",{attrs:{min:"1",max:"12",integer:""},on:{change:function(a){return t.handleCheckAsset(e)}},model:{value:e.round,callback:function(a){t.$set(e,"round",a)},expression:"v.round"}})],1),a("div",{staticClass:"flexs"},[a("div",{staticClass:"mt",staticStyle:{"line-height":"20px"}},[t._v("倒计时：")]),a("van-count-down",{ref:"#"+e.id,refInFor:!0,staticClass:"mt countdown",attrs:{time:e.task.countDown,"auto-start":!1},on:{finish:function(a){return t.handleFinish(e)}}})],1),a("div",{staticClass:"mt",staticStyle:{"line-height":"20px"}},[t._v("完成时间："),a("span",{staticClass:"countdown"},[t._v(t._s(e.task.end_time?e.task.end_time:"无"))])]),a("div",{staticClass:"mt",staticStyle:{"line-height":"20px"}},[t._v("当前产品："),a("span",{staticClass:"countdown"},[t._v(t._s(e.task.end_time?e.task.product.num+"个"+e.task.product.name:"无"))])]),a("div",{staticClass:"mt",staticStyle:{"line-height":"20px"}},[t._v("提示信息： "),"无"==e.tipMsg?a("span",{staticClass:"tipMsg"},[t._v(t._s(e.tipMsg))]):a("span",{staticClass:"tipMsg",staticStyle:{color:"#ff976a"}},[t._v(t._s(e.tipMsg))])]),a("van-divider",{style:{color:"#1989fa",borderColor:"#1989fa"}})],1)})),0),a("div",t._l(t.sheep,(function(e,s){return a("div",{key:s},[a("h3",[t._v("绵羊：#"+t._s(e.id)+"，等级："+t._s(e.level))]),a("div",{staticClass:"mt flexb"},[a("van-button",{attrs:{plain:"",type:"info",size:"small",disabled:e.autoSwitch},on:{click:function(a){return t.handleHarvest(e)}}},[t._v("收 取")]),1==e.lack?a("van-button",{attrs:{plain:"",type:"warning",size:"small",disabled:e.autoSwitch},on:{click:function(a){return t.handleProduce(e)}}},[t._v("喂 养")]):a("van-button",{attrs:{plain:"",type:"info",size:"small",disabled:e.autoSwitch},on:{click:function(a){return t.handleProduce(e)}}},[t._v("喂 养")]),a("van-button",{attrs:{plain:"",type:"info",size:"small"},on:{click:function(a){return t.handleCalc(e)}}},[t._v("计 算")]),a("van-icon",{attrs:{name:"bag-o",size:"25"},on:{click:function(e){t.showProduct=!0}}}),a("div",{staticStyle:{margin:"auto 0px"}},[a("van-switch",{attrs:{size:"20px",disabled:null===e.workid},on:{change:function(a){return t.handleSwitchCheck(e)},click:function(a){return t.handleSwitchClick(e)}},model:{value:e.autoSwitch,callback:function(a){t.$set(e,"autoSwitch",a)},expression:"v.autoSwitch"}}),a("div",{staticClass:"fr"},[t._v("自动")])],1)],1),a("van-radio-group",{staticClass:"mt",attrs:{direction:"horizontal"},on:{change:function(a){return t.handleCheckAsset(e)}},model:{value:e.workid,callback:function(a){t.$set(e,"workid",a)},expression:"v.workid"}},[a("van-radio",{attrs:{name:"9"}},[t._v("羊毛")])],1),a("div",{staticClass:"mt flexs"},[a("div",{staticClass:"num"},[t._v("数量：")]),a("van-stepper",{attrs:{min:"1",max:e.level,integer:""},on:{change:function(a){return t.handleCheckAsset(e)}},model:{value:e.multiple,callback:function(a){t.$set(e,"multiple",a)},expression:"v.multiple"}})],1),a("div",{staticClass:"mt flexs"},[a("div",{staticClass:"num"},[t._v("周期：")]),a("van-stepper",{attrs:{min:"1",max:"12",integer:""},on:{change:function(a){return t.handleCheckAsset(e)}},model:{value:e.round,callback:function(a){t.$set(e,"round",a)},expression:"v.round"}})],1),a("div",{staticClass:"flexs"},[a("div",{staticClass:"mt",staticStyle:{"line-height":"20px"}},[t._v("倒计时：")]),a("van-count-down",{ref:"#"+e.id,refInFor:!0,staticClass:"mt countdown",attrs:{time:e.task.countDown,"auto-start":!1},on:{finish:function(a){return t.handleFinish(e)}}})],1),a("div",{staticClass:"mt",staticStyle:{"line-height":"20px"}},[t._v("完成时间："),a("span",{staticClass:"countdown"},[t._v(t._s(e.task.end_time?e.task.end_time:"无"))])]),a("div",{staticClass:"mt",staticStyle:{"line-height":"20px"}},[t._v("当前产品："),a("span",{staticClass:"countdown"},[t._v(t._s(e.task.end_time?e.task.product.num+"个"+e.task.product.name:"无"))])]),a("div",{staticClass:"mt",staticStyle:{"line-height":"20px"}},[t._v("提示信息： "),"无"==e.tipMsg?a("span",{staticClass:"tipMsg"},[t._v(t._s(e.tipMsg))]):a("span",{staticClass:"tipMsg",staticStyle:{color:"#ff976a"}},[t._v(t._s(e.tipMsg))])]),a("van-divider",{style:{color:"#1989fa",borderColor:"#1989fa"}})],1)})),0),a("div",t._l(t.chicken,(function(e,s){return a("div",{key:s},[a("h3",[t._v("鸡：#"+t._s(e.id)+"，等级："+t._s(e.level))]),a("div",{staticClass:"mt flexb"},[a("van-button",{attrs:{plain:"",type:"info",size:"small",disabled:e.autoSwitch},on:{click:function(a){return t.handleHarvest(e)}}},[t._v("收 取")]),1==e.lack?a("van-button",{attrs:{plain:"",type:"warning",size:"small",disabled:e.autoSwitch},on:{click:function(a){return t.handleProduce(e)}}},[t._v("喂 养")]):a("van-button",{attrs:{plain:"",type:"info",size:"small",disabled:e.autoSwitch},on:{click:function(a){return t.handleProduce(e)}}},[t._v("喂 养")]),a("van-button",{attrs:{plain:"",type:"info",size:"small"},on:{click:function(a){return t.handleCalc(e)}}},[t._v("计 算")]),a("van-icon",{attrs:{name:"bag-o",size:"25"},on:{click:function(e){t.showProduct=!0}}}),a("div",{staticStyle:{margin:"auto 0px"}},[a("van-switch",{attrs:{size:"20px",disabled:null===e.workid},on:{change:function(a){return t.handleSwitchCheck(e)},click:function(a){return t.handleSwitchClick(e)}},model:{value:e.autoSwitch,callback:function(a){t.$set(e,"autoSwitch",a)},expression:"v.autoSwitch"}}),a("div",{staticClass:"fr"},[t._v("自动")])],1)],1),a("van-radio-group",{staticClass:"mt",attrs:{direction:"horizontal"},on:{change:function(a){return t.handleCheckAsset(e)}},model:{value:e.workid,callback:function(a){t.$set(e,"workid",a)},expression:"v.workid"}},[a("van-radio",{attrs:{name:"8"}},[t._v("鸡蛋")])],1),a("div",{staticClass:"mt flexs"},[a("div",{staticClass:"num"},[t._v("数量：")]),a("van-stepper",{attrs:{min:"1",max:e.level,integer:""},on:{change:function(a){return t.handleCheckAsset(e)}},model:{value:e.multiple,callback:function(a){t.$set(e,"multiple",a)},expression:"v.multiple"}})],1),a("div",{staticClass:"mt flexs"},[a("div",{staticClass:"num"},[t._v("周期：")]),a("van-stepper",{attrs:{min:"1",max:"12",integer:""},on:{change:function(a){return t.handleCheckAsset(e)}},model:{value:e.round,callback:function(a){t.$set(e,"round",a)},expression:"v.round"}})],1),a("div",{staticClass:"flexs"},[a("div",{staticClass:"mt",staticStyle:{"line-height":"20px"}},[t._v("倒计时：")]),a("van-count-down",{ref:"#"+e.id,refInFor:!0,staticClass:"mt countdown",attrs:{time:e.task.countDown,"auto-start":!1},on:{finish:function(a){return t.handleFinish(e)}}})],1),a("div",{staticClass:"mt",staticStyle:{"line-height":"20px"}},[t._v("完成时间："),a("span",{staticClass:"countdown"},[t._v(t._s(e.task.end_time?e.task.end_time:"无"))])]),a("div",{staticClass:"mt",staticStyle:{"line-height":"20px"}},[t._v("当前产品："),a("span",{staticClass:"countdown"},[t._v(t._s(e.task.end_time?e.task.product.num+"个"+e.task.product.name:"无"))])]),a("div",{staticClass:"mt",staticStyle:{"line-height":"20px"}},[t._v("提示信息： "),"无"==e.tipMsg?a("span",{staticClass:"tipMsg"},[t._v(t._s(e.tipMsg))]):a("span",{staticClass:"tipMsg",staticStyle:{color:"#ff976a"}},[t._v(t._s(e.tipMsg))])]),a("van-divider",{style:{color:"#1989fa",borderColor:"#1989fa"}})],1)})),0)]),a("van-tab",{staticClass:"mytab",attrs:{title:"订单",name:"order"}},[a("div",t._l(t.orders,(function(e,s){return a("div",{key:s},[a("h3",[t._v(t._s(s+1+". ")+t._s(e.orderName)+"："+t._s(e.orderNum)+"，成本："+t._s(e.cost)+"，收入："+t._s(parseFloat(e.pay).toFixed(2))+"，利润："+t._s(e.profit))]),a("div",{staticClass:"mt flexb"},[1==e.lack?a("van-button",{attrs:{plain:"",type:"warning",size:"small",disabled:e.autoSwitch},on:{click:function(a){return t.handleDelivery(e)}}},[t._v("发 送")]):a("van-button",{attrs:{plain:"",type:"info",size:"small",disabled:e.autoSwitch},on:{click:function(a){return t.handleDelivery(e)}}},[t._v("发 送")]),a("van-icon",{attrs:{name:"bag-o",size:"25"},on:{click:function(e){t.showProduct=!0}}}),a("div",{staticStyle:{margin:"auto 0px"}},[a("van-switch",{attrs:{size:"20px"},on:{change:function(a){return t.handleSwitchCheck2(e)}},model:{value:e.autoSwitch,callback:function(a){t.$set(e,"autoSwitch",a)},expression:"v.autoSwitch"}}),a("div",{staticClass:"fr"},[t._v("自动")])],1)],1),t._l(e.trigger,(function(n,i){return a("div",{key:s+i,staticClass:"mt flexs"},[a("div",{staticClass:"num"},[t._v("触发值：")]),a("van-stepper",{attrs:{min:n.min,integer:""},on:{change:function(a){return t.handleCheckOrderAsset(e)}},model:{value:n.value,callback:function(e){t.$set(n,"value",e)},expression:"w.value"}}),a("div",{staticClass:"num2"},[t._v(t._s(n.name))])],1)})),a("div",{staticClass:"flexs"},[a("div",{staticClass:"mt",staticStyle:{"line-height":"20px"}},[t._v("倒计时：")]),a("van-count-down",{ref:"O"+e.id,refInFor:!0,staticClass:"mt countdown",attrs:{time:e.order.countDown,"auto-start":!1},on:{finish:function(a){return t.handleFinish2(e)}}})],1),a("div",{staticClass:"mt",staticStyle:{"line-height":"20px"}},[t._v("完成时间："),a("span",{staticClass:"countdown"},[t._v(t._s(e.order.countDown?e.order.end_time:"无"))])]),a("div",{staticClass:"mt",staticStyle:{"line-height":"20px"}},[t._v("提示信息： "),"无"==e.tipMsg?a("span",{staticClass:"tipMsg"},[t._v(t._s(e.tipMsg))]):0==e.autoSwitch?a("span",{staticClass:"tipMsg"},[t._v(t._s("无"))]):a("span",{staticClass:"tipMsg",staticStyle:{color:"#ff976a"}},[t._v(t._s(e.tipMsg))])]),a("van-divider",{style:{color:"#1989fa",borderColor:"#1989fa"}})],2)})),0)]),a("van-tab",{staticClass:"mytab",attrs:{title:"日志",name:"log"}},[a("div",[a("div",{staticClass:"flexb",staticStyle:{"align-items":"center"}},[a("h3",[t._v("日志：")]),a("van-button",{staticClass:"copy",attrs:{plain:"",type:"info",size:"small","data-clipboard-action":"copy","data-clipboard-target":".content"}},[t._v("复 制")])],1),a("div",{staticClass:"content"},t._l(t.logMsg,(function(e,s){return a("div",{key:s},[t._v(" "+t._s(s)+". "+t._s(e)+" ")])})),0)])])],1):t._e(),a("van-popup",{attrs:{position:"bottom"},model:{value:t.showProduct,callback:function(e){t.showProduct=e},expression:"showProduct"}},[a("div",{staticClass:"flexa",staticStyle:{margin:"10px"}},[a("div",[a("div",[t._v("麦子："+t._s(parseInt(t.assets.WHEAT)||"0"))]),a("div",[t._v("玉米："+t._s(parseInt(t.assets.CORN)||"0"))]),a("div",[t._v("胡萝卜："+t._s(parseInt(t.assets.CARROT)||"0"))]),a("div",[t._v("牛饲料："+t._s(parseInt(t.assets.COWFOOD)||"0"))]),a("div",[t._v("鸡饲料："+t._s(parseInt(t.assets.CHKFOOD)||"0"))]),a("div",[t._v("羊饲料："+t._s(parseInt(t.assets.SHPFOOD)||"0"))]),a("div",[t._v("牛奶："+t._s(parseInt(t.assets.MILK)||"0"))]),a("div",[t._v("鸡蛋："+t._s(parseInt(t.assets.EGG)||"0"))]),a("div",[t._v("羊毛："+t._s(parseInt(t.assets.WOOL)||"0"))]),a("div",[t._v("面包："+t._s(parseInt(t.assets.BREAD)||"0"))]),a("div",[t._v("曲奇："+t._s(parseInt(t.assets.COOKIE)||"0"))]),a("div",[t._v("蛋糕："+t._s(parseInt(t.assets.CAKE)||"0"))])]),a("div",[a("div",[t._v("甘蔗："+t._s(parseInt(t.assets.SUGCANE)||"0"))]),a("div",[t._v("棉花："+t._s(parseInt(t.assets.COTTON)||"0"))]),a("div",[t._v("砂糖："+t._s(parseInt(t.assets.SUGAR)||"0"))]),a("div",[t._v("糖浆："+t._s(parseInt(t.assets.SYRUP)||"0"))]),a("div",[t._v("焦糖："+t._s(parseInt(t.assets.CARAMEL)||"0"))]),a("div",[t._v("棉布："+t._s(parseInt(t.assets.CLOTH)||"0"))]),a("div",[t._v("纺纱："+t._s(parseInt(t.assets.YARN)||"0"))]),a("div",[t._v("丝绸："+t._s(parseInt(t.assets.SILK)||"0"))]),a("div",[t._v("衬衫："+t._s(parseInt(t.assets.SHIRT)||"0"))]),a("div",[t._v("毛衣："+t._s(parseInt(t.assets.SWEATER)||"0"))]),a("div",[t._v("外套："+t._s(parseInt(t.assets.COAT)||"0"))])]),a("div",[a("div",[t._v("绿钞："+t._s(t.assets.DCASH||"0"))]),a("div",[t._v("红宝石："+t._s(parseInt(t.assets.RUBY)||"0"))]),a("div",[t._v("绿宝石："+t._s(parseInt(t.assets.BERYL)||"0"))]),a("div",[t._v("黄宝石："+t._s(parseInt(t.assets.TOPAZ)||"0"))]),a("div",[t._v("DFS: "+t._s(t.assets.DFS||"0"))]),a("div",[t._v("USDC："+t._s(t.assets.USDC||"0"))]),a("div",[t._v("DFG："+t._s(t.assets.DFG||"0"))]),a("div",[t._v("TAG："+t._s(t.assets.TAG||"0"))])])])]),a("van-popup",{attrs:{position:"top"},model:{value:t.showCalc,callback:function(e){t.showCalc=e},expression:"showCalc"}},[a("div",{staticStyle:{margin:"10px"}},[a("div",[t._v("需求资产："+t._s(t.requireAsset))]),a("div",[t._v("生成资产："+t._s(t.createAsset))]),a("div",[t._v("需求时间："+t._s(t.requireTime)+" 分钟 | "+t._s(t.requireTime/60)+" 小时")]),a("div",[t._v("完成时间："+t._s(t.endTime))])])]),a("el-dialog",{attrs:{title:"节点设置",top:"3vh",visible:t.showNodeSetDialog,width:"90%",center:""},on:{"update:visible":function(e){t.showNodeSetDialog=e}}},[a("van-list",{staticStyle:{overflow:"scroll",height:"400px"}},[a("van-radio-group",{model:{value:t.curNode,callback:function(e){t.curNode=e},expression:"curNode"}},t._l(t.nodeList,(function(e,s){return a("van-cell",{key:s},[a("van-radio",{attrs:{name:s}},[a("div",{staticClass:"ml-20"},[a("div",[a("span",{staticClass:"rmr-2"},[t._v(t._s(e.name))]),a("span",{class:{"text-green":e.delay<1e3,"color-warning":e.delay<3e3&&e.delay>=1e3,"text-red":e.delay>=3e3||!e.delay}},[t._v(t._s(e.delay||"- ")+"ms")])]),a("div",{staticClass:"text-secondary"},[t._v(t._s(e.host))])])])],1)})),1)],1),a("div",{staticClass:"d-flex justify-content-start rmt-3"},[a("div",{staticClass:"d-flex align-items-center w-70 flex-none"}),a("div",{staticClass:"d-flex justify-content-between flex-grow-1"},[a("el-button",{attrs:{type:"primary",size:"medium",plain:""},on:{click:function(e){return t.handleNodeSet("cancel")}}},[t._v("取消")]),a("el-button",{attrs:{type:"primary",size:"medium",plain:""},on:{click:function(e){return t.handleNodeSet("confirm")}}},[t._v("确认")])],1)])],1)],1)}),[],!1,null,null,null).exports,U=a("365c"),L=(a("c194"),a("7744")),Y=(a("2994"),a("2bdd")),H=(a("ac1e"),a("543e")),J=(a("bda7"),a("5e46")),B=(a("da3c"),a("0b33")),q=(a("e17f"),a("2241")),K=(a("c3a6"),a("ad06")),W=(a("8a58"),a("e41f")),Z=(a("414a"),a("7a823")),V=(a("2b28"),a("9ed2")),Q=(a("f06a"),a("20fb")),X=(a("b000"),a("1a23")),tt=(a("e7e5"),a("d399")),et=(a("66b9"),a("b650")),at=(a("a44c"),a("e27c")),st=(a("4ddd"),a("9f14"));s.default.use(st.a),s.default.use(at.a),s.default.use(et.a),s.default.use(tt.a),s.default.use(X.a),s.default.use(Q.a),s.default.use(V.a),s.default.use(Z.a),s.default.use(W.a),s.default.use(K.a),s.default.use(q.a),s.default.use(B.a),s.default.use(J.a),s.default.use(H.a),s.default.use(Y.a),s.default.use(L.a);var nt=a("a447"),it=a.n(nt),rt=a("a578"),ot=a.n(rt),ct=a("df33"),lt=a.n(ct),ut=a("eedf"),dt=a.n(ut);a("1951"),a("a7cc"),a("aaa5"),a("fd71");s.default.use(dt.a),s.default.use(lt.a),s.default.use(ot.a),s.default.use(it.a);a("c35d");s.default.prototype.$api=U.default,s.default.config.productionTip=!1,new s.default({store:S.a,render:function(t){return t(z)}}).$mount("#app")},"5c0b":function(t,e,a){"use strict";a("9c0c")},6:function(t,e){},"62e45":function(t,e,a){"use strict";a.r(e),function(t){a.d(e,"unZip",(function(){return c})),a.d(e,"dealZip",(function(){return l})),a.d(e,"get_table_rows",(function(){return u})),a.d(e,"get_swap_summary",(function(){return d})),a.d(e,"get_swap_counter",(function(){return h})),a.d(e,"get_acc_follow",(function(){return f})),a.d(e,"get_all_orders",(function(){return p})),a.d(e,"get_info",(function(){return m})),a.d(e,"get_markets",(function(){return g})),a.d(e,"get_price",(function(){return v})),a.d(e,"get_currency_stats",(function(){return k})),a.d(e,"get_currency_balance",(function(){return b})),a.d(e,"get_market_info",(function(){return w})),a.d(e,"get_swap_lasters",(function(){return S})),a.d(e,"get_account",(function(){return _})),a.d(e,"reg_newaccount",(function(){return y})),a.d(e,"pushFreeCpu",(function(){return C})),a.d(e,"pushFreeCpu2",(function(){return x}));a("0d03"),a("d3b7"),a("25f0"),a("c975"),a("b0c0"),a("99af"),a("b680"),a("a9e3");var s=a("bc3a"),n=a.n(s),i=a("4360"),r=a("470b");function o(){return i.a.state.sys.baseConfig.node.url}function c(e){return r.inflateSync(new t(e,"base64")).toString()}function l(t){var e=JSON.stringify(t);return r.deflateSync(e).toString("base64")}function u(t){return new Promise((function(e,a){var s=o();n.a.post("".concat(s,"/v1/chain/get_table_rows"),JSON.stringify(t)).then((function(t){var a=Object.assign(t.data,{});e({status:200===t.status,result:a,code:200})}),(function(t){-1!==t.toString().indexOf("Network Error")?e({status:!1,result:{},code:503}):a(t)}))}))}function d(){return new Promise((function(t,e){n.a.get("https://api.yfc.one/dfs/swap/summary2").then((function(e){var a=Object.assign(e.data,{});t({status:200===e.status,result:a})}),(function(t){e(t)}))}))}function h(){return new Promise((function(t,e){n.a.get("https://api.yfc.one/dfs/swap/counter").then((function(e){var a=Object.assign(e.data,{});t({status:200===e.status,result:a})}),(function(t){e(t)}))}))}function f(){return new Promise((function(t,e){var a=o(),s=i.a.state.app.account.name,r={code:"dfsusersinfo",scope:" ".concat(s),table:"likes",json:!0,limit:1e3};n.a.post("".concat(a,"/v1/chain/get_table_rows"),JSON.stringify(r)).then((function(e){var a=Object.assign(e.data,{}),s=a.rows||[];i.a.dispatch("setAccFollow",s),t({status:200===e.status,result:a})}),(function(t){e(t)}))}))}function p(){return new Promise((function(t,e){n.a.get("https://api.yfc.one/pddex2/orders",JSON.stringify({})).then((function(e){var a=Object.assign(e.data,{});t({status:200===e.status,result:a})}),(function(t){e(t)}))}))}function m(t){return new Promise((function(e,a){n.a.get("".concat(t,"/v1/chain/get_info"),{timeout:1e4}).then((function(t){var a=Object.assign(t.data,{});e({status:200===t.status,result:a})}),(function(t){a(t)}))}))}function g(){return new Promise((function(t,e){n.a.get("https://api.yfc.one/dfs/common/markets",{timeout:5e3}).then((function(e){var a=c(e.data),s={rows:JSON.parse(a)};t({status:200===e.status,result:s})}),(function(t){e(t)}))}))}function v(){return new Promise((function(t,e){n.a.get("https://api.yfc.one/dfs/common/get_price").then((function(e){var a=e.data;t({status:200===e.status,result:a})}),(function(t){e(t)}))}))}function k(t){return new Promise((function(e,a){var s=o();n.a.post("".concat(s,"/v1/chain/get_currency_stats"),JSON.stringify(t)).then((function(t){var a=Object.assign(t.data,{});e({status:200===t.status,result:a})}),(function(t){a(t)}))}))}function b(t){return new Promise((function(e,a){var s=o();n.a.post("".concat(s,"/v1/chain/get_currency_balance"),JSON.stringify(t)).then((function(a){var s=a.data;s.length||(s=["".concat(Number(0).toFixed(t.decimal||4)," ").concat(t.symbol)]),e({status:200===a.status,result:s[0]})}),(function(t){a(t)}))}))}function w(t){return new Promise((function(e,a){n.a.get("https://api.yfc.one/dfs/apy/apy-by-mid",{params:t}).then((function(t){var a=t.data;e({status:200===t.status,result:a})}),(function(t){a(t)}))}))}function S(t){return new Promise((function(e,a){n.a.get("https://api.yfc.one/dfs/swap/marketlog",{params:t}).then((function(t){var a=t.data;e({status:200===t.status,result:a})}),(function(t){a(t)}))}))}function _(t){return new Promise((function(e,a){var s=o(),i={account_name:"".concat(t)};n.a.post("".concat(s,"/v1/chain/get_account"),JSON.stringify(i)).then((function(t){var a=Object.assign(t.data,{});e({status:200===t.status,result:a})}),(function(t){a(t)}))}))}function y(t){return new Promise((function(e,a){var s={username:t.account,publickey:t.publickey};n.a.post("https://api.yfc.one/account/newaccount",JSON.stringify(s)).then((function(t){var a=Object.assign(t.data,{});console.log(a),e({status:200===t.status,result:a})}),(function(t){a(t)}))}))}function C(t){return new Promise((function(e,a){n.a.post("https://api.yfc.one/account/pushaction",t).then((function(t){var a=Object.assign(t.data,{});e({status:200===t.status,result:a})}),(function(t){a(t)}))}))}function x(t){return new Promise((function(e,a){n.a.post("https://api.yfc.one/account/pushaction2",t).then((function(t){var a=Object.assign(t.data,{});console.log(a),e({status:200===a.code,result:a})}),(function(t){a(t)}))}))}}.call(this,a("b639").Buffer)},7:function(t,e){},8:function(t,e){},9:function(t,e){},"9c0c":function(t,e,a){},"9f19":function(t,e,a){var s={"./index.js":"365c","./list.js":"62e45"};function n(t){var e=i(t);return a(e)}function i(t){if(!a.o(s,t)){var e=new Error("Cannot find module '"+t+"'");throw e.code="MODULE_NOT_FOUND",e}return s[t]}n.keys=function(){return Object.keys(s)},n.resolve=i,t.exports=n,n.id="9f19"},c35d:function(t,e,a){},d8ad:function(t,e,a){"use strict";var s=new(a("2b0e").default);e.a=s}});